
<!DOCTYPE html>


<html lang="en" data-content_root="../" >

  <head>
    <meta charset="utf-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" /><meta name="viewport" content="width=device-width, initial-scale=1" />

    <title>Dive into BBHR18-FRI Soundness &#8212; Polynomial Commitment Schemes</title>
  
  
  
  <script data-cfasync="false">
    document.documentElement.dataset.mode = localStorage.getItem("mode") || "";
    document.documentElement.dataset.theme = localStorage.getItem("theme") || "";
  </script>
  
  <!-- Loaded before other Sphinx assets -->
  <link href="../_static/styles/theme.css?digest=dfe6caa3a7d634c4db9b" rel="stylesheet" />
<link href="../_static/styles/bootstrap.css?digest=dfe6caa3a7d634c4db9b" rel="stylesheet" />
<link href="../_static/styles/pydata-sphinx-theme.css?digest=dfe6caa3a7d634c4db9b" rel="stylesheet" />

  
  <link href="../_static/vendor/fontawesome/6.5.2/css/all.min.css?digest=dfe6caa3a7d634c4db9b" rel="stylesheet" />
  <link rel="preload" as="font" type="font/woff2" crossorigin href="../_static/vendor/fontawesome/6.5.2/webfonts/fa-solid-900.woff2" />
<link rel="preload" as="font" type="font/woff2" crossorigin href="../_static/vendor/fontawesome/6.5.2/webfonts/fa-brands-400.woff2" />
<link rel="preload" as="font" type="font/woff2" crossorigin href="../_static/vendor/fontawesome/6.5.2/webfonts/fa-regular-400.woff2" />

    <link rel="stylesheet" type="text/css" href="../_static/pygments.css?v=b76e3c8a" />
    <link rel="stylesheet" type="text/css" href="../_static/styles/sphinx-book-theme.css?v=eba8b062" />
    <link rel="stylesheet" type="text/css" href="../_static/togglebutton.css?v=13237357" />
    <link rel="stylesheet" type="text/css" href="../_static/copybutton.css?v=76b2166b" />
    <link rel="stylesheet" type="text/css" href="../_static/mystnb.4510f1fc1dee50b3e5859aac5469c37c29e427902b24a333a5f9fcb2f0b3ac41.css" />
    <link rel="stylesheet" type="text/css" href="../_static/sphinx-thebe.css?v=4fa983c6" />
    <link rel="stylesheet" type="text/css" href="../_static/sphinx-design.min.css?v=95c83b7e" />
  
  <!-- Pre-loaded scripts that we'll load fully later -->
  <link rel="preload" as="script" href="../_static/scripts/bootstrap.js?digest=dfe6caa3a7d634c4db9b" />
<link rel="preload" as="script" href="../_static/scripts/pydata-sphinx-theme.js?digest=dfe6caa3a7d634c4db9b" />
  <script src="../_static/vendor/fontawesome/6.5.2/js/all.min.js?digest=dfe6caa3a7d634c4db9b"></script>

    <script src="../_static/documentation_options.js?v=9eb32ce0"></script>
    <script src="../_static/doctools.js?v=9a2dae69"></script>
    <script src="../_static/sphinx_highlight.js?v=dc90522c"></script>
    <script src="../_static/clipboard.min.js?v=a7894cd8"></script>
    <script src="../_static/copybutton.js?v=f281be69"></script>
    <script src="../_static/scripts/sphinx-book-theme.js?v=887ef09a"></script>
    <script>let toggleHintShow = 'Click to show';</script>
    <script>let toggleHintHide = 'Click to hide';</script>
    <script>let toggleOpenOnPrint = 'true';</script>
    <script src="../_static/togglebutton.js?v=4a39c7ea"></script>
    <script>var togglebuttonSelector = '.toggle, .admonition.dropdown';</script>
    <script src="../_static/design-tabs.js?v=f930bc37"></script>
    <script>const THEBE_JS_URL = "https://unpkg.com/thebe@0.8.2/lib/index.js"; const thebe_selector = ".thebe,.cell"; const thebe_selector_input = "pre"; const thebe_selector_output = ".output, .cell_output"</script>
    <script async="async" src="../_static/sphinx-thebe.js?v=c100c467"></script>
    <script>var togglebuttonSelector = '.toggle, .admonition.dropdown';</script>
    <script>const THEBE_JS_URL = "https://unpkg.com/thebe@0.8.2/lib/index.js"; const thebe_selector = ".thebe,.cell"; const thebe_selector_input = "pre"; const thebe_selector_output = ".output, .cell_output"</script>
    <script>window.MathJax = {"options": {"processHtmlClass": "tex2jax_process|mathjax_process|math|output_area"}}</script>
    <script defer="defer" src="https://cdn.jsdelivr.net/npm/mathjax@3/es5/tex-mml-chtml.js"></script>
    <script>DOCUMENTATION_OPTIONS.pagename = 'fri/BBHR18-FRI';</script>
    <link rel="index" title="Index" href="../genindex.html" />
    <link rel="search" title="Search" href="../search.html" />
  <meta name="viewport" content="width=device-width, initial-scale=1"/>
  <meta name="docsearch:language" content="en"/>
  </head>
  
  
  <body data-bs-spy="scroll" data-bs-target=".bd-toc-nav" data-offset="180" data-bs-root-margin="0px 0px -60%" data-default-mode="">

  
  
  <div id="pst-skip-link" class="skip-link d-print-none"><a href="#main-content">Skip to main content</a></div>
  
  <div id="pst-scroll-pixel-helper"></div>
  
  <button type="button" class="btn rounded-pill" id="pst-back-to-top">
    <i class="fa-solid fa-arrow-up"></i>Back to top</button>

  
  <input type="checkbox"
          class="sidebar-toggle"
          id="pst-primary-sidebar-checkbox"/>
  <label class="overlay overlay-primary" for="pst-primary-sidebar-checkbox"></label>
  
  <input type="checkbox"
          class="sidebar-toggle"
          id="pst-secondary-sidebar-checkbox"/>
  <label class="overlay overlay-secondary" for="pst-secondary-sidebar-checkbox"></label>
  
  <div class="search-button__wrapper">
    <div class="search-button__overlay"></div>
    <div class="search-button__search-container">
<form class="bd-search d-flex align-items-center"
      action="../search.html"
      method="get">
  <i class="fa-solid fa-magnifying-glass"></i>
  <input type="search"
         class="form-control"
         name="q"
         id="search-input"
         placeholder="Search this book..."
         aria-label="Search this book..."
         autocomplete="off"
         autocorrect="off"
         autocapitalize="off"
         spellcheck="false"/>
  <span class="search-button__kbd-shortcut"><kbd class="kbd-shortcut__modifier">Ctrl</kbd>+<kbd>K</kbd></span>
</form></div>
  </div>

  <div class="pst-async-banner-revealer d-none">
  <aside id="bd-header-version-warning" class="d-none d-print-none" aria-label="Version warning"></aside>
</div>

  
    <header class="bd-header navbar navbar-expand-lg bd-navbar d-print-none">
    </header>
  

  <div class="bd-container">
    <div class="bd-container__inner bd-page-width">
      
      
      
        
      
      <div class="bd-sidebar-primary bd-sidebar">
        

  
  <div class="sidebar-header-items sidebar-primary__section">
    
    
    
    
  </div>
  
    <div class="sidebar-primary-items__start sidebar-primary__section">
        <div class="sidebar-primary-item">

  
    
  

<a class="navbar-brand logo" href="../intro.html">
  
  
  
  
  
    
    
      
    
    
    <img src="../_static/logo.png" class="logo__image only-light" alt="Polynomial Commitment Schemes - Home"/>
    <script>document.write(`<img src="../_static/logo.png" class="logo__image only-dark" alt="Polynomial Commitment Schemes - Home"/>`);</script>
  
  
</a></div>
        <div class="sidebar-primary-item">

 <script>
 document.write(`
   <button class="btn search-button-field search-button__button" title="Search" aria-label="Search" data-bs-placement="bottom" data-bs-toggle="tooltip">
    <i class="fa-solid fa-magnifying-glass"></i>
    <span class="search-button__default-text">Search</span>
    <span class="search-button__kbd-shortcut"><kbd class="kbd-shortcut__modifier">Ctrl</kbd>+<kbd class="kbd-shortcut__modifier">K</kbd></span>
   </button>
 `);
 </script></div>
        <div class="sidebar-primary-item"><nav class="bd-links bd-docs-nav" aria-label="Main">
    <div class="bd-toc-item navbar-nav active">
        
        <ul class="nav bd-sidenav bd-sidenav__home-link">
            <li class="toctree-l1">
                <a class="reference internal" href="../intro.html">
                    Welcome to the land of PCS!
                </a>
            </li>
        </ul>
        <p aria-level="2" class="caption" role="heading"><span class="caption-text">Basefold</span></p>
<ul class="nav bd-sidenav">
<li class="toctree-l1"><a class="reference internal" href="../basefold/basefold-01.zh.html">Basefold 笔记：可折叠线性编码</a></li>
<li class="toctree-l1"><a class="reference internal" href="../basefold/basefold-02.zh.html">Basefold 笔记：IOPP</a></li>
<li class="toctree-l1"><a class="reference internal" href="../basefold/basefold-03.zh.html">Basefold 笔记： MLE 求值证明</a></li>
<li class="toctree-l1"><a class="reference internal" href="../basefold/basefold-04.zh.html">Basefold 笔记：Random Foldable Codes</a></li>
<li class="toctree-l1"><a class="reference internal" href="../basefold/basefold-05.zh.html">Basefold 笔记：IOPP 可靠性分析</a></li>
</ul>
<p aria-level="2" class="caption" role="heading"><span class="caption-text">FRI</span></p>
<ul class="nav bd-sidenav">
<li class="toctree-l1"><a class="reference internal" href="BBHR18-FRI.zh.html">[BBHR18] FRI 论文 soundness 解析</a></li>
<li class="toctree-l1"><a class="reference internal" href="BCIKS20-proximity-gaps.zh.html">[BCIKS20] Proximity Gaps 论文 soundness 解析</a></li>
<li class="toctree-l1"><a class="reference internal" href="fri-proximity-gap.zh.html">Proximity Gaps 与 Correlated Agreement：FRI 安全性证明的核心</a></li>
<li class="toctree-l1"><a class="reference internal" href="stir.zh.html">STIR: 提升码率来降低查询复杂度</a></li>
<li class="toctree-l1"><a class="reference internal" href="whir.zh.html">WHIR: Reed-Solomon Proximity Testing with Super-Fast Verification</a></li>
<li class="toctree-l1"><a class="reference internal" href="deepfold.zh.html">DeepFold 笔记：协议概览</a></li>
</ul>
<p aria-level="2" class="caption" role="heading"><span class="caption-text">FRI Binius</span></p>
<ul class="nav bd-sidenav">
<li class="toctree-l1"><a class="reference internal" href="../fri-binius/binius-01.zh.html">Notes on FRI-Binius (Part I): Binary Towers</a></li>
<li class="toctree-l1"><a class="reference internal" href="../fri-binius/binius-02.zh.html">Notes on Binius (Part II): Subspace Polynomial</a></li>
</ul>
<p aria-level="2" class="caption" role="heading"><span class="caption-text">Zeromorph</span></p>
<ul class="nav bd-sidenav">
<li class="toctree-l1"><a class="reference internal" href="../zeromorph/zeromorph.zh.html">ZeroMorph 笔记</a></li>
<li class="toctree-l1"><a class="reference internal" href="../zeromorph/zeromorph-fri.zh.html">Zeromorph-PCS : 对接 FRI</a></li>
<li class="toctree-l1"><a class="reference internal" href="../zeromorph/zeromorph_mapping_tutorial.html">Select SageMath Kernel First</a></li>


</ul>

    </div>
</nav></div>
    </div>
  
  
  <div class="sidebar-primary-items__end sidebar-primary__section">
  </div>
  
  <div id="rtd-footer-container"></div>


      </div>
      
      <main id="main-content" class="bd-main" role="main">
        
        

<div class="sbt-scroll-pixel-helper"></div>

          <div class="bd-content">
            <div class="bd-article-container">
              
              <div class="bd-header-article d-print-none">
<div class="header-article-items header-article__inner">
  
    <div class="header-article-items__start">
      
        <div class="header-article-item"><button class="sidebar-toggle primary-toggle btn btn-sm" title="Toggle primary sidebar" data-bs-placement="bottom" data-bs-toggle="tooltip">
  <span class="fa-solid fa-bars"></span>
</button></div>
      
    </div>
  
  
    <div class="header-article-items__end">
      
        <div class="header-article-item">

<div class="article-header-buttons">





<div class="dropdown dropdown-source-buttons">
  <button class="btn dropdown-toggle" type="button" data-bs-toggle="dropdown" aria-expanded="false" aria-label="Source repositories">
    <i class="fab fa-github"></i>
  </button>
  <ul class="dropdown-menu">
      
      
      
      <li><a href="https://github.com/executablebooks/jupyter-book" target="_blank"
   class="btn btn-sm btn-source-repository-button dropdown-item"
   title="Source repository"
   data-bs-placement="left" data-bs-toggle="tooltip"
>
  

<span class="btn__icon-container">
  <i class="fab fa-github"></i>
  </span>
<span class="btn__text-container">Repository</span>
</a>
</li>
      
      
      
      
      <li><a href="https://github.com/executablebooks/jupyter-book/issues/new?title=Issue%20on%20page%20%2Ffri/BBHR18-FRI.html&body=Your%20issue%20content%20here." target="_blank"
   class="btn btn-sm btn-source-issues-button dropdown-item"
   title="Open an issue"
   data-bs-placement="left" data-bs-toggle="tooltip"
>
  

<span class="btn__icon-container">
  <i class="fas fa-lightbulb"></i>
  </span>
<span class="btn__text-container">Open issue</span>
</a>
</li>
      
  </ul>
</div>






<div class="dropdown dropdown-download-buttons">
  <button class="btn dropdown-toggle" type="button" data-bs-toggle="dropdown" aria-expanded="false" aria-label="Download this page">
    <i class="fas fa-download"></i>
  </button>
  <ul class="dropdown-menu">
      
      
      
      <li><a href="../_sources/fri/BBHR18-FRI.md" target="_blank"
   class="btn btn-sm btn-download-source-button dropdown-item"
   title="Download source file"
   data-bs-placement="left" data-bs-toggle="tooltip"
>
  

<span class="btn__icon-container">
  <i class="fas fa-file"></i>
  </span>
<span class="btn__text-container">.md</span>
</a>
</li>
      
      
      
      
      <li>
<button onclick="window.print()"
  class="btn btn-sm btn-download-pdf-button dropdown-item"
  title="Print to PDF"
  data-bs-placement="left" data-bs-toggle="tooltip"
>
  

<span class="btn__icon-container">
  <i class="fas fa-file-pdf"></i>
  </span>
<span class="btn__text-container">.pdf</span>
</button>
</li>
      
  </ul>
</div>




<button onclick="toggleFullScreen()"
  class="btn btn-sm btn-fullscreen-button"
  title="Fullscreen mode"
  data-bs-placement="bottom" data-bs-toggle="tooltip"
>
  

<span class="btn__icon-container">
  <i class="fas fa-expand"></i>
  </span>

</button>



<script>
document.write(`
  <button class="btn btn-sm nav-link pst-navbar-icon theme-switch-button" title="light/dark" aria-label="light/dark" data-bs-placement="bottom" data-bs-toggle="tooltip">
    <i class="theme-switch fa-solid fa-sun fa-lg" data-mode="light"></i>
    <i class="theme-switch fa-solid fa-moon fa-lg" data-mode="dark"></i>
    <i class="theme-switch fa-solid fa-circle-half-stroke fa-lg" data-mode="auto"></i>
  </button>
`);
</script>


<script>
document.write(`
  <button class="btn btn-sm pst-navbar-icon search-button search-button__button" title="Search" aria-label="Search" data-bs-placement="bottom" data-bs-toggle="tooltip">
    <i class="fa-solid fa-magnifying-glass fa-lg"></i>
  </button>
`);
</script>
<button class="sidebar-toggle secondary-toggle btn btn-sm" title="Toggle secondary sidebar" data-bs-placement="bottom" data-bs-toggle="tooltip">
    <span class="fa-solid fa-list"></span>
</button>
</div></div>
      
    </div>
  
</div>
</div>
              
              

<div id="jb-print-docs-body" class="onlyprint">
    <h1>Dive into  BBHR18-FRI Soundness</h1>
    <!-- Table of contents -->
    <div id="print-main-content">
        <div id="jb-print-toc">
            
            <div>
                <h2> Contents </h2>
            </div>
            <nav aria-label="Page">
                <ul class="visible nav section-nav flex-column">
<li class="toc-h2 nav-item toc-entry"><a class="reference internal nav-link" href="#primary-problem">Primary Problem</a></li>
<li class="toc-h2 nav-item toc-entry"><a class="reference internal nav-link" href="#fri-properties">FRI Properties</a></li>
<li class="toc-h2 nav-item toc-entry"><a class="reference internal nav-link" href="#fri-protocol">FRI Protocol</a><ul class="nav section-nav flex-column">
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#definitions-and-notations">Definitions and Notations</a></li>
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#commit-phase">COMMIT Phase</a></li>
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#query-phase">QUERY Phase</a></li>
</ul>
</li>
<li class="toc-h2 nav-item toc-entry"><a class="reference internal nav-link" href="#main-properties-of-the-fri-protocol">Main Properties of the FRI Protocol</a><ul class="nav section-nav flex-column">
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#block-wise-distance-measure">Block-wise Distance Measure</a></li>
</ul>
</li>
<li class="toc-h2 nav-item toc-entry"><a class="reference internal nav-link" href="#theorem-1-completeness-proof">Theorem 1 Completeness Proof</a><ul class="nav section-nav flex-column">
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#introduction-of-proposition-1">Introduction of Proposition 1</a></li>
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#proof-of-lemma-1">Proof of Lemma 1</a></li>
</ul>
</li>
<li class="toc-h2 nav-item toc-entry"><a class="reference internal nav-link" href="#analysis-of-soundness-proof-in-theorem-1">Analysis of Soundness Proof in Theorem 1</a><ul class="nav section-nav flex-column">
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#round-consistency-and-distortion-set">Round Consistency and Distortion Set</a></li>
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#soundness-proof-idea">Soundness Proof Idea</a></li>
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#unique-decoding-radius-proof-of-lemma-4">Unique Decoding Radius — Proof of Lemma 4</a></li>
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#exceeding-the-unique-decoding-radius-proof-of-lemma-3">Exceeding the Unique Decoding Radius — Proof of Lemma 3</a></li>
</ul>
</li>
<li class="toc-h2 nav-item toc-entry"><a class="reference internal nav-link" href="#references">References</a></li>
</ul>
            </nav>
        </div>
    </div>
</div>

              
                
<div id="searchbox"></div>
                <article class="bd-article">
                  
  <section class="tex2jax_ignore mathjax_ignore" id="dive-into-bbhr18-fri-soundness">
<h1>Dive into  BBHR18-FRI Soundness<a class="headerlink" href="#dive-into-bbhr18-fri-soundness" title="Link to this heading">#</a></h1>
<ul class="simple">
<li><p>Jade Xie  <a class="reference external" href="mailto:jade&#37;&#52;&#48;secbit&#46;io">jade<span>&#64;</span>secbit<span>&#46;</span>io</a></p></li>
<li><p>Yu Guo <a class="reference external" href="mailto:yu&#46;guo&#37;&#52;&#48;secbit&#46;io">yu<span>&#46;</span>guo<span>&#64;</span>secbit<span>&#46;</span>io</a></p></li>
</ul>
<p>This article mainly focuses on explaining the paper [BBHR18b] published by Eli Ben-Sasson et al. in 2018, with emphasis on the completeness and soundness proofs of the FRI protocol. In this paper, they proposed a new IOPP (Interactive Oracle Proof of Proximity) for Reed-Solomon (RS) encoding, called FRI (Fast RS IOPP). Subsequently, in [BBHR18a], they used the FRI protocol to construct a practical ZK system, which is the STARK we are familiar with.</p>
<section id="primary-problem">
<h2>Primary Problem<a class="headerlink" href="#primary-problem" title="Link to this heading">#</a></h2>
<p>For a set of evaluations <span class="math notranslate nohighlight">\(S\)</span> in a finite field <span class="math notranslate nohighlight">\(\mathbb{F}\)</span>, assuming the number of elements in <span class="math notranslate nohighlight">\(S\)</span> is <span class="math notranslate nohighlight">\(N\)</span>, given a rate parameter <span class="math notranslate nohighlight">\(\rho \in (0,1]\)</span>, the encoding <span class="math notranslate nohighlight">\(\text{RS}[\mathbb{F},S,\rho]\)</span> represents the set of all functions <span class="math notranslate nohighlight">\(f: S \rightarrow \mathbb{F}\)</span>, where <span class="math notranslate nohighlight">\(f\)</span> is the evaluation of a polynomial of degree <span class="math notranslate nohighlight">\(d &lt; \rho N\)</span>, i.e., there exists a polynomial <span class="math notranslate nohighlight">\(\hat{f}\)</span> of degree <span class="math notranslate nohighlight">\(d &lt; \rho N\)</span> such that <span class="math notranslate nohighlight">\(f\)</span> and <span class="math notranslate nohighlight">\(\hat{f}\)</span> are consistent on <span class="math notranslate nohighlight">\(S\)</span>.</p>
<p>The main focus of the paper is the <em>RS proximity problem</em>: Assuming we can obtain an oracle about the function <span class="math notranslate nohighlight">\(f: S \rightarrow \mathbb{F}\)</span>, the Verifier needs to distinguish with high confidence and low query complexity which of the following situations <span class="math notranslate nohighlight">\(f\)</span> belongs to:</p>
<ol class="arabic simple">
<li><p><span class="math notranslate nohighlight">\(f \in \text{RS}[\mathbb{F},S,\rho]\)</span></p></li>
<li><p><span class="math notranslate nohighlight">\(\Delta(f, \text{RS}[\mathbb{F},S,\rho]) &gt; \delta\)</span></p></li>
</ol>
<p>In other words, either <span class="math notranslate nohighlight">\(f\)</span> is a codeword in the RS encoding <span class="math notranslate nohighlight">\(\text{RS}[\mathbb{F},S,\rho]\)</span>, or the relative Hamming distance between <span class="math notranslate nohighlight">\(f\)</span> and all codewords in <span class="math notranslate nohighlight">\(\text{RS}[\mathbb{F},S,\rho]\)</span> is greater than the proximity parameter <span class="math notranslate nohighlight">\(\delta\)</span>. A natural idea is that the verifier can query <span class="math notranslate nohighlight">\(d + 1\)</span> times and then determine which of the above situations <span class="math notranslate nohighlight">\(f\)</span> belongs to. If it belongs to the first case, accept; if it belongs to the second case, reject. The query complexity at this time is <span class="math notranslate nohighlight">\(d + 1 = \rho N\)</span>. When calculating the complexity of the Testing method, no additional information is provided to the verifier, so it is said that the computational complexity for the prover to try to convince the verifier that <span class="math notranslate nohighlight">\(f \in \text{RS}[\mathbb{F}, S,\rho]\)</span> is <span class="math notranslate nohighlight">\(0\)</span>, the number of interactions is <span class="math notranslate nohighlight">\(0\)</span>, and the length of the proof generated is <span class="math notranslate nohighlight">\(0\)</span>. Comparing the complexity of this method (Testing, [RS92]) with FRI, the table below shows ([BBHR18b]).</p>
<div class="pst-scrollable-table-container"><table class="table">
<thead>
<tr class="row-odd"><th class="head"><p></p></th>
<th class="head"><p>Prover Computation Complexity</p></th>
<th class="head"><p>Proof Length</p></th>
<th class="head"><p>Verifier Computation Complexity</p></th>
<th class="head"><p>Query Complexity</p></th>
<th class="head"><p>Round Complexity</p></th>
</tr>
</thead>
<tbody>
<tr class="row-even"><td><p>Testing [RS92]</p></td>
<td><p><span class="math notranslate nohighlight">\(0\)</span></p></td>
<td><p><span class="math notranslate nohighlight">\(0\)</span></p></td>
<td><p><span class="math notranslate nohighlight">\(\rho N \cdot \log^{O(1)}\)</span></p></td>
<td><p><span class="math notranslate nohighlight">\(\rho N\)</span></p></td>
<td><p><span class="math notranslate nohighlight">\(0\)</span></p></td>
</tr>
<tr class="row-odd"><td><p>FRI [BBHR18b]</p></td>
<td><p><span class="math notranslate nohighlight">\(&lt;6 \cdot N\)</span></p></td>
<td><p><span class="math notranslate nohighlight">\(&lt;\frac{N}{3}\)</span></p></td>
<td><p><span class="math notranslate nohighlight">\(\le 21 \cdot \log N\)</span></p></td>
<td><p><span class="math notranslate nohighlight">\(2 \log N\)</span></p></td>
<td><p><span class="math notranslate nohighlight">\(\frac{\log N}{2}\)</span></p></td>
</tr>
</tbody>
</table>
</div>
<p>As can be seen, the prover’s computational complexity in FRI is strictly linear, and the verifier’s computational complexity is strictly logarithmic, while the query complexity is logarithmic ([BBHR18b]).</p>
</section>
<section id="fri-properties">
<h2>FRI Properties<a class="headerlink" href="#fri-properties" title="Link to this heading">#</a></h2>
<p>As mentioned above, FRI is a type of IOPP. Below is the definition of IOPP.</p>
<p><strong>Definition 1</strong> [BBHR18b, Definition 1.1] (Interactive Oracle Proof of Proximity (IOPP)). An <span class="math notranslate nohighlight">\(\textbf{r}\)</span>-round Interactive Oracle Proof of Proximity (IOPP) <span class="math notranslate nohighlight">\(\textbf{S} = (\text{P}, \text{V})\)</span> is a (<span class="math notranslate nohighlight">\(r + 1\)</span>)-round IOP. We say <span class="math notranslate nohighlight">\(\textbf{S}\)</span> is an (<span class="math notranslate nohighlight">\(\textbf{r}\)</span>-round) IOPP for the error correcting code <span class="math notranslate nohighlight">\(C= \{f:S \rightarrow \Sigma\}\)</span> with soundness <span class="math notranslate nohighlight">\(\textbf{s}^{-}: (0,1] \rightarrow [0,1]\)</span> with respect to distance measure <span class="math notranslate nohighlight">\(\Delta\)</span> , if the following conditions hold:</p>
<ul class="simple">
<li><p><strong>First message format:</strong> the first prover message, denote <span class="math notranslate nohighlight">\(f^{(0)}\)</span> , is a purported codeword of <span class="math notranslate nohighlight">\(C\)</span> , i.e., <span class="math notranslate nohighlight">\(f^{(0)}: S \rightarrow \Sigma\)</span></p></li>
<li><p><strong>Completeness:</strong> <span class="math notranslate nohighlight">\(\Pr[\left \langle \text{P} \leftrightarrow \text{V} \right \rangle = \text{accept}|\Delta(f^{(0)}, C) = 0] = 1\)</span></p></li>
<li><p><strong>Soundness:</strong> For any <span class="math notranslate nohighlight">\(\text{P}^*\)</span> , <span class="math notranslate nohighlight">\(\Pr[\left \langle \text{P}^* \leftrightarrow \text{V} \right \rangle = \text{reject}|\Delta(f^{(0)}, C) = \delta] \ge \textbf{s}^{-}(\delta)\)</span></p></li>
</ul>
<p>This means that the Prover and Verifier will interact for <span class="math notranslate nohighlight">\(\textbf{r}\)</span> rounds, and need to satisfy three conditions.</p>
<ol class="arabic simple">
<li><p>The first message <span class="math notranslate nohighlight">\(f^{(0)}\)</span> is the codeword initially claimed by the Prover to be in <span class="math notranslate nohighlight">\(C\)</span>.</p></li>
<li><p>Completeness: For an honest Prover, if <span class="math notranslate nohighlight">\(f^{(0)}\)</span> is in <span class="math notranslate nohighlight">\(C\)</span>, then the Verifier will definitely output accept.</p></li>
<li><p>Soundness: This analyzes the probability of rejection after interaction with a malicious Prover. In the definition, soundness <span class="math notranslate nohighlight">\(\textbf{s}^{-}: (0,1] \rightarrow [0,1]\)</span> is a function with variable <span class="math notranslate nohighlight">\(\delta \in (0,1]\)</span>, which also indicates that when analyzing soundness, we consider a malicious Prover, i.e., initially <span class="math notranslate nohighlight">\(\Delta(f^{(0)}, C) = \delta &gt; 0\)</span>. In this case, the Prover and Verifier interact to calculate the probability of rejection, and the lower bound of this probability is <span class="math notranslate nohighlight">\(\textbf{s}^{-}(\delta) \in [0,1]\)</span>. Since this represents a probability, naturally the function value of <span class="math notranslate nohighlight">\(\textbf{s}^{-}(\delta)\)</span> is in the closed interval <span class="math notranslate nohighlight">\([0,1]\)</span>.</p></li>
</ol>
</section>
<section id="fri-protocol">
<h2>FRI Protocol<a class="headerlink" href="#fri-protocol" title="Link to this heading">#</a></h2>
<p>Below is an excerpt of the description of the FRI protocol from the paper [BBHR18b].</p>
<section id="definitions-and-notations">
<h3>Definitions and Notations<a class="headerlink" href="#definitions-and-notations" title="Link to this heading">#</a></h3>
<p><strong>Interpolant</strong> For a function <span class="math notranslate nohighlight">\(f : S \rightarrow \mathbb{F}\)</span> , <span class="math notranslate nohighlight">\(S \subset \mathbb{F}\)</span> , let <span class="math notranslate nohighlight">\(\text{interpolant}^f\)</span> denote the <em>interpolant</em> of <span class="math notranslate nohighlight">\(f\)</span> , defined as the unique polynomial <span class="math notranslate nohighlight">\(P(X) = \sum_{i=0}^{|S|-1} a_iX^i\)</span> of degree less than <span class="math notranslate nohighlight">\(|S|\)</span> whose evaluation on <span class="math notranslate nohighlight">\(S\)</span> equals <span class="math notranslate nohighlight">\(f|_S\)</span> , i.e., <span class="math notranslate nohighlight">\(\forall x \in S, f(x) = P(x)\)</span> . We assume the interpolant <span class="math notranslate nohighlight">\(P(X)\)</span> is represented as a formal sum, i.e., by the sequence of monomial coefficients <span class="math notranslate nohighlight">\(a_0, \cdots, a_{|S|-1}\)</span> .</p>
<p><strong>Subspace polynomials</strong> Given a set <span class="math notranslate nohighlight">\(L_0 \subset \mathbb{F}\)</span> , let <span class="math notranslate nohighlight">\(\text{Zero}_{L_0} \triangleq \prod_{x \in L_0} (X - x)\)</span> be the unique non-zero monic polynomial of degree <span class="math notranslate nohighlight">\(|L_0|\)</span> that vanishes on <span class="math notranslate nohighlight">\(L_0\)</span> . When <span class="math notranslate nohighlight">\(L_0\)</span> is an additive coset contained in a binary field, the polynomial <span class="math notranslate nohighlight">\(\text{Zero}_{L_0}(X)\)</span> is an <em>affine subspace polynomial</em>, a special type of a linearized polynomial. We shall use the following properties of such polynomials, referring the interested reader to [LN97, Chapter 3.4] for proofs and additional background:</p>
<ol class="arabic simple">
<li><p>The map <span class="math notranslate nohighlight">\(x \mapsto \text{Zero}_{L_0}(x)\)</span> maps each additive coset <span class="math notranslate nohighlight">\(S\)</span> of <span class="math notranslate nohighlight">\(L_0\)</span> to a single field element, which will be denoted by <span class="math notranslate nohighlight">\(y_S\)</span> .</p></li>
<li><p>If <span class="math notranslate nohighlight">\(L \supset L_0\)</span> are additive cosets, then <span class="math notranslate nohighlight">\(\text{Zero}_{L_0}(L) \triangleq \{ \text{Zero}_{L_0}(z) | z \in L \}\)</span> is an additive coset and <span class="math notranslate nohighlight">\(\dim(\text{Zero}_{L_0}(L)) = \dim(L) - \dim(L_0)\)</span> .</p></li>
</ol>
<p><strong>Subspace specification</strong> Henceforth, the letter <span class="math notranslate nohighlight">\(L\)</span> always denotes an additive coset in a binary field <span class="math notranslate nohighlight">\(\mathbb{F}\)</span> , we assume all mentioned additive cosets are specified by an additive shift <span class="math notranslate nohighlight">\(\alpha \in \mathbb{F}\)</span> and a basis <span class="math notranslate nohighlight">\(\beta_1, \cdots, \beta_k \in \mathbb{F}^k\)</span> so that <span class="math notranslate nohighlight">\(L = \left\{ \alpha + \sum_{i=1}^k b_i\beta_i | b_1, \cdots, b_k \in \mathbb{F}_2 \right\}\)</span> ; we assume <span class="math notranslate nohighlight">\(\alpha\)</span> and <span class="math notranslate nohighlight">\(\vec{\beta} = (\beta_1, \cdots, \beta_k)\)</span> are agreed upon by prover and verifier.</p>
</section>
<section id="commit-phase">
<h3>COMMIT Phase<a class="headerlink" href="#commit-phase" title="Link to this heading">#</a></h3>
<p>The number of rounds in the protocol is <span class="math notranslate nohighlight">\(r \triangleq \left \lfloor \frac{k^{(0)} - \mathcal{R}}{\eta}\right\rfloor\)</span> , where <span class="math notranslate nohighlight">\(\mathcal{R} = \log(1/\rho)\)</span> , and <span class="math notranslate nohighlight">\(\rho\)</span> represents the code rate. In the <span class="math notranslate nohighlight">\(i\)</span>-th round of the COMMIT phase, <span class="math notranslate nohighlight">\(i \in \{0, \cdots, r - 1\}\)</span> , the Verifier can access an oracle of a function <span class="math notranslate nohighlight">\(f^{(i)}: L^{(i)} \rightarrow \mathbb{F}\)</span> submitted by the Prover, where <span class="math notranslate nohighlight">\(\dim(L^{(i)}) = k^{(i)} = k^{(0)} - \eta \cdot i\)</span> , and the space <span class="math notranslate nohighlight">\(L^{(i)}\)</span> is fixed in advance, particularly, they do not depend on the Verifier’s messages.</p>
<blockquote>
<div><p><strong>FRI-COMMIT:</strong>
Common input:</p>
<ul class="simple">
<li><p>Parameters <span class="math notranslate nohighlight">\(\mathcal{R}, \eta, i\)</span> , all are positive integers:
– rate parameter <span class="math notranslate nohighlight">\(\mathcal{R}\)</span> : logarithm of RS code rate (<span class="math notranslate nohighlight">\(\rho = 2^{-\mathcal{R}}\)</span>)
– localization parameter <span class="math notranslate nohighlight">\(\eta\)</span> : dimension of <span class="math notranslate nohighlight">\(L_0^{(i)}\)</span> (i.e., <span class="math notranslate nohighlight">\(|L_0^{(i)}| = 2^{\eta}\)</span>); let <span class="math notranslate nohighlight">\(r \triangleq \left \lfloor \frac{k^{(0)} - \mathcal{R}}{\eta}\right\rfloor\)</span> denote round complexity
– <span class="math notranslate nohighlight">\(i \in \{0, \cdots, r\}\)</span>: round counter</p></li>
<li><p>A parametrization of <span class="math notranslate nohighlight">\(\text{RS}^{(i)} \triangleq \text{RS}[\mathbb{F},L^{(i)},\rho = 2^{-\mathcal{R}}]\)</span> , denote <span class="math notranslate nohighlight">\(k^{(i)} = \log_2 |L^{(i)}|\)</span> (notice <span class="math notranslate nohighlight">\(k^{(i)} = \dim (L^{(i)})\)</span>);</p></li>
<li><p><span class="math notranslate nohighlight">\(L_0^{(i)} \subset L^{(i)}\)</span> , <span class="math notranslate nohighlight">\(\dim(L_0^{(i)})=\eta\)</span> ; let <span class="math notranslate nohighlight">\(q^{(i)}(X) = \text{Zero}_{L_0^{(i)}}(X)\)</span> and denote <span class="math notranslate nohighlight">\(L^{(i+1)} = q^{(i)}(L^{(i)})\)</span></p></li>
</ul>
<p>Prover input: <span class="math notranslate nohighlight">\(f^{(i)}:L^{(i)} \rightarrow \mathbb{F}\)</span>, a purported codeword of <span class="math notranslate nohighlight">\(\text{RS}^{(i)}\)</span></p>
<p>Loop: While <span class="math notranslate nohighlight">\(i \le r\)</span> :</p>
<ol class="arabic simple">
<li><p>Verifier sends a uniformly random <span class="math notranslate nohighlight">\(x^{(i)} \in \mathbb{F}\)</span></p></li>
<li><p>Prover defines the function <span class="math notranslate nohighlight">\(f_{f^{(i)},x^{(i)}}^{(i+1)}\)</span> with domain <span class="math notranslate nohighlight">\(L^{(i+1)}\)</span> thus, for each <span class="math notranslate nohighlight">\(y \in L^{(i+1)}\)</span> :</p></li>
</ol>
<ul class="simple">
<li><p>Let <span class="math notranslate nohighlight">\(S_y = \{x \in L^{(i)} | q^{(i)}(x) = y\}\)</span> be the coset of <span class="math notranslate nohighlight">\(L_0^{(i)}\)</span> mapped by <span class="math notranslate nohighlight">\(q^{(i)}\)</span> to <span class="math notranslate nohighlight">\(\{y\}\)</span> ;</p></li>
<li><p><span class="math notranslate nohighlight">\(P_y^{(i)}(X) \triangleq \text{interpolant}^{f^{(i)}|_{S_y}}\)</span> ;</p></li>
<li><p><span class="math notranslate nohighlight">\(f_{f^{(i)},x^{(i)}}^{(i+1)}(y) \triangleq P_y^{(i)}(x^{(i)})\)</span> ;</p></li>
</ul>
<ol class="arabic simple" start="3">
<li><p>If <span class="math notranslate nohighlight">\(i = r\)</span> then:</p></li>
</ol>
<ul class="simple">
<li><p>let <span class="math notranslate nohighlight">\(f^{(r)} = f_{f^{(r-1)},x^{(r-1)}}^{(r)}\)</span> for <span class="math notranslate nohighlight">\(f^{(r)} = f_{f^{(r-1)},x^{(r-1)}}^{(r)}\)</span> defined in step 2 above;</p></li>
<li><p>let <span class="math notranslate nohighlight">\(P^{(r)}(X) = \sum_{j \ge 0} a_j^{(r)}X^j \triangleq \text{interpolant}^{f^{(r)}}(X)\)</span> ;</p></li>
<li><p>let <span class="math notranslate nohighlight">\(d = \rho \cdot |L^{(r)}| - 1\)</span> ;</p></li>
<li><p>prover commits to first <span class="math notranslate nohighlight">\(d + 1\)</span> coefficients of <span class="math notranslate nohighlight">\(P^{(r)}(X)\)</span> , namely, to <span class="math notranslate nohighlight">\(\langle a_0^{(r)}, \cdots, a_d^{(r)} \rangle\)</span></p></li>
<li><p>COMMIT phase terminates;</p></li>
</ul>
<ol class="arabic simple" start="4">
<li><p>Else (<span class="math notranslate nohighlight">\(i &lt; r\)</span> ):</p></li>
</ol>
<ul class="simple">
<li><p>let <span class="math notranslate nohighlight">\(f^{(i+1)} = f^{(i+1)}_{f^{(i)}, x^{(i)}}\)</span> for <span class="math notranslate nohighlight">\(f^{(i+1)}_{f^{(i)}, x^{(i)}}\)</span> defined in step 2 above;</p></li>
<li><p>prover commits to oracle <span class="math notranslate nohighlight">\(f^{(i+1)}\)</span></p></li>
<li><p>both parties repeat the COMMIT protocol with common input</p>
<ul>
<li><p>parameters <span class="math notranslate nohighlight">\((\mathcal{R}, \eta, i + 1)\)</span></p></li>
<li><p>a parametrization of <span class="math notranslate nohighlight">\(\text{RS}^{(i+1)} \triangleq \text{RS}[\mathbb{F},L^{(i+1)},\rho = 2^{-\mathcal{R}}]\)</span> and <span class="math notranslate nohighlight">\(L_0^{(i+1)} \subset L^{(i+1)}\)</span> , <span class="math notranslate nohighlight">\(\dim(L_0^{(i+1)})=\eta\)</span>
and prover input <span class="math notranslate nohighlight">\(f^{(i+1)}\)</span> defined at the beginning of this step;</p></li>
</ul>
</li>
</ul>
</div></blockquote>
</section>
<section id="query-phase">
<h3>QUERY Phase<a class="headerlink" href="#query-phase" title="Link to this heading">#</a></h3>
<blockquote>
<div><p><strong>FRI-QUERY:</strong>
verifier input:</p>
<ul class="simple">
<li><p>parameters <span class="math notranslate nohighlight">\(\mathcal{R}, \eta\)</span> as defined in the COMMIT phase</p></li>
<li><p>repetition parameter <span class="math notranslate nohighlight">\(l\)</span></p></li>
<li><p>sequence of rate-<span class="math notranslate nohighlight">\(\rho\)</span> RS-codes <span class="math notranslate nohighlight">\(\text{RS}^{(0)}, \cdots, \text{RS}^{(r)}\)</span>, where <span class="math notranslate nohighlight">\(\text{RS}^{(i)} \triangleq \text{RS}[\mathbb{F},L^{(i)},\rho]\)</span> and <span class="math notranslate nohighlight">\(\log_2|L^{(i)}| = k^{(i)} = k^{(0)} - \eta\)</span>; (notice <span class="math notranslate nohighlight">\(k^{(i)} = \dim(L^{(i)})\)</span>);</p></li>
<li><p>sequence of affine spaces <span class="math notranslate nohighlight">\(L_0^{(0)}, \cdots, L_0^{(r-1)}\)</span>, each <span class="math notranslate nohighlight">\(L_0^{(i)}\)</span> is of dimension <span class="math notranslate nohighlight">\(\eta\)</span> and contained in <span class="math notranslate nohighlight">\(L^{(i)}\)</span> ;</p></li>
<li><p>transcript of verifier messages <span class="math notranslate nohighlight">\(x^{(0)}, \cdots, x^{(r-1)} \in \mathbb{F}\)</span></p></li>
<li><p>access to oracles <span class="math notranslate nohighlight">\(f^{(0)}, \cdots, f^{(r-1)}\)</span></p></li>
<li><p>access to last oracle <span class="math notranslate nohighlight">\(P^{(r)}(X) = \sum_{j \ge 0} a_j^{(r)}X^j\)</span> for <span class="math notranslate nohighlight">\(d = \rho \cdot |L^{(r)}| - 1\)</span> ;</p></li>
</ul>
<p>Terminal function reconstruction:</p>
<ul class="simple">
<li><p>query <span class="math notranslate nohighlight">\(a_0^{(r)}, \cdots, a_d^{(r)}\)</span> ;(a total of <span class="math notranslate nohighlight">\(d + 1 \le 2^{\eta}\)</span> queries)</p></li>
<li><p>let <span class="math notranslate nohighlight">\(P'(X) \triangleq \sum_{j \ge 0} a_j^{(r)}X^j\)</span> ;</p></li>
<li><p>let <span class="math notranslate nohighlight">\(f^{(r)}\)</span> be the evaluation of <span class="math notranslate nohighlight">\(P'(X)\)</span> on <span class="math notranslate nohighlight">\(L^{(r)}\)</span> ; (notice <span class="math notranslate nohighlight">\(f^{(r)} \in \text{RS}^{(r)}\)</span> )</p></li>
</ul>
<p>Repeat <span class="math notranslate nohighlight">\(l\)</span> times: {</p>
<ol class="arabic simple">
<li><p>Sample uniformly random <span class="math notranslate nohighlight">\(s^{(0)} \in L^{(0)}\)</span> and for <span class="math notranslate nohighlight">\(i = 0, \cdots, r - 1\)</span> let</p></li>
</ol>
<ul class="simple">
<li><p><span class="math notranslate nohighlight">\(s^{i + 1} = q^{(i)}(s^{(i)})\)</span></p></li>
<li><p><span class="math notranslate nohighlight">\(S^{(i)}\)</span> be the coset of <span class="math notranslate nohighlight">\(L_0^{(i)}\)</span> in <span class="math notranslate nohighlight">\(L^{(i)}\)</span> that contains <span class="math notranslate nohighlight">\(s^{(i)}\)</span></p></li>
</ul>
<ol class="arabic simple" start="2">
<li><p>For <span class="math notranslate nohighlight">\(i = 0, \cdots, r - 1\)</span> ,</p></li>
</ol>
<ul class="simple">
<li><p>query <span class="math notranslate nohighlight">\(f^{(i)}\)</span> on all of <span class="math notranslate nohighlight">\(S^{(i)}\)</span>; (a total of <span class="math notranslate nohighlight">\(2\eta\)</span> queries)</p></li>
<li><p>compute <span class="math notranslate nohighlight">\(P^{(i)}(X) \triangleq \text{interpolant}^{f^{(i)}|_{S^{(i)}}}\)</span>; (notice <span class="math notranslate nohighlight">\(\deg(P^{(i)}) &lt; 2^{\eta}\)</span>)</p></li>
</ul>
<ol class="arabic simple" start="3">
<li><p><strong>round consistency</strong>: If for some <span class="math notranslate nohighlight">\(i \in \{ 0, \cdots, r - 1\}\)</span> it holds that</p></li>
</ol>
<div class="math notranslate nohighlight">
\[
&gt; \begin{equation}
&gt;  f^{(i+1)}(s^{(i+1)}) \neq P^{(i)}(x^{(i)})
&gt; \end{equation}
&gt; \]</div>
<p>then reject and abort;</p>
<p>}</p>
<p>Return accept</p>
</div></blockquote>
</section>
</section>
<section id="main-properties-of-the-fri-protocol">
<h2>Main Properties of the FRI Protocol<a class="headerlink" href="#main-properties-of-the-fri-protocol" title="Link to this heading">#</a></h2>
<p>The following theorem gives the main properties of the FRI protocol, including Completeness, Soundness, Prover complexity, and Verifier complexity. In fact, the paper also provides a slightly simplified version, see [BBHR18b] Theorem 1.3, which can be proved by setting <span class="math notranslate nohighlight">\(\eta = 2\)</span> and <span class="math notranslate nohighlight">\(l = 1\)</span> in the theorem below. Here we mainly explain this more complex version.</p>
<p><strong>Theorem 1</strong> [BBHR18b, Theorem3.3] (Main properties of the <strong>FRI</strong> protocol). The following properties hold when the <strong>FRI</strong> protocol is invoked on oracle <span class="math notranslate nohighlight">\(f^{(0)}:L^{(0)} \rightarrow \mathbb{F}\)</span> with localization parameter <span class="math notranslate nohighlight">\(\eta\)</span> and rate parameter <span class="math notranslate nohighlight">\(\mathcal{R}\)</span> (and rate <span class="math notranslate nohighlight">\(\rho = 2^{- \mathcal{R}}\)</span>) such that <span class="math notranslate nohighlight">\(\rho |L^{(0)}| &gt; 16\)</span> :</p>
<ol class="arabic">
<li><p><strong>Completeness</strong> If <span class="math notranslate nohighlight">\(f^{(0)} \in \text{RS}^{(0)} \triangleq \text{RS}[\mathbb{F}, L^{(0)}, \rho = 2^{- \mathcal{R}}]\)</span> and <span class="math notranslate nohighlight">\(f^{(1)},  \cdots, f^{(r)}\)</span> are computed by the prover specified in the COMMIT phase, then the <strong>FRI</strong> verifier outputs <strong>accept</strong> with probability 1.</p></li>
<li><p><strong>Soundness</strong> Suppose <span class="math notranslate nohighlight">\(\delta^{(0)} \triangleq \Delta^{(0)}(f^{0}, \text{RS}^{(0)}) &gt; 0\)</span> . Then with probability at least</p>
<div class="math notranslate nohighlight">
\[
	\begin{equation}
	1 - \frac{3|L^{(0)}|}{\mathbb{F}} 
	\end{equation}
	\]</div>
<p>over the randomness of the verifier during the COMMIT phase, and for any (adaptively chosen) prover oracles <span class="math notranslate nohighlight">\(f^{(1)}, \cdots, f^{(r)}\)</span> the QUERY protocol with repetition parameter <span class="math notranslate nohighlight">\(l\)</span> outputs <strong>accept</strong> with probability at most</p>
<div class="math notranslate nohighlight">
\[
	\left (1 - \min \left \{\delta^{(0)}, \frac{1-3\rho-2^{\eta}/\sqrt{|L^{(0)}|}}{4} \right \}\right )^{l}
	\]</div>
<p>Consequently, the soundness of <strong>FRI</strong> is at least</p>
<div class="math notranslate nohighlight">
\[
	\begin{equation}
		\textbf{s}^{-}(\delta^{(0)}) \triangleq 1 - \left ( \frac{3|L^{(0)}|}{|\mathbb{F}|} + \left (1 - \min \left \{\delta^{(0)}, \frac{1-3\rho-2^{\eta}/\sqrt{|L^{(0)}|}}{4} \right \}\right )^{l} \right). 
	\end{equation}
	\]</div>
</li>
<li><p><strong>Prover complexity</strong> The <span class="math notranslate nohighlight">\(i^{th}\)</span> step of commit phase can be computed by a parallel random access machine (PRAM) with concurrent read and exclusive write (CREW) in <span class="math notranslate nohighlight">\(2\eta + 3\)</span> cycles — each cycle involves a single arithmetic operation in <span class="math notranslate nohighlight">\(\mathbb{F}\)</span> — using <span class="math notranslate nohighlight">\(2|L^{(i)}| + \eta\)</span> processors and a total of <span class="math notranslate nohighlight">\(4|L^{(i)}|\)</span> arithmetic operations over <span class="math notranslate nohighlight">\(\mathbb{F}\)</span>.
Consequently, the total prover complexity is at most <span class="math notranslate nohighlight">\(6|L^{(0)}|\)</span> arithmetic operations, which can be carried out in at most <span class="math notranslate nohighlight">\(4 |L^{(0)}|\)</span> cycles on a PRAM-CREW with <span class="math notranslate nohighlight">\(2n + 3\)</span> processors.</p></li>
<li><p><strong>Verifier complexity</strong> Verifier communication during the COMMIT phase equals <span class="math notranslate nohighlight">\(\textbf{r}\)</span> field elements; query complexity (during QUERY phase) equals <span class="math notranslate nohighlight">\(l 2^{\eta} \textbf{r} = l 2^{\eta} \left ( 1 + \left \lfloor \frac{\log |L^{(0)}| - \mathcal{R}}{\eta} \right \rfloor \right )\)</span>. On a PRAM with exclusive read and exclusive write (EREW) with <span class="math notranslate nohighlight">\(l \textbf{r}\cdot2 \eta\)</span> processors, the verifier’s decision is obtained after <span class="math notranslate nohighlight">\(2\eta + 3 + \log l\)</span> cycles and a total of <span class="math notranslate nohighlight">\(l\cdot \textbf{r} \cdot (6 \cdot 2\eta + 6 \eta + 6)\)</span> arithmetic operations in <span class="math notranslate nohighlight">\(\mathbb{F}\)</span>.</p></li>
</ol>
<p>In the second item, the Soundness conclusion, a parameter <span class="math notranslate nohighlight">\(\delta^{(0)} \triangleq \Delta^{(0)}(f^{0}, \text{RS}^{(0)}) &gt; 0\)</span> is given first. Here, <span class="math notranslate nohighlight">\(\Delta^{(0)}(f^{0}, \text{RS}^{(0)})\)</span> is not actually the common relative Hamming distance. Below is the definition of this measure, along with an explanation of its relationship with the relative Hamming distance.</p>
<section id="block-wise-distance-measure">
<h3>Block-wise Distance Measure<a class="headerlink" href="#block-wise-distance-measure" title="Link to this heading">#</a></h3>
<p><strong>Definition 2</strong> [BBHR18b, Definition3.2] (Block-wise distance measure). Let <span class="math notranslate nohighlight">\(\mathcal{S} = \{S_1, \cdots, S_m\}\)</span> be a partition of a set <span class="math notranslate nohighlight">\(S\)</span> and <span class="math notranslate nohighlight">\(\Sigma\)</span> be an alphabet. The relative <span class="math notranslate nohighlight">\(\mathcal{S}\)</span>-Hamming distance measure on <span class="math notranslate nohighlight">\(\Sigma^{S}\)</span> is defined for <span class="math notranslate nohighlight">\(f, g \in \Sigma^{S}\)</span> as the relative Hamming distance over <span class="math notranslate nohighlight">\(\Sigma^{S_1} \times \cdots \times \Sigma^{S_m}\)</span> ,</p>
<div class="math notranslate nohighlight">
\[
\Delta^{\mathcal{S}}(f,g) \triangleq \Pr_{i \in [m]}[f|_{S_i} \neq g|_{S_i}] = \frac{|\{i \in [m] | f|_{S_i} \neq g|_{S_i}\}|}{m}. 
\]</div>
<p>Thus, for <span class="math notranslate nohighlight">\(\mathcal{F} \subset \Sigma^{S}\)</span> let <span class="math notranslate nohighlight">\(\Delta^{\mathcal{S}}(g,\mathcal{F}) = \min \{ \Delta^{\mathcal{S}}(g,f) | f \in \mathcal{F}\}\)</span>.</p>
<p>To better understand this definition, in the FRI protocol, consider the block-wise distance on <span class="math notranslate nohighlight">\(\mathbb{F}^{L^{(i)}}\)</span>, i.e., replace the set <span class="math notranslate nohighlight">\(S\)</span> in the above definition with <span class="math notranslate nohighlight">\(L^{(i)}\)</span> in step <span class="math notranslate nohighlight">\(i\)</span> of the FRI protocol, and replace the alphabet <span class="math notranslate nohighlight">\(\Sigma\)</span> with <span class="math notranslate nohighlight">\(\mathbb{F}\)</span>. In step <span class="math notranslate nohighlight">\(i\)</span>, we can determine the set <span class="math notranslate nohighlight">\(L_0^{(i)}\)</span>. <span class="math notranslate nohighlight">\(L_0^{(i)}\)</span> can actually be set as the kernel of the mapping <span class="math notranslate nohighlight">\(q^{(i)}\)</span>, which is the set of elements in <span class="math notranslate nohighlight">\(L^{(i)}\)</span> that are mapped to the identity element <span class="math notranslate nohighlight">\(e\)</span> in <span class="math notranslate nohighlight">\(L^{(i+1)}\)</span> by <span class="math notranslate nohighlight">\(q^i\)</span>, expressed mathematically as</p>
<div class="math notranslate nohighlight">
\[
L_0^{(i)} = \{x \in L^{(i)} | q^{(i)}(x) = e\}.
\]</div>
<p>Then the set <span class="math notranslate nohighlight">\(L^{(i)}\)</span> can be partitioned by the cosets of <span class="math notranslate nohighlight">\(L_0^{(i)}\)</span>. Assuming it is divided into <span class="math notranslate nohighlight">\(m\)</span> sets, the partition of <span class="math notranslate nohighlight">\(L^{(i)}\)</span> can be denoted as <span class="math notranslate nohighlight">\(\mathcal{S}^{(i)} = \{L_0^{(i)}, \cdots, L_{m-1}^{(i)}\}\)</span>. Then we briefly write</p>
<div class="math notranslate nohighlight">
\[
\Delta^{(i)}(f,g)  \triangleq  \Delta^{\mathcal{S}^{(i)}}(f,g) 
\]</div>
<p>For two functions <span class="math notranslate nohighlight">\(f,g : L^{(i)} \rightarrow \mathbb{F}\)</span>, both with domain <span class="math notranslate nohighlight">\(L^{(i)}\)</span> and codomain <span class="math notranslate nohighlight">\(\mathbb{F}\)</span>, this Block-wise distance now represents the ratio of the number of cosets in <span class="math notranslate nohighlight">\(\mathcal{S}^{(i)}\)</span> where these two functions are not completely consistent. For example, in <span class="math notranslate nohighlight">\(\mathcal{S}^{(i)} = \{L_0^{(i)}, \cdots, L_{m-1}^{(i)}\}\)</span> (assuming <span class="math notranslate nohighlight">\(m \ge 2\)</span>), if the function values of <span class="math notranslate nohighlight">\(f\)</span> and <span class="math notranslate nohighlight">\(g\)</span> are not completely identical only on the two sets <span class="math notranslate nohighlight">\(L_0^{(i)}\)</span> and <span class="math notranslate nohighlight">\(L_1^{(i)}\)</span>, i.e., <span class="math notranslate nohighlight">\(f|_{L_0^{(i)}} \neq g|_{L_0^{(i)}}\)</span> and <span class="math notranslate nohighlight">\(f|_{L_1^{(i)}} \neq g|_{L_1^{(i)}}\)</span>, and the functions <span class="math notranslate nohighlight">\(f\)</span> and <span class="math notranslate nohighlight">\(g\)</span> are completely consistent on the remaining cosets, then we can calculate <span class="math notranslate nohighlight">\(\Delta^{(i)}(f,g) = \frac{2}{m}\)</span>.</p>
<p>The above <span class="math notranslate nohighlight">\(\Delta^{(i)}(f, g)\)</span> refers to the measure between two elements in <span class="math notranslate nohighlight">\(\mathbb{F}^{L^{(i)}}\)</span>. Below, we explain the block-wise distance measure corresponding to an element <span class="math notranslate nohighlight">\(f^{(i)} \in \mathbb{F}^{L^{(i)}}\)</span> and a subset <span class="math notranslate nohighlight">\(\text{RS}^{(i)} \subset \mathbb{F}^{L^{(i)}}\)</span> (<span class="math notranslate nohighlight">\(\text{RS}^{(i)} = RS[\mathbb{F}, L^{(i)}, \rho]\)</span> is naturally a subset of <span class="math notranslate nohighlight">\(\mathbb{F}^{L^{(i)}}\)</span>), expressed as</p>
<div class="math notranslate nohighlight">
\[
\Delta^{\mathcal{(i)}}(f^{(i)},\text{RS}^{(i)}) \triangleq \Delta^{\mathcal{S}^{(i)}}(f^{(i)},\text{RS}^{(i)}) = \min \{ \Delta^{\mathcal{S}^{(i)}}(f^{(i)},g^{(i)}) | g^{(i)} \in \text{RS}^{(i)}\},
\]</div>
<p>Its meaning is to traverse all codewords <span class="math notranslate nohighlight">\(g^{(i)}\)</span> in the set <span class="math notranslate nohighlight">\(\text{RS}^{(i)}\)</span>, calculate these <span class="math notranslate nohighlight">\(\Delta^{\mathcal{S}^{(i)}}(f^{(i)},g^{(i)})\)</span>, and the smallest value among them is <span class="math notranslate nohighlight">\(\Delta^{\mathcal{S}^{(i)}}(f^{(i)},\text{RS}^{(i)})\)</span>.
Regarding this Block-wise distance measure, an important inequality is</p>
<div class="math notranslate nohighlight">
\[
\begin{equation}
	1 - \rho \ge  \Delta^{\mathcal{(i)}}(f^{(i)},\text{RS}^{(i)})  \ge \Delta_H(f^{(i)},\text{RS}^{(i)}) \tag{4}
\end{equation}
\]</div>
<p>This equation will be repeatedly used in the Soundness proof of FRI, which is quite important. Here’s its proof.</p>
<p><em><strong>Proof</strong></em>: First, prove the left half of the inequality, i.e., <span class="math notranslate nohighlight">\(1 - \rho \ge  \Delta^{\mathcal{(i)}}(f^{(i)},\text{RS}^{(i)})\)</span>. There always exists such a polynomial <span class="math notranslate nohighlight">\(g^{(i)} \in \text{RS}^{(i)}\)</span>, whose degree <span class="math notranslate nohighlight">\(deg(g^{(i)}) &lt; \rho |L^{(i)}|\)</span>, and at the same time <span class="math notranslate nohighlight">\(\Delta^{\mathcal{(i)}}(f^{(i)},g^{(i)}) = 1 - \rho\)</span>. Below we explain the existence of <span class="math notranslate nohighlight">\(g^{(i)}\)</span>. We construct as follows:
In the partition set <span class="math notranslate nohighlight">\(\mathcal{S}^{(i)} = \{L_0^{(i)}, \cdots, L_{m-1}^{(i)}\}\)</span>, we can obtain the sequence of sets <span class="math notranslate nohighlight">\(\{ L_0^{(i)}, \cdots, L_{m-1}^{(i)}\} = \{x_0, x_1, \cdots, x_{|L^{(i)}| - 1}\}\)</span> in order. Continuously select the first <span class="math notranslate nohighlight">\(\rho |L^{(i)}|\)</span> points <span class="math notranslate nohighlight">\(\{x_0,x_1, \cdots, x_{\rho |L^{(i)}| - 1}\}\)</span>, obtain the corresponding values of <span class="math notranslate nohighlight">\(f^{(i)}\)</span> for these points <span class="math notranslate nohighlight">\(\{f^{(i)}(x_0),f^{(i)}(x_1),\cdots, f^{(i)}(x_{\rho |L^{(i)}| - 1})\}\)</span>, and perform Lagrange interpolation with these point values to obtain a polynomial <span class="math notranslate nohighlight">\(g^{(i)}\)</span> of degree <span class="math notranslate nohighlight">\(&lt; \rho |L^{(i)}|\)</span>. It’s easy to see that <span class="math notranslate nohighlight">\(g^{(i)}\)</span> constructed in this way belongs to <span class="math notranslate nohighlight">\(\text{RS}^{(i)} = RS[\mathbb{F}, L^{(i)}, \rho]\)</span>. At the same time, according to the previous construction, we find that on the set <span class="math notranslate nohighlight">\(\{L_0^{(i)}, \cdots, L_{\rho m - 1}^{(i)}\} = \{x_0, x_1, \cdots, x_{\rho |L^{(i)}| - 1} \}\)</span>, the function values of <span class="math notranslate nohighlight">\(f^{(i)}\)</span> and <span class="math notranslate nohighlight">\(g^{(i)}\)</span> are completely equal (here, <span class="math notranslate nohighlight">\(\rho |L^{(i)}|\)</span> points exactly fully occupy <span class="math notranslate nohighlight">\(\rho m\)</span> sets, without the situation where the last few points only occupy part of the last set, this is because <span class="math notranslate nohighlight">\(\rho\)</span> and <span class="math notranslate nohighlight">\(|L^{(i)}|\)</span> are chosen to be powers of 2, which can be evenly divided). Then we can calculate</p>
<div class="math notranslate nohighlight">
\[
\Delta^{(i)}(f^{(i)}, g^{(i)}) = \frac{|\{j \in [m] | f^{(i)}|_{L_j^{(i)}} \neq g^{(i)}|_{L_j^{(i)}}\}|}{m} = 1 - \rho.
\]</div>
<p>Therefore, <span class="math notranslate nohighlight">\(\Delta^{\mathcal{(i)}}(f^{(i)},\text{RS}^{(i)})\)</span> calculates the minimum value under the measure <span class="math notranslate nohighlight">\(\Delta^{(i)}\)</span> between elements in <span class="math notranslate nohighlight">\(\text{RS}^{(i)}\)</span> and <span class="math notranslate nohighlight">\(f^{(i)}\)</span>, which certainly won’t exceed the distance of the found <span class="math notranslate nohighlight">\(g^{(i)} \in \text{RS}^{(i)}\)</span>, thus proving the left half of the inequality <span class="math notranslate nohighlight">\(1 - \rho \ge  \Delta^{\mathcal{(i)}}(f^{(i)},\text{RS}^{(i)})\)</span>.
Next, prove the right half of the inequality <span class="math notranslate nohighlight">\(\Delta^{\mathcal{(i)}}(f^{(i)},\text{RS}^{(i)})  \ge \Delta_H(f^{(i)},\text{RS}^{(i)})\)</span>. Assume <span class="math notranslate nohighlight">\(\Delta^{(i)}(f^{(i)}, g^{(i)} \in \text{RS}^{(i)}) = \delta\)</span>, without loss of generality, assume <span class="math notranslate nohighlight">\(f^{(i)}\)</span> and <span class="math notranslate nohighlight">\(g^{(i)}\)</span> are not completely consistent on the cosets <span class="math notranslate nohighlight">\(\{L_0^{(i)}, \cdots, L_{\delta m - 1}^{(i)}\} = \{x_0, \cdots, x_{\delta |L^{(i)}| - 1}\}\)</span>, and are completely consistent on the remaining set <span class="math notranslate nohighlight">\(\{L_0^{(i)}, \cdots, L_{m-1}^{(i)}\} \backslash \{L_0^{(i)}, \cdots, L_{\delta m - 1}^{(i)}\}\)</span>. Then considering all points on <span class="math notranslate nohighlight">\(L^{(i)}\)</span>, <span class="math notranslate nohighlight">\(g^{(i)}\)</span> is at most inconsistent with <span class="math notranslate nohighlight">\(f^{(i)}\)</span> on these <span class="math notranslate nohighlight">\(\delta |L^{(i)}|\)</span> points <span class="math notranslate nohighlight">\(\{L_0^{(i)}, \cdots, L_{\delta m - 1}^{(i)}\} = \{x_0, \cdots, x_{\delta |L^{(i)}| - 1}\}\)</span>, thus indicating that <span class="math notranslate nohighlight">\(\Delta_H(f^{(i)},g^{(i)}) \le \delta\)</span>. Furthermore, if we set <span class="math notranslate nohighlight">\(\Delta^{\mathcal{(i)}}(f^{(i)},\text{RS}^{(i)}) = \delta^*\)</span>, we can deduce <span class="math notranslate nohighlight">\(\Delta_H(f^{(i)},\text{RS}^{(i)}) \le \delta^* = \Delta^{\mathcal{(i)}}(f^{(i)},\text{RS}^{(i)})\)</span>. <span style="float: right;"> <span class="math notranslate nohighlight">\(\Box\)</span> </span></p>
</section>
</section>
<section id="theorem-1-completeness-proof">
<h2>Theorem 1 Completeness Proof<a class="headerlink" href="#theorem-1-completeness-proof" title="Link to this heading">#</a></h2>
<p>Below is an explanation of the completeness proof in Theorem 1. Let’s restate the completeness:</p>
<blockquote>
<div><p><strong>Completeness</strong> If <span class="math notranslate nohighlight">\(f^{(0)} \in \text{RS}^{(0)} \triangleq \text{RS}[\mathbb{F}, L^{(0)}, \rho = 2^{- \mathcal{R}}]\)</span> and <span class="math notranslate nohighlight">\(f^{(1)},  \cdots, f^{(r)}\)</span> are computed by the prover specified in the COMMIT phase, then the <strong>FRI</strong> verifier outputs <strong>accept</strong> with probability 1.</p>
</div></blockquote>
<p>Completeness states that for an honest Prover, if the initial function <span class="math notranslate nohighlight">\(f^{(0)}\)</span> is in the <span class="math notranslate nohighlight">\(\text{RS}^{(0)}\)</span> encoding space, then through the FRI’s COMMIT phase, a series of functions <span class="math notranslate nohighlight">\(f^{(1)},  \cdots, f^{(r)}\)</span> will be produced, and the Verifier will definitely output <strong>accept</strong> after the QUERY phase.</p>
<p>First, a recursive lemma is presented, which is then used to prove completeness. The lemma states that if <span class="math notranslate nohighlight">\(f^{(i)} \in \text{RS}^{(i)}\)</span> at step <span class="math notranslate nohighlight">\(i\)</span>, then in the COMMIT phase, the Verifier will randomly select <span class="math notranslate nohighlight">\(x^{(i)}\)</span> from <span class="math notranslate nohighlight">\(\mathbb{F}\)</span> and send it to the Prover. The Prover uses this random number to construct the next function <span class="math notranslate nohighlight">\(f^{(i+1)}_{f^{(i)}, x^{(i)}}\)</span>. For any <span class="math notranslate nohighlight">\(x^{(i)}\)</span> in <span class="math notranslate nohighlight">\(\mathbb{F}\)</span>, the constructed <span class="math notranslate nohighlight">\(f^{(i+1)}_{f^{(i)}, x^{(i)}}\)</span> is in the <span class="math notranslate nohighlight">\(\text{RS}^{(i+1)}\)</span> space. The formal statement of the recursive lemma is as follows, and its proof will be explained later.</p>
<p><strong>Lemma 1</strong> [BBHR18b, Lemma 4.1] (Inductive argument). If <span class="math notranslate nohighlight">\(f^{(i)} \in \text{RS}^{(i)}\)</span> then for all <span class="math notranslate nohighlight">\(x^{(i)} \in \mathbb{F}\)</span> it holds that <span class="math notranslate nohighlight">\(f^{(i+1)}_{f^{(i)}, x^{(i)}} \in \text{RS}^{(i+1)}\)</span> .</p>
<p>The idea of the completeness proof is that in the QUERY phase, the Verifier mainly checks if round consistency holds in step 3. If it doesn’t hold for any <span class="math notranslate nohighlight">\(i \in \{0, \cdots, r - 1\}\)</span>, it will immediately output reject. Only when the checks pass for all <span class="math notranslate nohighlight">\(i\)</span> will it finally output accept. For <span class="math notranslate nohighlight">\(i &lt; r - 1\)</span>, according to the construction process of <span class="math notranslate nohighlight">\(f^{(i + 1)}\)</span> in the COMMIT phase, round consistency will pass. For <span class="math notranslate nohighlight">\(i = r - 1\)</span>, based on the initial condition of completeness <span class="math notranslate nohighlight">\(f^{(0)} \in \text{RS}^{(0)}\)</span>, this theorem recursively shows that <span class="math notranslate nohighlight">\(f^{(r)} \in RS^{(r)}\)</span>. Finally, based on this conclusion, it is shown that round consistency will also pass in the QUERY phase, and thus the Verifier will definitely output accept. The specific completeness proof is as follows.</p>
<p><em><strong>Proof of Completeness in Theorem 1</strong></em>: For an honest Prover, for any function <span class="math notranslate nohighlight">\(f^{(i)}\)</span>, in step 2 of the COMMIT phase, for any <span class="math notranslate nohighlight">\(i &lt; r - 1\)</span>, construct</p>
<div class="math notranslate nohighlight">
\[
f_{f^{(i)}, x^{(i)}}^{(i + 1)} (y) \triangleq P_y^{(i)}(x^{(i)}).
\]</div>
<p>Based on this construction, round consistency will definitely pass in step 3 of the QUERY phase, i.e.,</p>
<div class="math notranslate nohighlight">
\[
f^{(i+1)}(s^{(i+1)}) = P^{(i)}(x^{(i)})
\]</div>
<p>holds.</p>
<p>We only need to prove that round consistency also passes for <span class="math notranslate nohighlight">\(i = r - 1\)</span>. From the completeness assumption, we know <span class="math notranslate nohighlight">\(f^{(0)} \in \text{RS}^{(0)}\)</span>, and by Lemma 1 recursively, we get <span class="math notranslate nohighlight">\(f^{(r)} \in RS^{(r)}\)</span>. Then there must exist a polynomial <span class="math notranslate nohighlight">\(P^{(r)}(X)\)</span> of degree <span class="math notranslate nohighlight">\(&lt;\rho |L^{(r)}|\)</span> such that <span class="math notranslate nohighlight">\(f^{(r)}(X)\)</span> and <span class="math notranslate nohighlight">\(P^{(r)}(X)\)</span> are completely consistent on <span class="math notranslate nohighlight">\(L^{(r)}\)</span>. Therefore, the Prover will send <span class="math notranslate nohighlight">\(d + 1 = \rho |L^{(r)}|\)</span> coefficients <span class="math notranslate nohighlight">\(\langle a_0^{(r)}, \cdots, a_d^{(r)} \rangle\)</span> of <span class="math notranslate nohighlight">\(P^{(r)}(X)\)</span> in step 3 of the COMMIT phase. The Verifier will construct <span class="math notranslate nohighlight">\(P'(X) \triangleq \sum_{j \le d} a_j^{(r)}X^j\)</span> based on the <span class="math notranslate nohighlight">\(d + 1\)</span> coefficients sent in the “Terminal function reconstruction” stage of the QUERY phase, and then obtain the function <span class="math notranslate nohighlight">\(f'^{(r)}\)</span> based on <span class="math notranslate nohighlight">\(P'(X)\)</span>. The function <span class="math notranslate nohighlight">\(f'^{(r)}\)</span> is the evaluation of <span class="math notranslate nohighlight">\(P'(X)\)</span> on <span class="math notranslate nohighlight">\(L^{(r)}\)</span>. We can deduce that <span class="math notranslate nohighlight">\(f'^{(r)}|_{L^{(r)}} = P'(X) = P^{(r)}(X) = f^{(r)}|_{L^{(r)}}\)</span>. Naturally, it will pass the round consistency check for the <span class="math notranslate nohighlight">\(i = r - 1\)</span> round, i.e.,</p>
<div class="math notranslate nohighlight">
\[
f'^{(r)}(s^{(i+1)}) = P^{(r-1)}(x^{i})
\]</div>
<p>Thus, it is proved that the Verifier will definitely output accept. <span style="float: right;"> <span class="math notranslate nohighlight">\(\Box\)</span> </span></p>
<section id="introduction-of-proposition-1">
<h3>Introduction of Proposition 1<a class="headerlink" href="#introduction-of-proposition-1" title="Link to this heading">#</a></h3>
<p>Before proving Lemma 1, we first present an important proposition, and then use this proposition to prove Lemma 1. In the following proposition, lowercase letters <span class="math notranslate nohighlight">\(x, y\)</span> are used to represent elements in the field, and uppercase letters <span class="math notranslate nohighlight">\(X,Y\)</span> are used to represent variables.</p>
<p><strong>Claim 1</strong> [BBHR18b, Claim 4.2].  For every <span class="math notranslate nohighlight">\(f^{(i)}: L^{(i)} \rightarrow \mathbb{F}\)</span> there exists <span class="math notranslate nohighlight">\(Q^{(i)}(X,Y) \in \mathbb{F}[X,Y]\)</span>  satisfying</p>
<ol class="arabic simple">
<li><p><span class="math notranslate nohighlight">\(f^{(i)}(x) = Q^{(i)}(x,q^{(i)}(x))\)</span> for all <span class="math notranslate nohighlight">\(x \in L^{(i)}\)</span></p></li>
<li><p><span class="math notranslate nohighlight">\(\deg_X(Q^{(i)}) &lt; |L_0^{(i)}|\)</span></p></li>
<li><p>If <span class="math notranslate nohighlight">\(f^{(i)} \in RS[\mathbb{F},L^{(i)},\rho]\)</span> then <span class="math notranslate nohighlight">\(\deg_Y(Q^{(i)}) &lt; \rho |L^{(i+1)}|\)</span></p></li>
</ol>
<p>This proposition is quite important for understanding the FRI protocol. Vitalik gave a specific example in the “A First Look at Sublinearity” section of his blog post <a class="reference external" href="https://vitalik.eth.limo/general/2017/11/22/starks_part_2.html">STARKs, Part II: Thank Goodness It’s FRI-day</a>, which already shows the prototype of the FRI protocol. Let’s revisit this example from the perspective of Proposition 1.</p>
<p>Assume the size of the finite field <span class="math notranslate nohighlight">\(L\)</span> is <span class="math notranslate nohighlight">\(N = 10^9\)</span>, and let the polynomial <span class="math notranslate nohighlight">\(f(X): L \rightarrow \mathbb{F}\)</span> have a degree <span class="math notranslate nohighlight">\(&lt; 10^6\)</span>, so we have <span class="math notranslate nohighlight">\(f \in RS[\mathbb{F}, L, \rho = 10^{-3}]\)</span>. According to Proposition 1, there must exist a bivariate polynomial <span class="math notranslate nohighlight">\(g(X,Y) \in \mathbb{F}[X,Y]\)</span> satisfying:</p>
<ol class="arabic simple">
<li><p>For <span class="math notranslate nohighlight">\(\forall x \in L\)</span>, we have <span class="math notranslate nohighlight">\(g(x,q(x)) = f(x)\)</span>, where <span class="math notranslate nohighlight">\(q(x) = x^{1000}\)</span></p></li>
<li><p><span class="math notranslate nohighlight">\(\deg_X(g) &lt; |L_0| = 10^3\)</span></p></li>
<li><p>Since <span class="math notranslate nohighlight">\(f \in RS[\mathbb{F}, L, \rho = 10^{-3}]\)</span>, we have <span class="math notranslate nohighlight">\(\deg_Y(g) &lt; \rho |L^{(1)}| = 10^{-3} \times 10^6 = 10^3\)</span></p></li>
</ol>
<p>Now the Prover wants to prove to the Verifier that the degree of <span class="math notranslate nohighlight">\(f(x)\)</span> is indeed less than <span class="math notranslate nohighlight">\(10^6\)</span>. The article uses intuitive geometric figures to illustrate the proof process.</p>
<p><img alt="" src="../_images/BBHR18-FRI-fri3.png" /></p>
<p>In the figure, the horizontal direction of the square represents the variable <span class="math notranslate nohighlight">\(X\)</span>, with a range of <span class="math notranslate nohighlight">\(L\)</span>, totaling <span class="math notranslate nohighlight">\(10^9\)</span> elements, while the vertical direction represents the variable <span class="math notranslate nohighlight">\(Y\)</span>, with a range of <span class="math notranslate nohighlight">\(\{x^{1000} | x \in L\}\)</span>. A point <span class="math notranslate nohighlight">\((x,y)\)</span> in the square corresponds to the calculated value of <span class="math notranslate nohighlight">\(g(x,y)\)</span>. For points <span class="math notranslate nohighlight">\((x, y)\)</span> on the diagonal of the square, satisfying <span class="math notranslate nohighlight">\(x = y\)</span>, we have <span class="math notranslate nohighlight">\(g(x,y) = g(x, x^{1000}) = f(x)\)</span>.</p>
<p>The proof process is as follows:</p>
<ol class="arabic simple">
<li><p>The Prover commits to all points in the square regarding the evaluation of <span class="math notranslate nohighlight">\(g(X,Y)\)</span>, for example, using a Merkle tree for commitment.</p></li>
<li><p>The Verifier randomly selects about a few dozen rows and columns. For each selected row or column, the Verifier will request samples of about 1010 points, ensuring that one of the required points in each case is on the diagonal. For example, if the Verifier selects the 5th column, then <span class="math notranslate nohighlight">\(x = x_4\)</span>, and 1010 sample points need to be selected. The x-coordinate of these points is already determined, so only the y-coordinate needs to be randomly selected. By selecting <span class="math notranslate nohighlight">\(y = x_4^{1000}\)</span> in the y-coordinates, it ensures that the point <span class="math notranslate nohighlight">\((x_4,x_4^{1000})\)</span> is on the diagonal.</p></li>
<li><p>The Prover replies with the values of <span class="math notranslate nohighlight">\(g(x,y)\)</span> corresponding to the points requested by the Verifier, along with the corresponding Merkle branches, proving that they are part of the data originally committed by the Prover.</p></li>
<li><p>The Verifier checks if the Merkle branches match, and for each row or column, the Verifier verifies whether the points provided by the Prover really correspond to a polynomial of degree <span class="math notranslate nohighlight">\(&lt;1000\)</span>. The Verifier can verify this by interpolating these points.</p></li>
</ol>
<p>The original text mentions:</p>
<blockquote>
<div><p>This gives the verifier a statistical proof that (i) most rows are populated mostly by points on degree <span class="math notranslate nohighlight">\(&lt;1000\)</span> polynomials, (ii) most columns are populated mostly by points on degree <span class="math notranslate nohighlight">\(&lt;1000\)</span> polynomials, and (iii) the diagonal line is mostly on these polynomials. This thus convinces the verifier that most points on the diagonal actually do correspond to a degree <span class="math notranslate nohighlight">\(&lt;1,000,000\)</span> polynomial.</p>
</div></blockquote>
<p>These points and conclusions can be linked to the three items given in Proposition 1:</p>
<ol class="arabic simple">
<li><p>For most rows, corresponding to polynomials of degree <span class="math notranslate nohighlight">\(&lt;1000\)</span>, which indicates that <span class="math notranslate nohighlight">\(\deg_X(g) &lt; 1000\)</span>.</p></li>
<li><p>For most columns, corresponding to polynomials of degree <span class="math notranslate nohighlight">\(&lt;1000\)</span>, which indicates that <span class="math notranslate nohighlight">\(\deg_Y(g) &lt; 1000\)</span>.</p></li>
<li><p>The diagonal is mainly composed of points on these polynomials, which indicates that the values of these points satisfy <span class="math notranslate nohighlight">\(g(x,x^{1000})\)</span>.</p></li>
</ol>
<p>This also shows that most points <span class="math notranslate nohighlight">\((x, x^{1000})\)</span> on the diagonal correspond to a polynomial of degree <span class="math notranslate nohighlight">\(&lt;10^6\)</span>, and because <span class="math notranslate nohighlight">\(f(x) = g(x,x^{1000})\)</span>, it convinces the Verifier that the degree of the polynomial <span class="math notranslate nohighlight">\(f(X)\)</span> is <span class="math notranslate nohighlight">\(&lt; 10^6\)</span>.</p>
<p>In summary, if we want to prove that the degree of a polynomial <span class="math notranslate nohighlight">\(f(X)\)</span> is less than a certain value, according to Proposition 1, there must exist a bivariate polynomial <span class="math notranslate nohighlight">\(g(X,Y)\)</span> that can be associated with <span class="math notranslate nohighlight">\(f(X)\)</span>. First, we have <span class="math notranslate nohighlight">\(f(x) = g(x,q(x))\)</span>, and the remaining two conclusions are about the degrees <span class="math notranslate nohighlight">\(\deg_X(g)\)</span> and <span class="math notranslate nohighlight">\(\deg_Y(g)\)</span> of <span class="math notranslate nohighlight">\(g(X,Y)\)</span>, which correspond to the degrees of the polynomials represented by the horizontal and vertical lines in the figure, respectively. In fact, the above steps can be recursively applied, which corresponds to the “And Even More Efficiency” section in the article, describing the process of the FRI protocol.</p>
<p><img alt="" src="../_images/BBHR18-FRI-fri_recrsion.png" /></p>
<p>Below is the proof of Proposition 1.</p>
<p><em><strong>Proof of Proposition 1</strong></em>: Let <span class="math notranslate nohighlight">\(P^{(i)} = \text{interpolant}^{f^{(i)}}\)</span>, i.e., interpolate the function <span class="math notranslate nohighlight">\(f^{(i)}\)</span> on <span class="math notranslate nohighlight">\(L^{(i)}\)</span> to obtain the polynomial <span class="math notranslate nohighlight">\(P^{(i)}\)</span>. Let <span class="math notranslate nohighlight">\(\mathbb{F}[X,Y]\)</span> denote the bivariate polynomial ring over the finite field <span class="math notranslate nohighlight">\(\mathbb{F}\)</span>; first sort the monomials by their total degree, then by their <span class="math notranslate nohighlight">\(X\)</span>-degree. Let</p>
<div class="math notranslate nohighlight">
\[
\begin{equation}
Q^{(i)}(X,Y) = P^{(i)}(X) \qquad \text{mod} \; Y - q^{(i)}(X)
\end{equation}
\]</div>
<p>be the remainder of <span class="math notranslate nohighlight">\(P^{(i)}(X)\)</span> divided by <span class="math notranslate nohighlight">\(Y - q^{(i)}(X)\)</span>. From this definition, we can deduce that there must exist a quotient <span class="math notranslate nohighlight">\(R(X,Y) \in \mathbb{F}[X,Y]\)</span> such that</p>
<div class="math notranslate nohighlight">
\[
P^{(i)}(X) = Q^{(i)}(X,Y) + (Y - q^{(i)}(X)) \cdot R(X,Y).
\]</div>
<p>For <span class="math notranslate nohighlight">\(\forall x \in L^{(i)}\)</span> and <span class="math notranslate nohighlight">\(y = q^{(i)}(x)\)</span>, substituting into the rightmost term of the above equation, we get <span class="math notranslate nohighlight">\((Y - q^{(i)}(X)) \cdot R(X,Y) = (y - q^{(i)}(x)) \cdot R(x,y) = 0\)</span>. Therefore, <span class="math notranslate nohighlight">\(P^{(i)}(x) = Q^{(i)}(x,y) = Q^{(i)}(x,q^{(i)}(x))\)</span>, and since <span class="math notranslate nohighlight">\(P^{(i)}(X)\)</span> is obtained by interpolating <span class="math notranslate nohighlight">\(f^{(i)}(X)\)</span> on <span class="math notranslate nohighlight">\(L^{(i)}\)</span>, we have <span class="math notranslate nohighlight">\(f^{(i)}(x) = P^{(i)}(x) = Q^{(i)}(x, q^{i}(x))\)</span>, which proves the first item in the proposition.</p>
<p>From the sorting of monomials, we can deduce that the defined remainder <span class="math notranslate nohighlight">\(Q\)</span> satisfies</p>
<div class="math notranslate nohighlight">
\[
\deg_X(Q^{(i)}(X,Y)) &lt; \deg(q^{(i)}) = |L_0^{(i)}|,
\]</div>
<p>thus the second item of Proposition 1 holds.</p>
<p>Finally, we prove the third item of Proposition 1. From the condition <span class="math notranslate nohighlight">\(f^{(i)} \in RS[\mathbb{F},L^{(i)},\rho]\)</span>, we can deduce <span class="math notranslate nohighlight">\(\deg(P^{(i)}) &lt; \rho |L^{(i)}|\)</span>. According to the division rule and the monomial sorting rule, we get</p>
<div class="math notranslate nohighlight">
\[
\deg_Y(Q^{(i)}) = \left \lfloor \frac{\deg(P^{(i)})}{\deg(q^{(i)})}\right \rfloor = \left \lfloor \frac{\deg(P^{(i)})}{|L_0^{(i)}|}\right \rfloor &lt; \left \lfloor \frac{\rho |L^{(i)}|}{|L_0^{(i)}|}\right \rfloor = \left \lfloor \rho |L^{(i+1)}|\right \rfloor \le \rho |L^{(i+1)}|.
\]</div>
<p>Thus, the third item of Proposition 1 is proved. <span style="float: right;"> <span class="math notranslate nohighlight">\(\Box\)</span> </span></p>
</section>
<section id="proof-of-lemma-1">
<h3>Proof of Lemma 1<a class="headerlink" href="#proof-of-lemma-1" title="Link to this heading">#</a></h3>
<p>Using the notation from Proposition 1. From the third item of the proposition, we have <span class="math notranslate nohighlight">\(\deg_Y(Q^{(i)}) &lt; \rho \cdot |L^{(i+1)}|\)</span> for any <span class="math notranslate nohighlight">\(x^{(i)}\)</span>. Next, we prove</p>
<div class="math notranslate nohighlight">
\[
\begin{equation}
	\forall y \in L^{(i+1)} , f^{(i+1)}(y) = Q^{(i)}(x^{(i)}, y)
\end{equation}
\]</div>
<p>If this equation holds, it proves that <span class="math notranslate nohighlight">\(\deg(f^{(i+1)}) \le \deg_Y(Q^{(i)}) &lt; \rho \cdot |L^{(i+1)}|\)</span>, which demonstrates that <span class="math notranslate nohighlight">\(\deg(f^{(i+1)}) \in \text{RS}^{(i+1)}\)</span>.</p>
<p>To prove this equation, first fix <span class="math notranslate nohighlight">\(y \in L^{(i+1)}\)</span>, let <span class="math notranslate nohighlight">\(S_y \in \mathcal{S}^{(i)}\)</span> be the set satisfying <span class="math notranslate nohighlight">\(q^{(i)}(S_y) = \{y\}\)</span>, which is also the coset of <span class="math notranslate nohighlight">\(L_0^{(i)}\)</span> in <span class="math notranslate nohighlight">\(L^{(i)}\)</span>. From the construction of <span class="math notranslate nohighlight">\(f^{(i+1)}\)</span>, we know</p>
<div class="math notranslate nohighlight">
\[
f^{(i+1)}(y) = \text{interpolant}^{f^{(i)}|_{S_y}}(x^{(i)}).
\]</div>
<p>From the first item of Proposition 1, we get</p>
<div class="math notranslate nohighlight">
\[
\forall x \in S_y, \quad f^{(i)}(x) = P^{(i)} = Q^{(i)}(x,y)
\]</div>
<p>From the second item of Proposition 1, we know that <span class="math notranslate nohighlight">\(\deg_X(Q^{(i)}) &lt; |L_0^{(i)}| = |S_y|\)</span>, so we can treat <span class="math notranslate nohighlight">\(X\)</span> as a formal variable and obtain</p>
<div class="math notranslate nohighlight">
\[
\text{interpolant}^{f^{(i)}|_{S_y}}(X) = Q^{(i)}(X,y)
\]</div>
<p>Then let <span class="math notranslate nohighlight">\(X = x^{(i)}\)</span>, the evaluations of the polynomials on both sides at <span class="math notranslate nohighlight">\(x^{(i)}\)</span> must be the same. Thus, we get</p>
<div class="math notranslate nohighlight">
\[
f^{(i+1)}(y) = \text{interpolant}^{f^{(i)}|_{S_y}}(x^{(i)}) = Q^{(i)}(x^{(i)},y)
\]</div>
<p>Naturally, for any <span class="math notranslate nohighlight">\(y \in L^{(i+1)}\)</span>, we have</p>
<div class="math notranslate nohighlight">
\[
\forall y \in L^{(i+1)} , f^{(i+1)}(y) = Q^{(i)}(x^{(i)}, y)
\]</div>
<p>Thus, the proof is complete. <span style="float: right;"> <span class="math notranslate nohighlight">\(\Box\)</span> </span></p>
</section>
</section>
<section id="analysis-of-soundness-proof-in-theorem-1">
<h2>Analysis of Soundness Proof in Theorem 1<a class="headerlink" href="#analysis-of-soundness-proof-in-theorem-1" title="Link to this heading">#</a></h2>
<p>This section mainly explains the proof idea of soundness in Theorem 1. First, we give several definitions used in the proof, then explain two important lemmas, and finally prove soundness based on these two lemmas.</p>
<section id="round-consistency-and-distortion-set">
<h3>Round Consistency and Distortion Set<a class="headerlink" href="#round-consistency-and-distortion-set" title="Link to this heading">#</a></h3>
<p>The difficulty in analyzing soundness lies in how to accurately estimate the probability that any malicious prover will pass the protocol through interaction with the verifier. To make an accurate estimation, we need to consider where errors might occur in the protocol process. If we can estimate the probability of error for all these error processes without any loss, and then comprehensively analyze, we can obtain the soundness. In this process, to accurately estimate these possible error situations, we need to accurately describe these estimates, that is, we need to quantify them. Below are some necessary definitions in this process.</p>
<p>At step <span class="math notranslate nohighlight">\(i\)</span>, given oracles for <span class="math notranslate nohighlight">\(f^{(i)}\)</span> and <span class="math notranslate nohighlight">\(f^{(i+1)}\)</span>, and the random number <span class="math notranslate nohighlight">\(x^{(i)}\)</span> given by the Verifier.</p>
<blockquote>
<div><p>❓ <strong>Question</strong></p>
<ul class="contains-task-list simple">
<li class="task-list-item"><p><input class="task-list-item-checkbox" disabled="disabled" type="checkbox"> Is there a mistake in the paper here? Should it be changed to <span class="math notranslate nohighlight">\(f^{(i-1)}\)</span>?</p></li>
</ul>
</div></blockquote>
<ul class="simple">
<li><p><strong>Inner-layer distance</strong>  The <em>inner-layer distance</em> of the <span class="math notranslate nohighlight">\(i\)</span>th step is the <span class="math notranslate nohighlight">\(\Delta^{(i)}\)</span>-distance of <span class="math notranslate nohighlight">\(f^{(i)}\)</span> from <span class="math notranslate nohighlight">\(\text{RS}^{(i)}\)</span>.</p></li>
</ul>
<div class="math notranslate nohighlight">
\[
\delta^{(i)} \triangleq \Delta^{(i)}(f^{i},\text{RS}^{(i)})
\]</div>
<p>This definition is the block-wise distance of step <span class="math notranslate nohighlight">\(i\)</span> mentioned earlier.</p>
<ul class="simple">
<li><p><strong>Round error</strong> For <span class="math notranslate nohighlight">\(i &gt; 0\)</span>, the <span class="math notranslate nohighlight">\(i\)</span>th <em>round error set</em> is a subset of <span class="math notranslate nohighlight">\(L^{(i)}\)</span>, defined as follows:</p></li>
</ul>
<div class="math notranslate nohighlight">
\[
 A_{\text{err}}^{(i)}\left(f^{(i)},f^{(i-1)},x^{(i-1)}\right) \triangleq \left \{ y_S^{(i)} \in L^{(i)} | \text{interpolant} ^{f^{(i-1)|_S}}\left(x^{(i-1)}\right) \neq f^{(i)}\left(y_S^{(i)}\right)\right \}
\]</div>
<p>The round error set describes those elements in <span class="math notranslate nohighlight">\(L^{(i)}\)</span> where the Verifier will fail the round consistency test in the <span class="math notranslate nohighlight">\(i\)</span>th round. The corresponding probability is the <span class="math notranslate nohighlight">\(i\)</span>th round error <span class="math notranslate nohighlight">\(\text{err}^{(i)}\)</span>.</p>
<div class="math notranslate nohighlight">
\[
\text{err}^{(i)}\left(f^{(i)},f^{(i-1)},x^{(i-1)}\right) \triangleq \frac{|A_{\text{err}}^{(i)}|}{|L^{(i)}|}
\]</div>
<ul class="simple">
<li><p><strong>Closest codeword</strong> Let <span class="math notranslate nohighlight">\(\bar{f}^{(i)}\)</span> denote the closest codeword to <span class="math notranslate nohighlight">\(f^{(i)}\)</span> in <span class="math notranslate nohighlight">\(\text{RS}^{(i)}\)</span> under the <span class="math notranslate nohighlight">\(\Delta^{(i)}(\cdot)\)</span> measure. We know that the <span class="math notranslate nohighlight">\(\Delta^{(i)}(\cdot)\)</span> measure is a metric in the coset partition set <span class="math notranslate nohighlight">\(\mathcal{S}^{(i)}\)</span> of <span class="math notranslate nohighlight">\(L^{(i)}\)</span>. Let <span class="math notranslate nohighlight">\(\mathcal{S}_B^{(i)} \subset \mathcal{S}^{(i)}\)</span> denote the “bad” cosets in the partition <span class="math notranslate nohighlight">\(\mathcal{S}^{(i)}\)</span> where <span class="math notranslate nohighlight">\(f^{(i)}\)</span> and the codeword <span class="math notranslate nohighlight">\(\bar{f}^{(i)}\)</span> are inconsistent, i.e.,</p></li>
</ul>
<div class="math notranslate nohighlight">
\[
\begin{equation}
	\mathcal{S}_B^{(i)} = \left\{ S \in \mathcal{S}^{i} | f^{(i)}|_S \neq \bar{f}^{(i)}|_S \right \}
\end{equation}
\]</div>
<p>Putting these “bad” cosets in <span class="math notranslate nohighlight">\(\mathcal{S}^{(i)}\)</span> together forms the set <span class="math notranslate nohighlight">\(D^{(i)} = \cup_{S \in \mathcal{S}_B^{(i)}}S\)</span>, which we can see is a subset of <span class="math notranslate nohighlight">\(L^{(i)}\)</span>, where each element is a “bad” coset.</p>
<p>If <span class="math notranslate nohighlight">\(\delta^{(i)} &lt; (1-\rho) /2\)</span>, then according to the inequality about the block-wise distance <span class="math notranslate nohighlight">\(\Delta^{(i)}\)</span> mentioned earlier, we can get</p>
<div class="math notranslate nohighlight">
\[
\Delta_H^{(i)} \le \delta^{(i)} &lt; (1-\rho) /2,
\]</div>
<p>According to the bound of relative Hamming distance, unique decoding is possible at this time. Based on <span class="math notranslate nohighlight">\(f^{(i)}\)</span>, a unique <span class="math notranslate nohighlight">\(\bar{f}^{(i)}\)</span> can be decoded, so <span class="math notranslate nohighlight">\(\mathcal{S}_B^{(i)}\)</span> is unique at this time, and thus <span class="math notranslate nohighlight">\(\Delta_H^{(i)}\)</span> can also be uniquely determined.</p>
<ul class="simple">
<li><p><strong>Distortion set</strong> For <span class="math notranslate nohighlight">\(\epsilon &gt; 0\)</span>, the <em>distortion set</em> of <span class="math notranslate nohighlight">\(f^{(i)}\)</span> is</p></li>
</ul>
<div class="math notranslate nohighlight">
\[
\begin{equation}
	B \left[ f^{(i)}; \epsilon \right ] \triangleq \left\{ x^{(i)} \in \mathbb{F} | \Delta_H \left( f_{f^{(i)},x^{(i)}}^{(i+1)},\text{RS}^{(i+1)}\right) &lt; \epsilon \right\}
\end{equation}
\]</div>
<p>Note that the measure used above is the relative Hamming distance. We can understand this distortion set as follows: we know that the Verifier will select a random number <span class="math notranslate nohighlight">\(x^{(i)}\)</span> from the finite field <span class="math notranslate nohighlight">\(\mathcal{F}\)</span> and send it to the Prover. The Prover constructs the next <span class="math notranslate nohighlight">\(f^{(i+1)}\)</span> based on the <span class="math notranslate nohighlight">\(x^{(i)}\)</span> sent by the Verifier and <span class="math notranslate nohighlight">\(f^{(i)}\)</span>. Then we look at the relative Hamming distance between the constructed next <span class="math notranslate nohighlight">\(f^{(i+1)}\)</span> and <span class="math notranslate nohighlight">\(\text{RS}^{(i+1)}\)</span>. If we give a value <span class="math notranslate nohighlight">\(\epsilon\)</span>, we look at which <span class="math notranslate nohighlight">\(x^{(i)}\)</span> in <span class="math notranslate nohighlight">\(\mathbb{F}\)</span> will cause the constructed <span class="math notranslate nohighlight">\(f_{f^{(i)},x^{(i)}}^{(i+1)}\)</span> to have a minimum relative Hamming distance from the encoding space <span class="math notranslate nohighlight">\(\text{RS}^{(i+1)}\)</span> less than the given parameter <span class="math notranslate nohighlight">\(\epsilon\)</span>. To understand further, it’s considering all <span class="math notranslate nohighlight">\(x^{(i)}\)</span> on the field <span class="math notranslate nohighlight">\(\mathbb{F}\)</span>, looking at which <span class="math notranslate nohighlight">\(f_{f^{(i)},x^{(i)}}^{(i+1)}\)</span> will have a certain distance from the entire encoding space <span class="math notranslate nohighlight">\(\text{RS}^{(i+1)}\)</span>, with this distance parameter being at most <span class="math notranslate nohighlight">\(\epsilon\)</span>. According to the condition <span class="math notranslate nohighlight">\(\epsilon &gt; 0\)</span>, we know that <span class="math notranslate nohighlight">\(f_{f^{(i)},x^{(i)}}^{(i+1)}\)</span> has at least a positive distance to the encoding space, definitely not in the <span class="math notranslate nohighlight">\(\text{RS}^{(i+1)}\)</span> space.</p>
<p>So what error situations does the distortion set consider? It starts from the perspective of the Verifier’s behavior, considering the situations where the Verifier’s random number selection process may lead to not being in the encoding space.</p>
</section>
<section id="soundness-proof-idea">
<h3>Soundness Proof Idea<a class="headerlink" href="#soundness-proof-idea" title="Link to this heading">#</a></h3>
<p>We just mentioned that the distortion set considers possible errors from the process of the Verifier selecting random numbers. Then another perspective is the errors produced by the Prover in the construction process or during the COMMIT phase. So when we want to estimate soundness, we consider the following two situations where errors may occur:</p>
<ol class="arabic simple">
<li><p>Errors caused by the Verifier selecting random numbers <span class="math notranslate nohighlight">\(x^{(i)}\)</span> from <span class="math notranslate nohighlight">\(\mathbb{F}\)</span>.</p></li>
<li><p>Errors caused by the Prover in the COMMIT phase.</p></li>
</ol>
<p>This gives us the general idea for analyzing soundness: first estimate the probability of the first situation occurring, then assume the first situation doesn’t occur and estimate the probability of the second situation occurring. Finally, analyze the probability of both situations occurring simultaneously, which gives us the soundness we want.</p>
<p>To estimate the probability of the first situation, we first present a pair of lemmas about the distortion set, and then use these lemmas to prove soundness. These two lemmas consider different values of <span class="math notranslate nohighlight">\(\epsilon\)</span>. We know that in the process of decoding a code, there will first be a relative Hamming distance parameter <span class="math notranslate nohighlight">\(\delta\)</span>, and we consider two cases for the value of <span class="math notranslate nohighlight">\(\delta\)</span>:</p>
<ol class="arabic simple">
<li><p>If <span class="math notranslate nohighlight">\(\delta \le (1 - \rho) / 2\)</span>, then the decoding is unique, i.e., unique decoding.</p></li>
<li><p>If <span class="math notranslate nohighlight">\(\delta &gt; (1 - \rho) / 2\)</span>, then the decoding results in a list, which is List decoding.</p></li>
</ol>
<blockquote>
<div><p>📖 <strong>Notes</strong></p>
<p>To better understand List Decoding, here’s its definition:</p>
<p><strong>Definition 2</strong> [Essential Coding Theory, Definition 7.2.1] Given <span class="math notranslate nohighlight">\(0 \le \rho \le 1\)</span>, <span class="math notranslate nohighlight">\(L \ge 1\)</span>, a code <span class="math notranslate nohighlight">\(C \subseteq \Sigma^n\)</span> is <span class="math notranslate nohighlight">\((\rho, L)\)</span>-list decodable if for every received word <span class="math notranslate nohighlight">\(\vec{y} \in \Sigma^n\)</span>,</p>
<div class="math notranslate nohighlight">
\[
&gt; |\{c \in C | \Delta(\vec{y},c) \le \rho n\}| \le L.
&gt; \]</div>
<p>This means that given a relative Hamming distance parameter <span class="math notranslate nohighlight">\(\delta\)</span> in advance, as well as an upper limit <span class="math notranslate nohighlight">\(L\)</span> on the length of the list, for each received message <span class="math notranslate nohighlight">\(\vec{y}\)</span>, in the encoding space <span class="math notranslate nohighlight">\(C\)</span>, as long as the relative Hamming distance between the codeword <span class="math notranslate nohighlight">\(c\)</span> and the message <span class="math notranslate nohighlight">\(\vec{y}\)</span> is less than or equal to <span class="math notranslate nohighlight">\(\rho n\)</span>, we consider <span class="math notranslate nohighlight">\(c\)</span> to be a valid decoding. At the same time, it requires that the number of valid encodings <span class="math notranslate nohighlight">\(c\)</span> that meet this distance condition does not exceed <span class="math notranslate nohighlight">\(L\)</span>, then we say this encoding is <span class="math notranslate nohighlight">\((\rho n, L)\)</span>-list decodable.</p>
<p>According to the Hamming distance, there is such a property:</p>
<p><strong>Proposition 1</strong> [Essential Coding Theory, Proposition 1.4.2] Given a code <span class="math notranslate nohighlight">\(C\)</span>, the following are equivalent:</p>
<ol class="arabic simple">
<li><p><span class="math notranslate nohighlight">\(C\)</span> has minimum distance <span class="math notranslate nohighlight">\(d \ge 2\)</span>,</p></li>
<li><p>If <span class="math notranslate nohighlight">\(d\)</span> is odd, <span class="math notranslate nohighlight">\(C\)</span> can correct <span class="math notranslate nohighlight">\((d−1)/2\)</span> errors.</p></li>
<li><p><span class="math notranslate nohighlight">\(C\)</span> can detect <span class="math notranslate nohighlight">\(d − 1\)</span> errors.</p></li>
<li><p><span class="math notranslate nohighlight">\(C\)</span> can correct <span class="math notranslate nohighlight">\(d − 1\)</span> erasures.</p></li>
</ol>
<p>Suppose the relative Hamming distance of <span class="math notranslate nohighlight">\(C\)</span> is <span class="math notranslate nohighlight">\(\delta\)</span>, then <span class="math notranslate nohighlight">\(\delta = d / n\)</span>. According to the above property, we know that for <span class="math notranslate nohighlight">\(C\)</span>, the proportion of encodings that can be corrected in the worst case is <span class="math notranslate nohighlight">\(\le \frac{\delta}{2}\)</span>. And from the Singleton bound, we know,</p>
<div class="math notranslate nohighlight">
\[
&gt; \delta \le 1 - \rho
&gt; \]</div>
<p>Therefore, when the proportion of erroneous encodings is <span class="math notranslate nohighlight">\(\le \frac{1-\rho}{2}\)</span>, these errors can be corrected, that is, unique encoding is possible.</p>
</div></blockquote>
<p>Now let’s formally present this pair of lemmas. Lemma 3 describes the case where the decoding radius exceeds the unique decoding bound <span class="math notranslate nohighlight">\((1-\rho)/2\)</span>, while Lemma 4 talks about the case where the decoding radius is less than <span class="math notranslate nohighlight">\((1-\rho)/2\)</span>, i.e., unique decoding.</p>
<p><strong>Lemma 3</strong> [BBHR18b, Lemma 4.3] (Soundness above unique decoding radius). For any <span class="math notranslate nohighlight">\(\epsilon \le \frac{2^{\eta}}{|\mathbb{F}|}\)</span> and <span class="math notranslate nohighlight">\(f^{(i)}\)</span> such that <span class="math notranslate nohighlight">\(\delta^{(i)}&gt;0\)</span></p>
<div class="math notranslate nohighlight">
\[
\begin{equation}
	\Pr_{x^{(i)} \in \mathbb{F}} \left[ x^{(i)} \in B \left[ f^{(i)}; \frac{1}{2} \cdot \left( \delta^{(i)} (1 - \epsilon) - \rho \right) \right ] \right] \le \frac{2^{\eta}}{\epsilon |\mathbb{F}|}
\end{equation}
\]</div>
<p><strong>Lemma 4</strong> [BBHR18b, Lemma 4.4] (Soundness within unique decoding radius). If <span class="math notranslate nohighlight">\(\delta^{(i)} &lt; (1 - \rho) / 2\)</span> then</p>
<div class="math notranslate nohighlight">
\[
\begin{equation}
	\Pr_{x^{(i)} \in \mathbb{F}} \left[ x^{(i)} \in B \left[ f^{(i)}; \delta^{(i)} \right ] \right] \le \frac{|L^{(i)}|}{|\mathbb{F}|}.
\end{equation}
\]</div>
<p>Moreover, suppose that for <span class="math notranslate nohighlight">\(i &lt; r\)</span> the sequences <span class="math notranslate nohighlight">\(\vec{f} = (f^{(i)}, \cdots, f^{(r)})\)</span> and <span class="math notranslate nohighlight">\(\vec{x} = (x^{(i)}, \cdots, x^{(r - 1)})\)</span> satisfy</p>
<ol class="arabic simple">
<li><p>for all <span class="math notranslate nohighlight">\(j \in \{i, \cdots, r\}\)</span> we have <span class="math notranslate nohighlight">\(\delta^{(j)} &lt; \frac{1-\rho}{2}\)</span></p></li>
<li><p>for all <span class="math notranslate nohighlight">\(j \in \{i, \cdots, r - 1\}\)</span> we have <span class="math notranslate nohighlight">\(\bar{f}^{(j+1)} = f_{\bar{f}^{(j)},x^{(j)}}^{(j+1)}\)</span></p></li>
<li><p>for all <span class="math notranslate nohighlight">\(j \in \{i, \cdots, r\}\)</span> we have <span class="math notranslate nohighlight">\(x^{(j)} \notin B[f^{(i)};\delta^{(j)}]\)</span></p></li>
</ol>
<p>then</p>
<div class="math notranslate nohighlight">
\[
\begin{equation}
	\Pr_{s^{(i)} \in D^{(i)}} \left[ \text{QUERY}(\vec{f}, \vec{x}) = \text{reject} \right] = 1
\end{equation}
\]</div>
<p>and consequently</p>
<div class="math notranslate nohighlight">
\[
\begin{equation}
	\Pr_{s^{(i)} \in L^{(i)}} \left[ \text{QUERY}(\vec{f}, \vec{x}) = \text{reject} \right] \ge \frac{|D^{(i)}|}{| L^{(i)} |} = \delta^{(i)}
\end{equation}
\]</div>
<p>According to the definition of the distortion set, these two lemmas are talking about the probability of the Verifier selecting a random number <span class="math notranslate nohighlight">\(x^{(i)}\)</span> entering the distortion set under different decoding radii <span class="math notranslate nohighlight">\(\epsilon\)</span>.</p>
<p>The conclusion following the “moreover” in Lemma 4 states that if the following conditions are met:</p>
<ol class="arabic simple">
<li><p>For all <span class="math notranslate nohighlight">\(j \in \{i, \cdots, r\}\)</span>, unique decoding is satisfied, that is, <span class="math notranslate nohighlight">\(\delta^{(j)} &lt; \frac{1 - \rho}{2}\)</span>.</p></li>
<li><p>For all <span class="math notranslate nohighlight">\(j \in \{i, \cdots, r - 1\}\)</span>, in <span class="math notranslate nohighlight">\(\text{RS}^{(j)}\)</span>, select the closest codeword <span class="math notranslate nohighlight">\(\bar{f}^{(j)}\)</span> to <span class="math notranslate nohighlight">\(f^{(j)}\)</span>, and the next function constructed with the random number <span class="math notranslate nohighlight">\(x^{(i)}\)</span> is <span class="math notranslate nohighlight">\(f_{\bar{f}^{(j)},x^{(j)}}^{(j+1)}\)</span>, assuming it equals the closest codeword to <span class="math notranslate nohighlight">\(f^{(j+1)}\)</span> in <span class="math notranslate nohighlight">\(\text{RS}^{(j+1)}\)</span>, i.e., satisfying <span class="math notranslate nohighlight">\(\bar{f}^{(j+1)} = f_{\bar{f}^{(j)},x^{(j)}}^{(j+1)}\)</span>.</p></li>
<li><p>For all <span class="math notranslate nohighlight">\(j \in \{i, \cdots, r - 1\}\)</span>, the random number <span class="math notranslate nohighlight">\(x^{(j)}\)</span> has not entered the distortion set, i.e., <span class="math notranslate nohighlight">\(x^{(j)} \notin B[f^{(i)};\delta^{(j)}]\)</span>.</p></li>
</ol>
<p>Then the conclusion is that in the QUERY phase, if <span class="math notranslate nohighlight">\(s^{i}\)</span> is selected from the “bad” coset <span class="math notranslate nohighlight">\(D^{(i)}\)</span>, then the Verifier will definitely reject in the QUERY phase, i.e.,</p>
<div class="math notranslate nohighlight">
\[
\begin{equation}
	\Pr_{s^{(i)} \in D^{(i)}} \left[ \text{QUERY}(\vec{f}, \vec{x}) = \text{reject} \right] = 1
\end{equation}
\]</div>
<p>Thus, we can conclude that if <span class="math notranslate nohighlight">\(s^{i}\)</span> is selected from the entire <span class="math notranslate nohighlight">\(L^{(i)}\)</span>, the probability of the Verifier rejecting in the QUERY phase is at least <span class="math notranslate nohighlight">\(\frac{|D^{(i)}|}{| L^{(i)} |}\)</span>, i.e.,</p>
<div class="math notranslate nohighlight">
\[
\begin{equation}
	\Pr_{s^{(i)} \in L^{(i)}} \left[ \text{QUERY}(\vec{f}, \vec{x}) = \text{reject} \right] \ge \frac{|D^{(i)}|}{| L^{(i)} |} = \delta^{(i)}.
\end{equation}
\]</div>
<p>Now that we’ve done the preparation work, let’s start proving the soundness of the protocol. So far, considering the possible error situations mentioned earlier, the soundness proof idea is as follows.</p>
<ol class="arabic">
<li><p>In the COMMIT phase, the Verifier may choose random numbers from the distortion set.
Now the conclusions of Lemma 3 and Lemma 4 can help us estimate the probability of this happening. We call it a “bad” event when the Verifier selects a random number <span class="math notranslate nohighlight">\(x^{(i)}\)</span> from the distortion set. The Verifier will select a total of <span class="math notranslate nohighlight">\(r\)</span> random numbers, denoted as <span class="math notranslate nohighlight">\(x^{(0)}, \cdots, x^{(r-1)}\)</span>. The events of selecting a random number from the distortion set in each round are denoted as <span class="math notranslate nohighlight">\(E^{(0)}, \cdots, E^{(r-1)}\)</span>. We estimate the bound on the probability of some “bad” events occurring, which is at most</p>
<div class="math notranslate nohighlight">
\[
	\frac{3|L^{(0)}|}{|\mathbb{F}|}.
	\]</div>
</li>
<li><p>In the QUERY phase, the Verifier may reject.
Assuming situation 1 does not occur, under this condition, we estimate the bound on the probability of the Verifier rejecting in the QUERY phase. The probability of rejection for a complete single round is at least</p>
<div class="math notranslate nohighlight">
\[
	\min \left \{\delta^{(0)}, \frac{1-3\rho-2^{\eta}/\sqrt{|L^{(0)}|}}{4} \right \}.
	\]</div>
</li>
<li><p>Considering both situations 1 and 2 occurring, and considering that the Verifier repeats the QUERY phase <span class="math notranslate nohighlight">\(l\)</span> times, we can obtain that the soundness of the FRI protocol is at least</p>
<div class="math notranslate nohighlight">
\[
	\textbf{s}^{-}(\delta^{(0)}) \triangleq 1 - \left ( \frac{3|L^{(0)}|}{|\mathbb{F}|} + \left (1 - \min \left \{\delta^{(0)}, \frac{1-3\rho-2^{\eta}/\sqrt{|L^{(0)}|}}{4} \right \}\right )^{l} \right).
	\]</div>
</li>
</ol>
<blockquote>
<div><p>🤔 <strong>Thoughts</strong></p>
<p>There is indeed a situation where the Verifier selects some random numbers <span class="math notranslate nohighlight">\(x^{(i)}\)</span> that fall into the distortion set, and then the <span class="math notranslate nohighlight">\(f_{f^{(i)},x^{(i)}}^{(i+1)}\)</span> constructed from an <span class="math notranslate nohighlight">\(f^{(i)}\)</span> that is quite far from the RS code (assume <span class="math notranslate nohighlight">\(\epsilon\)</span> far) and <span class="math notranslate nohighlight">\(x^{(i)}\)</span> does not maintain this distance, becoming smaller than before, i.e., distorted. In this case, if we run the QUERY step, we don’t have the ability to distinguish this situation. In other words, if a polynomial <span class="math notranslate nohighlight">\(f_{f^{(i)},x^{(i)}}^{(i+1)}\)</span> itself is not in <span class="math notranslate nohighlight">\(\text{RS}^{(i+1)}\)</span>, and at the same time it is less than <span class="math notranslate nohighlight">\(\epsilon\)</span> away from <span class="math notranslate nohighlight">\(\text{RS}^{(i+1)}\)</span>, the Verifier has the ability to identify a polynomial that is <span class="math notranslate nohighlight">\(\epsilon\)</span> far from the RS code space. Now it’s confused, lost, and believes that the Prover hasn’t cheated, because at this point it’s indeed less than a given parameter <span class="math notranslate nohighlight">\(\epsilon\)</span>, and finally outputs accept.</p>
</div></blockquote>
<blockquote>
<div><p>😎 <strong>Thoughts on the overall soundness probability derivation</strong></p>
<p>First, let’s consider a simplest ZK protocol (this example and image are from <a class="reference external" href="https://www.youtube.com/watch?v=uchjTIlPzFo&amp;amp;ab_channel=BerkeleyRDICenteronDecentralization%26AI">Zero Knowledge Proofs - Introduction and History of ZKP</a>)</p>
<p><img alt="" src="../_images/BBHR18-FRI-tosscoin-1.png" />
Now let’s consider the soundness analysis, which is about calculating the probability of the Verifier rejecting when the Prover provides a paper that is not two-colored. Here, assume the Prover uses a single-colored paper to interact with the Verifier, then each time the Prover has at most a <span class="math notranslate nohighlight">\(1/2\)</span> probability of passing, that is, the Verifier outputting accept. The final probability is shown in the figure below.</p>
<p><img alt="" src="../_images/BBHR18-FRI-tosscoin-2.png" />
If we analyze the soundness, that is the probability of the Verifier rejecting, the probability of accepting is at most <span class="math notranslate nohighlight">\(1/2\)</span>, so the probability of rejecting in one interaction is at least <span class="math notranslate nohighlight">\(1/2\)</span>. If it is repeated <span class="math notranslate nohighlight">\(k\)</span> times, then the soundness is, for any <span class="math notranslate nohighlight">\(P^*\)</span>,</p>
<div class="math notranslate nohighlight">
\[
&gt; \Pr[\left \langle \text{P}^* \leftrightarrow \text{V} \right \rangle = \text{reject}|\text{This page only contains 1 color}] \ge 1 - \left(\frac{1}{2}\right)^k
&gt; \]</div>
<p>Similar to the process of analyzing the soundness of this simple example, let’s look at the soundness of FRI. The probability in the simple example considers the probability that we can make the Verifier finally accept from the Verifier’s coin toss when inputting incorrect knowledge. For the FRI protocol, it’s about inputting an <span class="math notranslate nohighlight">\(f^{(0)} \notin \text{RS}^{(0)}\)</span>, it’s not in <span class="math notranslate nohighlight">\(\text{RS}^{(0)}\)</span>, so how to measure it? We measure how far it is from <span class="math notranslate nohighlight">\(\text{RS}^{(0)}\)</span> under the block-wise measure, i.e., <span class="math notranslate nohighlight">\(\delta^{(0)} \triangleq \Delta^{(0)}(f^{0}, \text{RS}^{(0)}) &gt; 0\)</span>. Then we similarly consider that the Verifier’s random number toss gives the Prover a loophole to exploit. Because the Verifier threw some random numbers <span class="math notranslate nohighlight">\(x^{(i)}\)</span> that allowed the Prover to pass the protocol with an incorrect <span class="math notranslate nohighlight">\(f^{(0)} \notin \text{RS}^{(0)}\)</span>. That is, some “bad” events occurred, making the selected random numbers enter the distortion set, then the probability of the Verifier passing is at most <span class="math notranslate nohighlight">\(\frac{3|L^{(0)}|}{|\mathbb{F}|}\)</span>.</p>
<p>There’s another probability of the Verifier rejecting in the QUERY phase. In the above example, the Verifier directly judges whether the coin’ sent by the Prover is equal to the coin in the Verifier’s hand, which is direct and doesn’t introduce any randomness. If they are not equal, it will directly reject, without any chance to exploit loopholes. So now let’s examine if there’s anything that includes randomness in the QUERY phase of the FRI protocol? We’ll find that in the QUERY phase, the Verifier will select a random number <span class="math notranslate nohighlight">\(s^{(0)}\)</span> from <span class="math notranslate nohighlight">\(L^{(0)}\)</span>, and then perform calculations to check if the round consistency can pass. This process of introducing randomness with <span class="math notranslate nohighlight">\(s^{(0)}\)</span> is the key to estimating the probability of the Verifier rejecting in the QUERY phase.</p>
<p>To analyze more clearly, assume that the random numbers <span class="math notranslate nohighlight">\(x^{(i)}\)</span> selected by the Verifier in the COMMIT phase did not fall into the distortion set. Then let’s look at the randomness introduced in the QUERY phase, which is the selection of <span class="math notranslate nohighlight">\(s^{(0)}\)</span>. We can use the moreover conclusion of Lemma 4 to see that if all three conditions are met, it gives a possibility of rejection, which is at least <span class="math notranslate nohighlight">\(\delta^{(0)}\)</span>, and then consider what is the minimum probability of the Verifier rejecting when these three conditions are not simultaneously satisfied. At this time, the sets <span class="math notranslate nohighlight">\(A_{\text{err}}^{(i)}\)</span> and <span class="math notranslate nohighlight">\(D^{(i)}\)</span> will be used in the proof process.</p>
</div></blockquote>
<p>Now let’s formally give the Soundness proof.</p>
<p><em><strong>Theorem 1 Soundness Proof</strong></em>: Let <span class="math notranslate nohighlight">\(\epsilon = \frac{2^{\eta}}{|L^{(r/2)}|}\)</span>; for simplicity, assume <span class="math notranslate nohighlight">\(r\)</span> is even (using <span class="math notranslate nohighlight">\(\epsilon = \frac{2^{\eta}}{|L^{\left \lceil r/2 \right \rceil }|}\)</span> would yield the same bound, but its analysis would be a bit more complicated).</p>
<p><strong>Part I - A series of bad events</strong> The <span class="math notranslate nohighlight">\(i\)</span>-th bad event <span class="math notranslate nohighlight">\(E^{(i)}\)</span> is defined as follows:</p>
<ul class="simple">
<li><p><strong>large distance:</strong> If <span class="math notranslate nohighlight">\(\delta^{(i)} \ge \frac{1 - \rho}{2}\)</span>, then <span class="math notranslate nohighlight">\(E^{(i)}\)</span> is the event</p></li>
</ul>
<div class="math notranslate nohighlight">
\[
x^{(i)} \in B \left[ f^{(i)}; \frac{1}{2} \cdot \left( \delta^{(i)} (1 - \epsilon) - \rho \right) \right ] 
\]</div>
<ul class="simple">
<li><p><strong>small distance:</strong> If <span class="math notranslate nohighlight">\(\delta^{(i)} &lt; \frac{1 - \rho}{2}\)</span>, then <span class="math notranslate nohighlight">\(E^{(i)}\)</span> is the event</p></li>
</ul>
<div class="math notranslate nohighlight">
\[
x^{(i)} \in B \left[ f^{(i)}; \delta^{(i)} \right] 
\]</div>
<p>Assuming the event <span class="math notranslate nohighlight">\(E^{(i)}\)</span> does not occur,</p>
<ol class="arabic">
<li><p>If <span class="math notranslate nohighlight">\(\delta^{(i)} &lt; \frac{1 - \rho}{2}\)</span>, then according to the definition of event <span class="math notranslate nohighlight">\(E^{(i)}\)</span> and the distortion set, we can get</p>
<div class="math notranslate nohighlight">
\[
	x^{(i)} \notin B \left[ f^{(i)}; \delta^{(i)} \right],
	\]</div>
<p>i.e.,</p>
<div class="math notranslate nohighlight">
\[
	x^{(i)} \notin \left\{ x^{(i)} \in \mathbb{F} | \Delta_H \left( f_{f^{(i)},x^{(i)}}^{(i+1)},\text{RS}^{(i+1)}\right) &lt; \delta^{(i)} \right\},
	\]</div>
<p>Therefore, we can get</p>
<div class="math notranslate nohighlight">
\[
	\Delta_H \left( f_{f^{(i)},x^{(i)}}^{(i+1)},\text{RS}^{(i+1)}\right) \ge \delta^{(i)}
	\]</div>
<p>And according to the Block-wise distance inequality, we get</p>
<div class="math notranslate nohighlight">
\[
	\begin{equation}
		\Delta^{(i+1)} \left( f_{f^{(i)},x^{(i)}}^{(i+1)},\text{RS}^{(i+1)}\right) \ge \Delta_H \left( f_{f^{(i)},x^{(i)}}^{(i+1)},\text{RS}^{(i+1)}\right) \ge \delta^{(i)}
	\end{equation}
	\]</div>
</li>
<li><p>If <span class="math notranslate nohighlight">\(\delta^{(i)} \ge \frac{1 - \rho}{2}\)</span>, then according to the definition of event <span class="math notranslate nohighlight">\(E^{(i)}\)</span> and the distortion set, we can get</p>
<div class="math notranslate nohighlight">
\[\begin{split}
	\begin{aligned}
		\Delta_H \left( f_{f^{(i)},x^{(i)}}^{(i+1)},\text{RS}^{(i+1)}\right) &amp; \ge \frac{1}{2} \cdot \left( \delta^{(i)} (1 - \epsilon) - \rho \right) \\
		&amp; \ge \frac{1}{2} \cdot \left( \frac{(1 - \rho)}{2} (1 - \epsilon) - \rho \right) \\
		&amp; =  \frac{(1 - \rho)(1 - \epsilon)}{4}  - \frac{\rho}{2} \\
		&amp; = \frac{1 - 3\rho - \epsilon + \rho \epsilon}{4} \\
		&amp; \ge \frac{1 - 3\rho - \epsilon }{4}
	\end{aligned}
	\end{split}\]</div>
<p>According to the Block-wise distance inequality, we get
$<span class="math notranslate nohighlight">\(
 \begin{equation}
 	\Delta^{(i+1)} \left( f_{f^{(i)},x^{(i)}}^{(i+1)},\text{RS}^{(i+1)}\right) \ge \Delta_H \left( f_{f^{(i)},x^{(i)}}^{(i+1)},\text{RS}^{(i+1)}\right) \ge \frac{1 - 3\rho - \epsilon }{4}
 \end{equation}
 \)</span>$</p>
</li>
</ol>
<p>Let <span class="math notranslate nohighlight">\(\delta_0 = \frac{1 - 3\rho - \epsilon }{4}\)</span>, then summarizing the above two cases, if the event <span class="math notranslate nohighlight">\(E^{(i)}\)</span> does not occur, we have</p>
<div class="math notranslate nohighlight">
\[
\begin{equation}
	\Delta^{(i+1)} \left( f_{f^{(i)},x^{(i)}}^{(i+1)},\text{RS}^{(i+1)}\right) \ge \min \left \{ \delta^{(i)}, \delta_0 \right \}
\end{equation}
\]</div>
<p><strong>Part II - Bounding the probability of a bad event occurring</strong> Through Lemma 3 and Lemma 4, and our choice of parameter <span class="math notranslate nohighlight">\(\epsilon\)</span>, we have</p>
<div class="math notranslate nohighlight">
\[
\Pr \left[E^{(i)}\right] \le \max \left\{ \frac{2^{\eta}}{\epsilon |\mathbb{F}|}, \frac{|L^{(i)}|}{|\mathbb{F}|} \right\} = \max \left\{ \frac{|L^{(r/2)}|}{|\mathbb{F}|}, \frac{|L^{(i)}|}{|\mathbb{F}|} \right\}
\]</div>
<p>Since <span class="math notranslate nohighlight">\(|L^{i}|\)</span> is decreasing, therefore, when <span class="math notranslate nohighlight">\(i \le r/2\)</span>,</p>
<div class="math notranslate nohighlight">
\[
\max \left\{ \frac{|L^{(r/2)}|}{|\mathbb{F}|}, \frac{|L^{(i)}|}{|\mathbb{F}|} \right\} \le \frac{|L^{(i)}|}{|\mathbb{F}|}
\]</div>
<p>When <span class="math notranslate nohighlight">\(i &gt; r/2\)</span>,</p>
<div class="math notranslate nohighlight">
\[
\max \left\{ \frac{|L^{(r/2)}|}{|\mathbb{F}|}, \frac{|L^{(i)}|}{|\mathbb{F}|} \right\} \le \frac{|L^{(r/2)}|}{|\mathbb{F}|}
\]</div>
<p>In summary, we get</p>
<div class="math notranslate nohighlight">
\[\begin{split}
\max \left\{ \frac{|L^{(r/2)}|}{|\mathbb{F}|}, \frac{|L^{(i)}|}{|\mathbb{F}|} \right\} \le 
\begin{cases}
	\frac{|L^{(i)}|}{|\mathbb{F}|} &amp; i \le r/2\\
	\frac{|L^{(r/2)}|}{|\mathbb{F}|} &amp;  i &gt; r/2
\end{cases}
\end{split}\]</div>
<p>Therefore, for events <span class="math notranslate nohighlight">\(E^{(0)}, \cdots, E^{(r-1)}\)</span>, the probability that none of them occur is at least</p>
<div class="math notranslate nohighlight">
\[\begin{split}
\begin{aligned}
	\Pr \left[\bigwedge_{i=1}^{r-1} \neg E^{(i)} \right] &amp; \ge 1 - \left(\sum_{i \le r/2} \frac{|L^{(i)}|}{|\mathbb{F}|} + \frac{r}{2}\frac{|L^{(r/2)}|}{|\mathbb{F}|} \right) \\
\end{aligned}
\end{split}\]</div>
<p>Since <span class="math notranslate nohighlight">\(\dim(L^{(i)}) = \dim(L^{(0)}) - i\eta\)</span>, therefore</p>
<div class="math notranslate nohighlight">
\[
|L^{(i)}| = 2^{\dim(L^{(i)})} = 2^{\dim(L^{(0)}) - i\eta} = 2^{\dim(L^{(0)})} \cdot \left(\frac{1}{2^{\eta}}\right)^{i} = |L^{(0)}| \left(\frac{1}{2^{\eta}}\right)^{i}
\]</div>
<p>According to the definition of <span class="math notranslate nohighlight">\(r\)</span></p>
<div class="math notranslate nohighlight">
\[
r \triangleq \lfloor \frac{k^{(0)} - \mathcal{R}}{\eta}\rfloor
\]</div>
<p>And <span class="math notranslate nohighlight">\(k^{(0)} = \log |L^{(0)}|\)</span>, we can get</p>
<div class="math notranslate nohighlight">
\[
r = \lfloor \frac{k^{(0)} - \mathcal{R}}{\eta}\rfloor \le \frac{k^{(0)} - \mathcal{R}}{\eta} = \frac{\log |L^{(0)}| - \mathcal{R}}{\eta}
\]</div>
<p>Then the probability inequality becomes</p>
<div class="math notranslate nohighlight">
\[\begin{split}
\begin{aligned}
	\Pr \left[\bigwedge_{i=1}^{r-1} \neg E^{(i)} \right] &amp; \ge 1 - \left(\sum_{i \le r/2} \frac{|L^{(i)}|}{|\mathbb{F}|} + \frac{r}{2}\frac{|L^{(r/2)}|}{|\mathbb{F}|} \right) \\
	&amp; \ge 1 - \left(\sum_{i \le r/2} |L^{(0)}| \left(\frac{1}{2^{\eta}}\right)^{i} \frac{1}{|\mathbb{F}|} + \frac{\log |L^{(0)}| - \mathcal{R}}{2\eta}\frac{|L^{(r/2)}|}{|\mathbb{F}|} \right) \\
	&amp; \color{blue}{(\text{Substitute}|L^{(i)}| = |L^{(0)}| \left(\frac{1}{2^{\eta}}\right)^{i}, r \le \frac{\log |L^{(0)}| - \mathcal{R}}{\eta})}\\
	&amp; \ge 1 - \left(\frac{|L^{(0)}|}{|\mathbb{F}|} \sum_{i \le r/2}  \left(\frac{1}{2^{\eta}}\right)^{i} + \frac{\log |L^{(0)}| - \mathcal{R}}{2\eta} \cdot \frac{|L^{(0)}|}{2^{\eta \frac{\log |L^{(0)}| - \mathcal{R}}{2 \eta} }}\frac{1}{|\mathbb{F}|} \right) \\
	&amp; \color{blue}{( \text{Substitute}|L^{(r/2)}| = |L^{(0)}|\left(\frac{1}{2^{\eta}}\right)^{r/2} \le |L^{(0)}|\left(\frac{1}{2^{\eta}}\right)^{\frac{\log |L^{(0)}| - \mathcal{R}}{2 \eta}} = \frac{|L^{(0)}|}{2^{\eta \frac{\log |L^{(0)}| - \mathcal{R}}{2 \eta} }} )} \\
	&amp; \ge 1 - \left(\frac{|L^{(0)}|}{|\mathbb{F}|} \sum_{i \le r/2}  \left(\frac{1}{2^{\eta}}\right)^{i} + \frac{\log |L^{(0)}| - \mathcal{R}}{\eta} \cdot \frac{|L^{(0)}|}{2^{\eta \frac{\log |L^{(0)}| - \mathcal{R}}{2 \eta} }}\frac{1}{|\mathbb{F}|} \right) \\
	&amp; \color{blue}{(\text{Because}  \frac{\log |L^{(0)}| - \mathcal{R}}{2 \eta} \le \frac{\log |L^{(0)}| - \mathcal{R}}{\eta},\text{and there's a negative sign in front, so the overall becomes smaller})} \\
	&amp;  \ge 1 - \left(\frac{|L^{(0)}|}{|\mathbb{F}|} \sum_{i \le r/2}  \left(\frac{1}{2}\right)^{i} + \frac{\log |L^{(0)}| - \mathcal{R}}{\eta} \cdot \frac{|L^{(0)}|}{2^{\eta \frac{\log |L^{(0)}| - \mathcal{R}}{2 \eta} }}\frac{1}{|\mathbb{F}|} \right) \\
	&amp; \color{blue}{(\text{Because} \eta \ge 1 \Rightarrow 2^{\eta} \ge 2 \Rightarrow \frac{1}{2^{\eta}} \le \frac{1}{2} \Rightarrow \sum_{i \le r/2}  \left(\frac{1}{2^{\eta}}\right)^{i} \le \sum_{i \le r/2}  \left(\frac{1}{2}\right)^{i} )} \\
	&amp; \ge 1 - \frac{1}{|\mathbb{F}|}\left(2|L^{(0)}| + \frac{\log |L^{(0)}| - \mathcal{R}}{\eta} \cdot \frac{|L^{(0)}|}{2^{\eta \frac{\log |L^{(0)}| - \mathcal{R}}{2 \eta} }}\right) \\
	&amp; \color{blue}{(\text{Because using the arithmetic sequence sum formula we get} \sum_{i \le r/2}  \left(\frac{1}{2}\right)^{i} = \frac{1 \left(1 - (\frac{1}{2})^{r/2 + 1}\right)}{1 - \frac{1}{2}} \le \frac{1}{2} )} \\
	&amp; \ge 1 - \frac{1}{|\mathbb{F}|}\left(2|L^{(0)}| + \log(\rho|L^{(0)}| )  \cdot \frac{|L^{(0)}|}{2^{\eta \frac{\log |L^{(0)}| - \mathcal{R}}{2 \eta} }}\right) \\
	&amp; \color{blue}{(\text{Because} \frac{\log |L^{(0)}| - \mathcal{R}}{\eta} \le \log |L^{(0)}| - \mathcal{R} = \log |L^{(0)}| - \log (1/\rho) = \log(\rho|L^{(0)}| ))}\\
	&amp; = 1 - \frac{1}{|\mathbb{F}|}\left(2|L^{(0)}| + \log(\rho|L^{(0)}| )  \cdot \sqrt{|L^{(0)}|/\rho} \right) \\
	&amp; \color{blue}{(\text{Because} \frac{|L^{(0)}|}{2^{\eta \frac{\log |L^{(0)}| - \mathcal{R}}{2 \eta}}} = \frac{|L^{(0)}|}{2^{\frac{\log |L^{(0)}| - \mathcal{R}}{2}}} = \frac{|L^{(0)}|}{2^{\frac{\log (\rho |L^{(0)}|)}{2}}} = \frac{|L^{(0)}|}{2^{\log(\sqrt{\rho |L^{(0)}|})}} =  \frac{|L^{(0)}|}{\sqrt{\rho |L^{(0)}|}} = \sqrt{|L^{(0)}|/\rho})}\\
\end{aligned}
\end{split}\]</div>
<p>Let <span class="math notranslate nohighlight">\(f(x) = \log_2x\)</span>, <span class="math notranslate nohighlight">\(g(x) = \sqrt{x}\)</span>, then when <span class="math notranslate nohighlight">\(x &gt; 16\)</span>, <span class="math notranslate nohighlight">\(f(x) &lt; g(x)\)</span>. We can use sagemath to plot the images of these two functions for comparison.</p>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="c1"># Import SageMath&#39;s plotting functionality</span>
<span class="kn">from</span> <span class="nn">sage.plot.plot</span> <span class="kn">import</span> <span class="n">plot</span>

<span class="c1"># Define functions</span>
<span class="n">f</span><span class="p">(</span><span class="n">x</span><span class="p">)</span> <span class="o">=</span> <span class="n">log</span><span class="p">(</span><span class="n">x</span><span class="p">,</span><span class="mi">2</span><span class="p">)</span>
<span class="n">g</span><span class="p">(</span><span class="n">x</span><span class="p">)</span> <span class="o">=</span> <span class="n">x</span><span class="o">^</span><span class="p">(</span><span class="mi">1</span><span class="o">/</span><span class="mi">2</span><span class="p">)</span>

<span class="c1"># Plot function images</span>
<span class="n">p1</span> <span class="o">=</span> <span class="n">plot</span><span class="p">(</span><span class="n">f</span><span class="p">,</span> <span class="p">(</span><span class="n">x</span><span class="p">,</span> <span class="o">-</span><span class="mi">10</span><span class="p">,</span> <span class="mi">30</span><span class="p">),</span> <span class="n">color</span><span class="o">=</span><span class="s1">&#39;blue&#39;</span><span class="p">,</span> <span class="n">legend_label</span><span class="o">=</span><span class="s1">&#39;log(x,2)&#39;</span><span class="p">)</span>
<span class="n">p2</span> <span class="o">=</span> <span class="n">plot</span><span class="p">(</span><span class="n">g</span><span class="p">,</span> <span class="p">(</span><span class="n">x</span><span class="p">,</span> <span class="o">-</span><span class="mi">10</span><span class="p">,</span> <span class="mi">30</span><span class="p">),</span> <span class="n">color</span><span class="o">=</span><span class="s1">&#39;red&#39;</span><span class="p">,</span> <span class="n">legend_label</span><span class="o">=</span><span class="s1">&#39;x^(1/2)&#39;</span><span class="p">)</span>

<span class="c1"># Combine the two image objects and display</span>
<span class="p">(</span><span class="n">p1</span> <span class="o">+</span> <span class="n">p2</span><span class="p">)</span><span class="o">.</span><span class="n">show</span><span class="p">()</span>
</pre></div>
</div>
<p><img alt="" src="../_images/BBHR18-FRI-function_log_sqrt.png" /></p>
<blockquote>
<div><p>📝 <strong>Proof that when <span class="math notranslate nohighlight">\(x &gt; 16\)</span>, <span class="math notranslate nohighlight">\(\log_2x &lt; \sqrt{x}\)</span></strong>
Let <span class="math notranslate nohighlight">\(h(x) = f(x) - g(x) = \log_2x - \sqrt{x}\)</span>, taking the derivative of <span class="math notranslate nohighlight">\(h(x)\)</span> we get</p>
<div class="math notranslate nohighlight">
\[
&gt; h'(x) = \frac{1}{x\ln2} - \frac{1}{2\sqrt{x}} = \frac{2 \sqrt{x}- x\ln2}{2(\ln2) \cdot x\sqrt{x}}
&gt; \]</div>
<p>We can see that when <span class="math notranslate nohighlight">\(x &gt; 16\)</span>, <span class="math notranslate nohighlight">\(h'(x) &lt; 0\)</span>, so <span class="math notranslate nohighlight">\(h(x) &lt; h(16) = 0\)</span>, thus <span class="math notranslate nohighlight">\(\log_2x &lt; \sqrt{x}\)</span>.</p>
</div></blockquote>
<p>According to the theorem condition <span class="math notranslate nohighlight">\(\rho |L^{(0)}| &gt; 16\)</span>, we have</p>
<div class="math notranslate nohighlight">
\[\begin{split}
\begin{aligned}
	\rho |L^{(0)}| &gt; 16 &amp; \Rightarrow \log(\rho |L^{(0)}|) &lt; \sqrt{\rho |L^{(0)}|} \\
	&amp; \Rightarrow \log(\rho |L^{(0)}|)  \cdot \sqrt{|L^{(0)}| / \rho}  &lt; \sqrt{\rho |L^{(0)}|}  \cdot \sqrt{|L^{(0)}|/\rho} \\
	&amp; {\color{blue} (\text{Since} \rho &lt; 1, \text{therefore} \sqrt{|L^{(0)}| / \rho} &gt; \sqrt{|L^{(0)}|} &gt; 1, \text{multiplying both sides by a number greater than 1 does not change the sign of the inequality} )} \\
	&amp; \Rightarrow \log(\rho |L^{(0)}|)  \cdot \sqrt{|L^{(0)}| \rho}  &lt; |L^{(0)}| \\
\end{aligned}
\end{split}\]</div>
<p>Substituting the above inequality into the probability inequality, we get</p>
<div class="math notranslate nohighlight">
\[\begin{split}
\begin{aligned}
	\Pr \left[\bigwedge_{i=1}^{r-1} \neg E^{(i)} \right] &amp; \ge 1 - \frac{1}{|\mathbb{F}|}\left(2|L^{(0)}| + \log(\rho|L^{(0)}| )  \cdot \sqrt{|L^{(0)}|/\rho} \right) \\
	&amp; &gt; 1 - \frac{1}{|\mathbb{F}|}\left(2|L^{(0)}| + |L^{(0)}| \right) \\
	&amp; = 1 - 3\frac{|L^{(0)}|}{|\mathbb{F}|}.
\end{aligned}
\end{split}\]</div>
<p>Next, let’s assume that no event <span class="math notranslate nohighlight">\(E^{(i)}\)</span> will occur and continue with the soundness proof.</p>
<p><strong>Part III - Bounding soundness when no bad events occur</strong> First, let’s recall the three assumptions for the sequences <span class="math notranslate nohighlight">\(\vec{f} = (f^{(i)}, \cdots, f^{(r)})\)</span> and <span class="math notranslate nohighlight">\(\vec{x} = (x^{(i)}, \cdots, x^{(r - 1)})\)</span> in Lemma 4:</p>
<ol class="arabic simple">
<li><p>for all <span class="math notranslate nohighlight">\(j \in \{i, \cdots, r\}\)</span> we have <span class="math notranslate nohighlight">\(\delta^{(j)} &lt; \frac{1-\rho}{2}\)</span></p></li>
<li><p>for all <span class="math notranslate nohighlight">\(j \in \{i, \cdots, r - 1\}\)</span> we have <span class="math notranslate nohighlight">\(\bar{f}^{(j+1)} = f_{\bar{f}^{(j)},x^{(j)}}^{(j+1)}\)</span></p></li>
<li><p>for all <span class="math notranslate nohighlight">\(j \in \{i, \cdots, r\}\)</span> we have <span class="math notranslate nohighlight">\(x^{(j)} \notin B[f^{(i)};\delta^{(j)}]\)</span></p></li>
</ol>
<p>Since we assumed that no bad event <span class="math notranslate nohighlight">\(E^{(i)}\)</span> will occur, assumption 3 always holds. Therefore, whether the three assumptions hold or not has the following four situations.</p>
<div class="pst-scrollable-table-container"><table class="table">
<thead>
<tr class="row-odd"><th class="head"><p>No.</p></th>
<th class="head"><p>Assumption 1</p></th>
<th class="head"><p>Assumption 2</p></th>
<th class="head"><p>Assumption 3</p></th>
<th class="head"><p>Remarks</p></th>
</tr>
</thead>
<tbody>
<tr class="row-even"><td><p>1</p></td>
<td><p>✖️</p></td>
<td><p>✔️</p></td>
<td><p>✔️</p></td>
<td><p></p></td>
</tr>
<tr class="row-odd"><td><p>2</p></td>
<td><p>✖️</p></td>
<td><p>✖️</p></td>
<td><p>✔️</p></td>
<td><p></p></td>
</tr>
<tr class="row-even"><td><p>3</p></td>
<td><p>✔️</p></td>
<td><p>✖️</p></td>
<td><p>✔️</p></td>
<td><p></p></td>
</tr>
<tr class="row-odd"><td><p>4</p></td>
<td><p>✔️</p></td>
<td><p>✔️</p></td>
<td><p>✔️</p></td>
<td><p>Rejection probability is at least <span class="math notranslate nohighlight">\(\delta^{(0)}\)</span></p></td>
</tr>
</tbody>
</table>
</div>
<p>Let’s first analyze the situation of No. 4, which is the simplest because Lemma 4 has already given that when all three assumptions are satisfied, the probability of the Verifier rejecting is at least <span class="math notranslate nohighlight">\(\delta^{(0)}\)</span>.</p>
<p>Next, let’s consider the situations of No. 1 and No. 2 together. In this case, assumption 1 is not satisfied, and assumption 2 may or may not be satisfied. So overall, it’s that assumption 1 is not satisfied, i.e.,</p>
<div class="math notranslate nohighlight">
\[
\delta^{(j)} \ge \frac{1-\rho}{2}
\]</div>
<p>Finally, let’s consider the situation of No. 3, where the conditions are</p>
<div class="math notranslate nohighlight">
\[
\delta^{(j)} &lt; \frac{1-\rho}{2} \text{ and }\bar{f}^{(j+1)} \neq f_{\bar{f}^{(j)},x^{(j)}}^{(j+1)}
\]</div>
<p>In summary, there exist some <span class="math notranslate nohighlight">\(i\in \{0, \cdots, r- 1\}\)</span> where one of the following two conditions holds:</p>
<ol class="arabic simple">
<li><p><span class="math notranslate nohighlight">\(\delta^{(i)} \ge \frac{1-\rho}{2}\)</span></p></li>
<li><p><span class="math notranslate nohighlight">\(\delta^{(i)} &lt; \frac{1-\rho}{2} \text{ and }\bar{f}^{(i+1)} \neq f_{\bar{f}^{(i)},x^{(i)}}^{(i+1)}\)</span></p></li>
</ol>
<p>Ignoring notation, let <span class="math notranslate nohighlight">\(i &lt; r\)</span> represent the largest integer satisfying one of the above two conditions. Note that at this point <span class="math notranslate nohighlight">\(D^{(i+1)}\)</span> is uniquely determined, because <span class="math notranslate nohighlight">\(\delta^{(i)} &lt; \frac{1-\rho}{2}\)</span>, so <span class="math notranslate nohighlight">\(\bar{f}^{(i+1)}\)</span> is also unique. The following proposition states that the <span class="math notranslate nohighlight">\((i+1)\)</span>-th message of an honest Prover is at least <span class="math notranslate nohighlight">\(\delta_0\)</span> far from <span class="math notranslate nohighlight">\(\bar{f}^{(i+1)}\)</span> in relative Hamming distance.</p>
<p><strong>Claim 5</strong> [BBHR18b, Claim  4.5].</p>
<div class="math notranslate nohighlight">
\[
\Delta_H(\bar{f}^{(i+1)}, f_{f^{(i)},x^{(i)}}^{(i+1)}) \ge \delta_0
\]</div>
<p>If the Prover knows <span class="math notranslate nohighlight">\(f^{(i)}\)</span> and <span class="math notranslate nohighlight">\(x^{(i)}\)</span>, it can honestly execute according to the method in the COMMIT phase to construct <span class="math notranslate nohighlight">\(f_{f^{(i)},x^{(i)}}^{(i+1)}\)</span>, while <span class="math notranslate nohighlight">\(\bar{f}^{(i+1)}\)</span> represents the codeword in <span class="math notranslate nohighlight">\(\text{RS}^{i+1}\)</span> closest to <span class="math notranslate nohighlight">\(f^{(i+1)}\)</span> under the <span class="math notranslate nohighlight">\(\Delta^{(i+1)}(\cdot)\)</span>-measure. At this time, the relative Hamming distance between <span class="math notranslate nohighlight">\(f_{f^{(i)},x^{(i)}}^{(i+1)}\)</span> and <span class="math notranslate nohighlight">\(\bar{f}^{(i+1)}\)</span> is at least <span class="math notranslate nohighlight">\(\delta_0\)</span>.</p>
<p><em><strong>Proof</strong></em>: According to the previous analysis, let’s discuss two cases.</p>
<ol class="arabic">
<li><p><span class="math notranslate nohighlight">\(\delta^{(i)} \ge \frac{1 - \rho}{2}\)</span> holds. Since our assumption is that no <span class="math notranslate nohighlight">\(E^{(i)}\)</span> event occurs, we can get from the analysis in Part I that</p>
<div class="math notranslate nohighlight">
\[
	\Delta_H \left( f_{f^{(i)},x^{(i)}}^{(i+1)},\text{RS}^{(i+1)}\right) \ge \frac{1 - 3\rho - \epsilon }{4} = \delta_0
	\]</div>
<p>Since <span class="math notranslate nohighlight">\(\bar{f}^{(i+1)}\)</span> represents the closest codeword to <span class="math notranslate nohighlight">\(f_{f^{(i)},x^{(i)}}^{(i+1)}\)</span> in <span class="math notranslate nohighlight">\(\text{RS}^{(i+1)}\)</span>, therefore</p>
<div class="math notranslate nohighlight">
\[
	\Delta_H(\bar{f}^{(i+1)}, f_{f^{(i)},x^{(i)}}^{(i+1)}) = \Delta_H \left( f_{f^{(i)},x^{(i)}}^{(i+1)},\text{RS}^{(i+1)}\right) \ge \delta_0
	\]</div>
<p>Thus, the proposition holds.</p>
</li>
<li><p><span class="math notranslate nohighlight">\(\delta^{(i)} &lt; \frac{1-\rho}{2} \text{ and }\bar{f}^{(i+1)} \neq f_{\bar{f}^{(i)},x^{(i)}}^{(i+1)}\)</span> holds. To simplify the description, let <span class="math notranslate nohighlight">\(g = f_{\bar{f}^{(i)},x^{(i)}}^{(i+1)}\)</span>. Because <span class="math notranslate nohighlight">\(\bar{f}^{(i)} \in \text{RS}^{(i)}\)</span>, we can get <span class="math notranslate nohighlight">\(g = f_{\bar{f}^{(i)},x^{(i)}}^{(i+1)} \in \text{RS}^{(i+1)}\)</span> from Lemma 1. At the same time, obviously <span class="math notranslate nohighlight">\(\bar{f}^{(i+1)} \in \text{RS}^{(i+1)}\)</span>. From <span class="math notranslate nohighlight">\(\text{RS}^{(i+1)} = \text{RS}^{(i+1)}[\mathbb{F},L^{(i+1)},\rho]\)</span>, by the MDS property of RS code (relative Hamming distance equals <span class="math notranslate nohighlight">\(1 - \rho\)</span>), we can get its relative Hamming distance <span class="math notranslate nohighlight">\(\Delta_H(\text{RS}^{(i+1)}[\mathbb{F},L^{(i+1)},\rho]) = 1 - \rho\)</span>, so for two codes <span class="math notranslate nohighlight">\(\bar{f}^{(i+1)}\)</span> and <span class="math notranslate nohighlight">\(g\)</span> in <span class="math notranslate nohighlight">\(\text{RS}^{(i+1)}\)</span>, their relative Hamming distance is at least <span class="math notranslate nohighlight">\(1 - \rho\)</span>. By the triangle inequality, we get</p>
<div class="math notranslate nohighlight">
\[
	1 - \rho \le \Delta_H(\bar{f}^{(i+1)}, g) \le \Delta_H(\bar{f}^{(i+1)}, f_{f^{(i)},x^{(i)}}^{(i+1)}) + \Delta_H(f_{f^{(i)},x^{(i)}}^{(i+1)},g)
	\]</div>
<p>From the assumption <span class="math notranslate nohighlight">\(\delta^{(i)} &lt; \frac{1-\rho}{2}\)</span> and the inequality between block-wise measure and relative Hamming distance that we proved earlier, we get</p>
<div class="math notranslate nohighlight">
\[
	\Delta_H(f_{f^{(i)},x^{(i)}}^{(i+1)},g) \le \Delta^{(i)}(f_{f^{(i)},x^{(i)}}^{(i+1)},g) = \delta^{(i)} &lt; \frac{1-\rho}{2}
	\]</div>
<p>Rearranging the above triangle inequality, we can get</p>
<div class="math notranslate nohighlight">
\[\begin{split}
	\begin{aligned}
		\Delta_H(\bar{f}^{(i+1)}, f_{f^{(i)},x^{(i)}}^{(i+1)}) &amp; \ge \Delta_H(\bar{f}^{(i+1)}, g) - \Delta_H(f_{f^{(i)},x^{(i)}}^{(i+1)},g) \\
		&amp; &gt; (1 - \rho) - \frac{1-\rho}{2} \\
		&amp; = \frac{1-\rho}{2} \\
		&amp; = \frac{2-2\rho}{4} \\
		&amp; &gt; \frac{2-2\rho - (1 + \rho + \epsilon)}{4} \\
		&amp; = \frac{1-3\rho - \epsilon}{4}  \\
		&amp; = \delta_0
	\end{aligned}
	\end{split}\]</div>
<p>Thus, the proposition holds.</p>
</li>
</ol>
<p>In conclusion, the proposition is proved. <span style="float: right;"> <span class="math notranslate nohighlight">\(\Box\)</span> </span></p>
<p>The next proposition is</p>
<p><strong>Claim 6</strong> [BBHR18b, Claim 4.6].</p>
<div class="math notranslate nohighlight">
\[
\frac{|A_{\text{err}}^{(i+1)} \cup D^{(i+1)}|}{|L^{(i+1)}|} \ge \Delta_H(\bar{f}^{(i+1)}, f_{f^{(i)},x^{(i)}}^{(i+1)}).
\]</div>
<p><em><strong>Proof</strong></em>: From the definition of <span class="math notranslate nohighlight">\(D^{(i+1)}\)</span>, we can get that for all <span class="math notranslate nohighlight">\(x \notin D^{(i+1)}\)</span>,</p>
<div class="math notranslate nohighlight">
\[
\bar{f}^{(i+1)}(x) = f^{(i+1)}(x)
\]</div>
<p>And from the definition of <span class="math notranslate nohighlight">\(A_{\text{err}}^{(i+1)}\)</span>, we can get that for all <span class="math notranslate nohighlight">\(x \notin A_{\text{err}}^{(i+1)}\)</span>,</p>
<div class="math notranslate nohighlight">
\[
f^{(i+1)}(x) = f_{f^{(i)},x^{(i)}}^{(i+1)}(x)
\]</div>
<p>Therefore, for all <span class="math notranslate nohighlight">\(x \notin A_{\text{err}}^{(i+1)} \cup D^{(i+1)}\)</span>, we have</p>
<div class="math notranslate nohighlight">
\[
\bar{f}^{(i+1)}(x) = f^{(i+1)}(x) = f_{f^{(i)},x^{(i)}}^{(i+1)}(x)
\]</div>
<p>According to the definition of relative Hamming distance, we get</p>
<div class="math notranslate nohighlight">
\[
\Pr_{x \in L^{(i+1)}}[\bar{f}^{(i+1)}(x) \neq f_{f^{(i)},x^{(i)}}^{(i+1)}(x)] = \Delta_H(f_{f^{(i)},x^{(i)}}^{(i+1)}, \bar{f}^{(i+1)})
\]</div>
<p>Then</p>
<div class="math notranslate nohighlight">
\[
\Pr_{x \in L^{(i+1)}}[\bar{f}^{(i+1)}(x) = f_{f^{(i)},x^{(i)}}^{(i+1)}(x)] = 1- \Delta_H(f_{f^{(i)},x^{(i)}}^{(i+1)}, \bar{f}^{(i+1)})
\]</div>
<p>Therefore, for all <span class="math notranslate nohighlight">\(x \notin A_{\text{err}}^{(i+1)} \cup D^{(i+1)}\)</span>, the following two equations must hold simultaneously:</p>
<ol class="arabic simple">
<li><p><span class="math notranslate nohighlight">\(\bar{f}^{(i+1)}(x) = f_{f^{(i)},x^{(i)}}^{(i+1)}(x)\)</span></p></li>
<li><p><span class="math notranslate nohighlight">\(\bar{f}^{(i+1)}(x) = f^{(i+1)}(x)\)</span></p></li>
</ol>
<p>Now we have obtained that the probability of the first equation holding is <span class="math notranslate nohighlight">\(1- \Delta_H(f_{f^{(i)},x^{(i)}}^{(i+1)}, \bar{f}^{(i+1)})\)</span>, so the probability of both equations holding simultaneously must not exceed the probability of only requiring the first equation to hold, i.e.,</p>
<div class="math notranslate nohighlight">
\[\begin{split}
\begin{aligned}
	\Pr_{x \in L^{(i+1)}}[x \notin A_{\text{err}}^{(i+1)} \cup D^{(i+1)}] &amp; = \Pr_{x \in L^{(i+1)}}[\bar{f}^{(i+1)}(x) = f_{f^{(i)},x^{(i)}}^{(i+1)}(x) = f^{(i+1)}(x)]\\
	&amp; \le \Pr_{x \in L^{(i+1)}}[\bar{f}^{(i+1)}(x) = f_{f^{(i)},x^{(i)}}^{(i+1)}(x)] \\
	&amp; = 1- \Delta_H(f_{f^{(i)},x^{(i)}}^{(i+1)}, \bar{f}^{(i+1)})
\end{aligned}
\end{split}\]</div>
<p>Therefore</p>
<div class="math notranslate nohighlight">
\[\begin{split}
\begin{aligned}
	\frac{|A_{\text{err}}^{(i+1)} \cup D^{(i+1)}|}{|L^{(i+1)}|} &amp; = \Pr_{x \in L^{(i+1)}}[x \in A_{\text{err}}^{(i+1)} \cup D^{(i+1)}]\\
	&amp; = 1- \Pr_{x \in L^{(i+1)}}[x \notin A_{\text{err}}^{(i+1)} \cup D^{(i+1)}] \\
	&amp; \ge 1 - (1 - \Delta_H(f_{f^{(i)},x^{(i)}}^{(i+1)}, \bar{f}^{(i+1)}))\\
	&amp; = \Delta_H(f_{f^{(i)},x^{(i)}}^{(i+1)}, \bar{f}^{(i+1)})
\end{aligned}
\end{split}\]</div>
<p>Thus, the proposition is proved. <span style="float: right;"> <span class="math notranslate nohighlight">\(\Box\)</span> </span></p>
<p>Combining the conclusions of Claim 5 and Claim 6, we get</p>
<div class="math notranslate nohighlight">
\[
\frac{|A_{\text{err}}^{(i+1)} \cup D^{(i+1)}|}{|L^{(i+1)}|} \ge \Delta_H(\bar{f}^{(i+1)}, f_{f^{(i)},x^{(i)}}^{(i+1)}) \ge \delta_0
\]</div>
<p>i.e.,</p>
<div class="math notranslate nohighlight">
\[
\frac{|A_{\text{err}}^{(i+1)} \cup D^{(i+1)}|}{|L^{(i+1)}|} \ge \delta_0.
\]</div>
<p>Now consider the random number <span class="math notranslate nohighlight">\(s^{(i+1)}\)</span> used in the QUERY phase. First, according to the definition of <span class="math notranslate nohighlight">\(A_{\text{err}}^{(i+1)}\)</span>, we know that if <span class="math notranslate nohighlight">\(s^{(i+1)} \in A_{\text{err}}^{(i+1)}\)</span>, then the Verifier will definitely reject in the QUERY phase. Next, we consider the probability of the Verifier rejecting in two cases based on different <span class="math notranslate nohighlight">\(i\)</span>.</p>
<p>If <span class="math notranslate nohighlight">\(i + 1 = r\)</span>, then since <span class="math notranslate nohighlight">\(f^{(r)} \in RS^{(r)}\)</span>, according to the definition of <span class="math notranslate nohighlight">\(D^{(i+1)}\)</span>, at this time <span class="math notranslate nohighlight">\(D^{(i+1)} = \emptyset\)</span>. In this case, if <span class="math notranslate nohighlight">\(s^{(i+1)} \in A_{\text{err}}^{(i+1)}\)</span>, the Verifier will definitely reject, and</p>
<div class="math notranslate nohighlight">
\[
\frac{|A_{\text{err}}^{(i+1)} \cup D^{(i+1)}|}{|L^{(i+1)}|}  = \frac{|A_{\text{err}}^{(i+1)}|}{|L^{(i+1)}|}  \ge \delta_0.
\]</div>
<p>In this case, the probability of the Verifier rejecting is at least <span class="math notranslate nohighlight">\(\delta_0\)</span>.</p>
<p>If <span class="math notranslate nohighlight">\(i + 1 &lt; r\)</span>, through our previous selection of <span class="math notranslate nohighlight">\(i\)</span>, the selected <span class="math notranslate nohighlight">\(i\)</span> represents the largest integer satisfying one of the following two conditions</p>
<ol class="arabic simple">
<li><p><span class="math notranslate nohighlight">\(\delta^{(i)} \ge \frac{1-\rho}{2}\)</span></p></li>
<li><p><span class="math notranslate nohighlight">\(\delta^{(i)} &lt; \frac{1-\rho}{2} \text{ and }\bar{f}^{(i+1)} \neq f_{\bar{f}^{(i)},x^{(i)}}^{(i+1)}\)</span></p></li>
</ol>
<p>This indicates that the sequences <span class="math notranslate nohighlight">\(\vec{f} = (f^{(i + 1)}, \cdots, f^{(r)})\)</span> and <span class="math notranslate nohighlight">\(\vec{x} = (x^{(i + 1)}, \cdots, x^{(r - 1)})\)</span> after <span class="math notranslate nohighlight">\(i\)</span> are not empty and all satisfy the three conditions of Lemma 4. According to the conclusion of Lemma 4, if <span class="math notranslate nohighlight">\(s^{(i+1)} \in D^{(i+1)}\)</span>, then it will definitely be rejected in the QUERY phase. If <span class="math notranslate nohighlight">\(s^{(i+1)} \in A_{\text{err}}^{(i+1)}\)</span>, the Verifier will also definitely reject. So this rejection probability is to see how large the union of these two sets is compared to the size of <span class="math notranslate nohighlight">\(L^{(i+1)}\)</span>. It has been proved that</p>
<div class="math notranslate nohighlight">
\[
\frac{|A_{\text{err}}^{(i+1)} \cup D^{(i+1)}|}{|L^{(i+1)}|}  \ge \delta_0.
\]</div>
<p>Therefore, in this case, the probability of rejection is also at least <span class="math notranslate nohighlight">\(\delta_0\)</span>.</p>
<p>Combining the above two cases, the probability of rejection is at least <span class="math notranslate nohighlight">\(\delta_0\)</span>.</p>
<p>Combining with the previous analysis of the probability of rejection when the three conditions of Lemma 4 are satisfied, we can conclude that under the condition that no bad events occur, that is, when the third condition of Lemma 4 always holds:</p>
<ol class="arabic simple">
<li><p>When the first two conditions of Lemma 4 both hold, the probability of the Verifier rejecting is at least <span class="math notranslate nohighlight">\(\delta^{(0)}\)</span>.</p></li>
<li><p>When the first two conditions of Lemma 4 do not both hold, the probability of the Verifier rejecting is at least <span class="math notranslate nohighlight">\(\delta_0\)</span>.</p></li>
</ol>
<p>Since</p>
<div class="math notranslate nohighlight">
\[\begin{split}
\begin{aligned}
    \frac{|L^{(r/2)}|}{\sqrt{|L^{(0)}|}} &amp; = \frac{2^{k^{(0)} - \eta \cdot (r/2)}}{\left(2^{k^{(0)} - \eta \cdot 0} \right)^{\frac{1}{2}}} \\
    &amp; = 2^{k^{(0)} - \eta \cdot (r/2) - \frac{k^{(0)}}{2}} \\
    &amp; = 2^{\frac{k^{(0)} - \eta \cdot r}{2}} \\
    &amp; {\color{blue}(\text{Since} k^{(0)} \ge \eta \cdot r \text{, then} k^{(0)} - \eta \cdot r \ge 0)} \\
    &amp; \ge 1
\end{aligned}
\end{split}\]</div>
<p>Therefore</p>
<div class="math notranslate nohighlight">
\[
|L^{(r/2)}| \ge \sqrt{|L^{(0)}|}
\]</div>
<p>Thus we have</p>
<div class="math notranslate nohighlight">
\[
\epsilon = \frac{2^{\eta}}{|L^{(r/2)}|} \le 2^{\eta} / \sqrt{|L^{(0)}|}
\]</div>
<p>Now let’s estimate <span class="math notranslate nohighlight">\(\delta_0\)</span>, we get</p>
<div class="math notranslate nohighlight">
\[
\delta_0 = \frac{1 - 3 \rho - \epsilon}{4} \ge \frac{1 - 3 \rho - 2^{\eta} / \sqrt{|L^{(0)}|}}{4}
\]</div>
<p>Therefore, if no bad events occur, the probability of the Verifier rejecting is at least</p>
<div class="math notranslate nohighlight">
\[
\min \{\delta^{(0)}, \delta_0\} \ge \min \left \{\delta^{(0)}, \frac{1 - 3 \rho - 2^{\eta} / \sqrt{|L^{(0)}|}}{4} \right \}
\]</div>
<p>Combining with the analysis in Part II, the probability of the Verifier selecting random numbers in the COMMIT phase is at least</p>
<div class="math notranslate nohighlight">
\[
1 - \frac{3|L^{(0)}|}{\mathbb{F}},
\]</div>
<p>Then for any Prover’s oracle <span class="math notranslate nohighlight">\(f^{(1)}, \cdots , f^{(r)}\)</span>, with the repetition parameter <span class="math notranslate nohighlight">\(l\)</span> in the QUERY protocol, the probability of the Verifier outputting accept is at most</p>
<div class="math notranslate nohighlight">
\[
\left(1 -  \min \left \{\delta^{(0)}, \frac{1 - 3 \rho - 2^{\eta} / \sqrt{|L^{(0)}|}}{4} \right \}\right)^l
\]</div>
<p>Now let’s analyze how to obtain the soundness of FRI. According to the definition of soundness:</p>
<p>For any <span class="math notranslate nohighlight">\(\text{P}^*\)</span>, <span class="math notranslate nohighlight">\(\Pr[\left \langle \text{P}^* \leftrightarrow \text{V} \right \rangle = \text{reject}|\Delta^{(0)}(f^{(0)}, RS^{(0)}) = \delta^{(0)}] \ge \textbf{s}^{-}(\delta^{(0)})\)</span>.</p>
<p>The main task of soundness analysis is to obtain the lower bound <span class="math notranslate nohighlight">\(\textbf{s}^{-}(\delta^{(0)})\)</span> of the rejection probability. First, let’s consider, for any <span class="math notranslate nohighlight">\(\text{P}^*\)</span>, what is the maximum probability that the Verifier will output accept. Through the above analysis, we can consider two cases:</p>
<ol class="arabic">
<li><p>If bad events <span class="math notranslate nohighlight">\(E^{(i)} (i = 1, \cdots, r - 1)\)</span> occur, then the probability of the Verifier outputting accept is at most</p>
<div class="math notranslate nohighlight">
\[
		\frac{3|L^{(0)}|}{\mathbb{F}}
	\]</div>
</li>
<li><p>If no bad events <span class="math notranslate nohighlight">\(E^{(i)} (i = 1, \cdots, r - 1)\)</span> occur, the probability of the Verifier outputting accept is at most</p>
<div class="math notranslate nohighlight">
\[
		\left(1 -  \min \left \{\delta^{(0)}, \frac{1 - 3 \rho - 2^{\eta} / \sqrt{|L^{(0)}|}}{4} \right \}\right)^l
	\]</div>
</li>
</ol>
<p>Therefore, for any <span class="math notranslate nohighlight">\(\text{P}^*\)</span>, we can obtain the upper bound of the probability of the Verifier outputting accept, that is</p>
<div class="math notranslate nohighlight">
\[
\Pr[\left \langle \text{P}^* \leftrightarrow \text{V} \right \rangle = \text{accept}|\Delta^{(0)}(f^{(0)}, RS^{(0)}) = \delta^{(0)}] \le \frac{3|L^{(0)}|}{\mathbb{F}} + \left(1 -  \min \left \{\delta^{(0)}, \frac{1 - 3 \rho - 2^{\eta} / \sqrt{|L^{(0)}|}}{4} \right \}\right)^l
\]</div>
<p>Thus, for any <span class="math notranslate nohighlight">\(\text{P}^*\)</span>, we have</p>
<div class="math notranslate nohighlight">
\[\begin{split}
\begin{aligned}
	\Pr[\left \langle \text{P}^* \leftrightarrow \text{V} \right \rangle = \text{reject}|\Delta^{(0)}(f^{(0)}, RS^{(0)}) = \delta^{(0)}] &amp; = 1 - \Pr[\left \langle \text{P}^* \leftrightarrow \text{V} \right \rangle = \text{accept}|\Delta^{(0)}(f^{(0)}, RS^{(0)})= \delta^{(0)}] \\
	&amp; \ge 1 - \left(\frac{3|L^{(0)}|}{\mathbb{F}} + \left(1 -  \min \left \{\delta^{(0)}, \frac{1 - 3 \rho - 2^{\eta} / \sqrt{|L^{(0)}|}}{4} \right \}\right)^l  \right)
\end{aligned}
\end{split}\]</div>
<p>Therefore, we obtain that the soundness of FRI is at least</p>
<div class="math notranslate nohighlight">
\[
\textbf{s}^{-}(\delta^{(0)}) \triangleq 1 - \left(\frac{3|L^{(0)}|}{\mathbb{F}} + \left(1 -  \min \left \{\delta^{(0)}, \frac{1 - 3 \rho - 2^{\eta} / \sqrt{|L^{(0)}|}}{4} \right \}\right)^l  \right)
\]</div>
<p>This completes the proof of soundness. <span style="float: right;"> <span class="math notranslate nohighlight">\(\Box\)</span> </span></p>
</section>
<section id="unique-decoding-radius-proof-of-lemma-4">
<h3>Unique Decoding Radius — Proof of Lemma 4<a class="headerlink" href="#unique-decoding-radius-proof-of-lemma-4" title="Link to this heading">#</a></h3>
<p><em><strong>Proof</strong></em>: Since <span class="math notranslate nohighlight">\(\delta^{(i)} &lt; \frac{1 - \rho}{2}\)</span>, the analysis mentioned in the definition of closest codeword has already pointed out that <span class="math notranslate nohighlight">\(\bar{f}\)</span> and <span class="math notranslate nohighlight">\(\mathcal{S}_B(f^{(i)})\)</span> are unique. For a “bad” coset <span class="math notranslate nohighlight">\(S\)</span> in the set <span class="math notranslate nohighlight">\(\mathcal{S}_B(f^{(i)})\)</span>, i.e., <span class="math notranslate nohighlight">\(S \in \mathcal{S}_B(f^{(i)})\)</span>, let</p>
<div class="math notranslate nohighlight">
\[
X_S^{(i)} = \left\{ x^{(i)} \in \mathbb{F} | \text{interpolant}^{f^{(i)}|_S}(x^{(i)}) = \text{interpolant}^{\bar{f}^{(i)}|_S}(x^{(i)}) \right\}
\]</div>
<p>The set <span class="math notranslate nohighlight">\(X_S^{(i)}\)</span> represents those “misleading” <span class="math notranslate nohighlight">\(x^{(i)}\)</span> in <span class="math notranslate nohighlight">\(\mathbb{F}\)</span>, meaning that the interpolation polynomials <span class="math notranslate nohighlight">\(\text{interpolant}^{f^{(i)}|_S}(x^{(i)}) = \text{interpolant}^{\bar{f}^{(i)}|_S}(x^{(i)})\)</span> are consistent, but since <span class="math notranslate nohighlight">\(S\)</span> comes from a “bad” coset, they are actually different low-degree polynomials, i.e., <span class="math notranslate nohighlight">\(f^{(i)}|_S \neq \bar{f}^{(i)}|_S\)</span>. In other words, these <span class="math notranslate nohighlight">\(x^{(i)}\)</span> “mislead” us, even though they are not the same polynomial, the polynomials interpolated using <span class="math notranslate nohighlight">\(x^{(i)}\)</span> on <span class="math notranslate nohighlight">\(S\)</span> are consistent. In the following, we will prove</p>
<div class="math notranslate nohighlight">
\[
B\left[ f^{(i)}, \delta^{(i)} \right] = \bigcup_{S \in \mathcal{S}_B(f^{(i)})} X_S^{(i)}
\]</div>
<p>Since <span class="math notranslate nohighlight">\(\bar{f}^{(i)} \in \text{RS}^{(i)}\)</span>, we get <span class="math notranslate nohighlight">\(f_{\bar{f}^{(i)},x^{(i)}}^{(i+1)} \in \text{RS}^{(i+1)}\)</span> from Lemma 1. For all <span class="math notranslate nohighlight">\(S \notin \mathcal{S}_B(f^{(i)})\)</span>, and <span class="math notranslate nohighlight">\(y_S = q^{(i)}(S)\)</span>, since <span class="math notranslate nohighlight">\(\mathcal{S}_B(f^{(i)}) = \left\{S \in \mathcal{S}^{(i)}|f^{(i)}|_S \neq \bar{f}^{(i)}|_S\right \}\)</span>, therefore for <span class="math notranslate nohighlight">\(\forall S \notin \mathcal{S}_B(f^{(i)})\)</span>, we have <span class="math notranslate nohighlight">\(f^{(i)}|_S = \bar{f}^{(i)}|_S\)</span>, naturally <span class="math notranslate nohighlight">\(\text{interpolant}^{f^{(i)}|_{S}} = \text{interpolant}^{\bar{f}^{(i)}|_S}\)</span>, substituting <span class="math notranslate nohighlight">\(x^{(i)}\)</span> into the interpolation polynomial we get <span class="math notranslate nohighlight">\(\text{interpolant}^{f^{(i)}|_{S}}(x^{(i)}) = \text{interpolant}^{\bar{f}^{(i)}|_S}(x^{(i)})\)</span>, then <span class="math notranslate nohighlight">\(f_{f^{(i)},x^{(i)}}^{(i+1)}(y_S) = f_{\bar{f}^{(i)},x^{(i)}}^{(i+1)}(y_S)\)</span>. Since <span class="math notranslate nohighlight">\(\delta^{(i)}\)</span> is less than the unique decoding radius <span class="math notranslate nohighlight">\(\frac{1 - \rho}{2}\)</span>, combining <span class="math notranslate nohighlight">\(f_{\bar{f}^{(i)},x^{(i)}}^{(i+1)} \in \text{RS}^{(i+1)}\)</span> with <span class="math notranslate nohighlight">\(\forall S \notin \mathcal{S}_B(f^{(i)})\)</span>, we have <span class="math notranslate nohighlight">\(f_{f^{(i)},x^{(i)}}^{(i+1)}(y_S) = f_{\bar{f}^{(i)},x^{(i)}}^{(i+1)}(y_S)\)</span>, we can conclude that <span class="math notranslate nohighlight">\(f_{\bar{f}^{(i)},x^{(i)}}^{(i+1)}\)</span> is the closest codeword in <span class="math notranslate nohighlight">\({RS}^{(i+1)}\)</span> to <span class="math notranslate nohighlight">\(f_{f^{(i)},x^{(i)}}^{(i+1)}\)</span> under Hamming distance. Therefore <span class="math notranslate nohighlight">\(\Delta_H(f_{f^{(i)},x^{(i)}}^{(i+1)}, \text{RS}^{(i+1)}) = \Delta_H(f_{f^{(i)},x^{(i)}}^{(i+1)}, f_{\bar{f}^{(i)},x^{(i)}}^{(i+1)})\)</span>.</p>
<blockquote>
<div><ul class="contains-task-list simple">
<li class="task-list-item"><p><input class="task-list-item-checkbox" disabled="disabled" type="checkbox"> Is the reasoning here for describing <span class="math notranslate nohighlight">\(f_{\bar{f}^{(i)},x^{(i)}}^{(i+1)}\)</span> as the closest codeword in <span class="math notranslate nohighlight">\({RS}^{(i+1)}\)</span> to <span class="math notranslate nohighlight">\(f_{f^{(i)},x^{(i)}}^{(i+1)}\)</span> under Hamming distance correct? It feels like the explanation is not clear enough yet.</p></li>
</ul>
</div></blockquote>
<p>At the same time, these two functions have the same value at <span class="math notranslate nohighlight">\(y_S\)</span> if and only if one of the following two conditions holds:</p>
<ol class="arabic simple">
<li><p><span class="math notranslate nohighlight">\(S \notin \mathcal{S}_B(f^{(i)})\)</span></p></li>
<li><p><span class="math notranslate nohighlight">\(S \in \mathcal{S}_B(f^{(i)})\)</span> and <span class="math notranslate nohighlight">\(x^{(i)} \in X_S^{(i)}\)</span></p></li>
</ol>
<p>From this, we can conclude that these two functions have different values at <span class="math notranslate nohighlight">\(y_S\)</span> if and only if both of the following conditions hold:</p>
<ol class="arabic simple">
<li><p><span class="math notranslate nohighlight">\(S \in \mathcal{S}_B(f^{(i)})\)</span></p></li>
<li><p><span class="math notranslate nohighlight">\(S \notin \mathcal{S}_B(f^{(i)})\)</span> or <span class="math notranslate nohighlight">\(x^{(i)} \notin X_S^{(i)}\)</span></p></li>
</ol>
<p>When condition 1 holds, the first case in condition 2 <span class="math notranslate nohighlight">\(S \notin \mathcal{S}_B(f^{(i)})\)</span> obviously doesn’t hold, so naturally <span class="math notranslate nohighlight">\(x^{(i)} \notin X_S^{(i)}\)</span> holds, then we can get that these two functions have different values at <span class="math notranslate nohighlight">\(y_S\)</span> if and only if</p>
<div class="math notranslate nohighlight">
\[
S \in \mathcal{S}_B(f^{(i)}) \text{ and } x^{(i)} \notin X_S^{(i)}
\]</div>
<p>i.e.,</p>
<div class="math notranslate nohighlight">
\[
x^{(i)} \notin \cup_{S \in \mathcal{S}_B(f^{(i)})}X_S^{(i)}.
\]</div>
<p>This indicates that <span class="math notranslate nohighlight">\(f_{f^{(i)},x^{(i)}}^{(i+1)}\)</span> is inconsistent with the (unique) closest <span class="math notranslate nohighlight">\(\text{RS}^{(i+1)}\)</span>-codeword <span class="math notranslate nohighlight">\(\bar{f}_{f^{(i)},x^{(i)}}^{(i+1)}\)</span> on all <span class="math notranslate nohighlight">\(\{y_S|S \in \mathcal{S}_B(f^{(i)})\}\)</span> if and only if <span class="math notranslate nohighlight">\(x^{(i)} \notin \cup_{S \in \mathcal{S}_B(f^{(i)})}X_S^{(i)}\)</span>. Then</p>
<div class="math notranslate nohighlight">
\[
B\left[ f^{(i)}, \delta^{(i)} \right] = \left \{ x^{(i)} \in \mathbb{F} | \Delta_H\left(f_{f^{(i)},x^{(i)}}^{(i+1)}, \text{RS}^{(i+1)}\right) &lt; \delta^{(i)}  \right \} = \left \{ x^{(i)} \in \mathbb{F} | \Delta_H\left(f_{f^{(i)},x^{(i)}}^{(i+1)}, \bar{f}_{f^{(i)},x^{(i)}}^{(i+1)}\right) &lt; \delta^{(i)} \right \}
\]</div>
<p>While <span class="math notranslate nohighlight">\(\delta^{(i)}\)</span> represents the ratio of <span class="math notranslate nohighlight">\(|\mathcal{S}_B(f^{(i)})|\)</span> to the number of cosets of <span class="math notranslate nohighlight">\(L_0^{(i)}\)</span>, <span class="math notranslate nohighlight">\(\Delta_H\left(f_{f^{(i)},x^{(i)}}^{(i+1)}, \bar{f}_{f^{(i)},x^{(i)}}^{(i+1)}\right) &lt; \delta^{(i)}\)</span> means that <span class="math notranslate nohighlight">\(f_{f^{(i)},x^{(i)}}^{(i+1)}\)</span> and <span class="math notranslate nohighlight">\(\bar{f}_{f^{(i)},x^{(i)}}^{(i+1)}\)</span> can be consistent on some <span class="math notranslate nohighlight">\(\{y_S|S \in \mathcal{S}_B(f^{(i)})\}\)</span>, which naturally is less than <span class="math notranslate nohighlight">\(\delta^{(i)}\)</span>. And <span class="math notranslate nohighlight">\(f_{f^{(i)},x^{(i)}}^{(i+1)}\)</span> is consistent with the (unique) closest <span class="math notranslate nohighlight">\(\text{RS}^{(i+1)}\)</span>-codeword <span class="math notranslate nohighlight">\(\bar{f}_{f^{(i)},x^{(i)}}^{(i+1)}\)</span> on some <span class="math notranslate nohighlight">\(\{y_S|S \in \mathcal{S}_B(f^{(i)})\}\)</span> if and only if <span class="math notranslate nohighlight">\(x^{(i)} \in \cup_{S \in \mathcal{S}_B(f^{(i)})}X_S^{(i)}\)</span>. Therefore, we can get</p>
<div class="math notranslate nohighlight">
\[
B\left[ f^{(i)}, \delta^{(i)} \right]  = \left \{ x^{(i)} \in \mathbb{F} | \Delta_H\left(f_{f^{(i)},x^{(i)}}^{(i+1)}, \bar{f}_{f^{(i)},x^{(i)}}^{(i+1)}\right) &lt; \delta^{(i)} \right \} = \bigcup_{S \in \mathcal{S}_B(f^{(i)})}X_S^{(i)}
\]</div>
<p>This proves the equation we wanted to prove above, i.e.,</p>
<div class="math notranslate nohighlight">
\[
B\left[ f^{(i)}, \delta^{(i)} \right]  =  \bigcup_{S \in \mathcal{S}_B(f^{(i)})}X_S^{(i)}
\]</div>
<p>With this equation, now let’s estimate the bound of the right side of the equation. In fact, <span class="math notranslate nohighlight">\(\text{interpolant}^{f^{(i)}|_{S}}\)</span> and <span class="math notranslate nohighlight">\(\text{interpolant}^{\bar{f}^{(i)}|_S}\)</span> are two different polynomials of degree less than <span class="math notranslate nohighlight">\(|S|\)</span>, so <span class="math notranslate nohighlight">\(|X_S| &lt; |S|\)</span>, otherwise if <span class="math notranslate nohighlight">\(|X_S| \ge |S|\)</span>, then according to the definition of <span class="math notranslate nohighlight">\(X_S\)</span>, <span class="math notranslate nohighlight">\(\text{interpolant}^{f^{(i)}|_{S}}\)</span> and <span class="math notranslate nohighlight">\(\text{interpolant}^{\bar{f}^{(i)}|_S}\)</span> would be consistent on more than <span class="math notranslate nohighlight">\(|S|\)</span> points, at which point the two interpolation polynomials would be the same, which contradicts that <span class="math notranslate nohighlight">\(\text{interpolant}^{f^{(i)}|_{S}}\)</span> and <span class="math notranslate nohighlight">\(\text{interpolant}^{\bar{f}^{(i)}|_S}\)</span> are two different polynomials. Therefore</p>
<div class="math notranslate nohighlight">
\[
\left\lvert B\left[ f^{(i)}, \delta^{(i)} \right] \right\rvert = \left\lvert \bigcup_{S \in \mathcal{S}_B(f^{(i)})}X_S^{(i)} \right\rvert &lt; |S| \cdot \left\lvert \mathcal{S}_B\left(f^{(i)}\right) \right\rvert \le |L^{(i)}|,
\]</div>
<p>This proves the first inequality of Lemma 4</p>
<div class="math notranslate nohighlight">
\[
\Pr_{x^{(i)} \in \mathbb{F}} \left[ x^{(i)} \in B \left[ f^{(i)}; \delta^{(i)} \right ] \right] = \frac{\left\lvert B\left[ f^{(i)}, \delta^{(i)} \right] \right\rvert}{|\mathbb{F}|}\le \frac{|L^{(i)}|}{|\mathbb{F}|}.
\]</div>
<p>Now let’s consider the sequences <span class="math notranslate nohighlight">\(\vec{f}\)</span> and <span class="math notranslate nohighlight">\(\vec{x}\)</span> assumed in the Lemma. For simplicity, we assume that the evaluation of <span class="math notranslate nohighlight">\(\bar{f}^{(i)}\)</span> on <span class="math notranslate nohighlight">\(L^{(i)}\)</span> yields the zero function, denote this function as <span class="math notranslate nohighlight">\(\mathbf{0}|_{L^{(i)}}\)</span>. If this is not the case, we can obtain the zero function through <span class="math notranslate nohighlight">\(f^{(i)} - \bar{f}^{(i)}\)</span>. Then</p>
<div class="math notranslate nohighlight">
\[
f_{\bar{f}^{(i)},x^{(i)}}^{(i+1)} = f_{\mathbf{0}|_{L^{(i)}},x^{(i)}}^{(i+1)} = \mathbf{0}|_{L^{(i+1)}}
\]</div>
<p>From the second assumption of the lemma, we get <span class="math notranslate nohighlight">\(\bar{f}^{(i+1)} = f_{\bar{f}^{(i)},x^{(i)}}^{(i+1)} = \mathbf{0}|_{L^{(i+1)}}\)</span>, then</p>
<div class="math notranslate nohighlight">
\[
f_{\bar{f}^{(i+1)},x^{(i)}}^{(i+2)} = f_{\mathbf{0}|_{L^{(i+1)}},x^{(i)}}^{(i+2)} = \mathbf{0}|_{L^{(i+2)}}
\]</div>
<p>Similarly, from the second assumption of the lemma, we get <span class="math notranslate nohighlight">\(\bar{f}^{(i+2)} = f_{\bar{f}^{(i+1)},x^{(i)}}^{(i+2)} = \mathbf{0}|_{L^{(i+2)}}\)</span>, and so on, by induction, we can get for all <span class="math notranslate nohighlight">\(j \in \{i, \cdots, r\}\)</span>, <span class="math notranslate nohighlight">\(\bar{f}^{(j)} = \mathbf{0}|_{L^{(j)}}\)</span>. In particular, <span class="math notranslate nohighlight">\(f^{(r)} = \mathbf{0}|_{L^{(r)}}\)</span>.</p>
<p>Consider the sequence <span class="math notranslate nohighlight">\((s^{(i)}, \cdots, s^{(r)})\)</span> in the QUERY phase, where <span class="math notranslate nohighlight">\(s^{(i)} \in D^{(i)}\)</span>. Let <span class="math notranslate nohighlight">\(j\)</span> denote the largest integer such that <span class="math notranslate nohighlight">\(s^{(j)} \in D^{(j)}\)</span> holds. Since <span class="math notranslate nohighlight">\(s^{(i)} \in D^{(i)}\)</span>, this defined <span class="math notranslate nohighlight">\(j\)</span> can be obtained. By definition <span class="math notranslate nohighlight">\(f^{(r)} = \mathbf{0}|_{L^{(r)}}\)</span>, we can get <span class="math notranslate nohighlight">\(D^{(r)} = \emptyset\)</span>, so <span class="math notranslate nohighlight">\(j &lt; r\)</span>. Combining with the third assumption of the lemma that for all <span class="math notranslate nohighlight">\(j \in \{i, \cdots, r\}\)</span>, <span class="math notranslate nohighlight">\(x^{(j)} \notin B[f^{(i)};\delta^{(j)}]\)</span> and the equation we proved earlier</p>
<div class="math notranslate nohighlight">
\[
B\left[ f^{(i)}, \delta^{(i)} \right]  =  \bigcup_{S \in \mathcal{S}_B(f^{(i)})}X_S^{(i)}
\]</div>
<p>We can get <span class="math notranslate nohighlight">\(x^{(j)} \notin \bigcup_{S \in \mathcal{S}^{(j)}}X_S^{(j)}\)</span>, so <span class="math notranslate nohighlight">\(f_{f^{(j)},x^{(i)}}^{(j+1)}(s^{(j+1)}) \neq 0\)</span>. But from the definition of <span class="math notranslate nohighlight">\(j\)</span>, we know that <span class="math notranslate nohighlight">\(j\)</span> is the largest integer such that <span class="math notranslate nohighlight">\(s^{(j)} \in D^{(j)}\)</span> holds, so for <span class="math notranslate nohighlight">\(j+1\)</span> larger than <span class="math notranslate nohighlight">\(j\)</span>, we have <span class="math notranslate nohighlight">\(s^{(j+ 1)} \notin D^{(j+1)}\)</span>. According to the definition of <span class="math notranslate nohighlight">\(D^{(j+1)}\)</span>, <span class="math notranslate nohighlight">\(D^{(j+1)} = \cup_{S \in \mathcal{S}_B^{(j+1)}}S\)</span>, where <span class="math notranslate nohighlight">\(S\)</span> represents those “bad” cosets, i.e.,</p>
<div class="math notranslate nohighlight">
\[
\mathcal{S}_B^{(j+1)} = \left\{ S \in \mathcal{S}^{(j+1)} | f^{(j+1)}|_S \neq \bar{f}^{(j+1)}|_S \right\}
\]</div>
<p>Here’s the English translation of the provided text, maintaining all formulas and markdown formats:</p>
<p>While <span class="math notranslate nohighlight">\(s^{(j+ 1)} \notin D^{(j+1)}\)</span>, we have <span class="math notranslate nohighlight">\(f^{(j+1)}(s^{(j+1)}) = \bar{f}^{(j+1)}(s^{(j+1)}) = 0\)</span>. Thus, we obtain:</p>
<ol class="arabic simple">
<li><p><span class="math notranslate nohighlight">\(f_{f^{(j)},x^{(i)}}^{(j+1)}(s^{(j+1)}) \neq 0\)</span></p></li>
<li><p><span class="math notranslate nohighlight">\(f^{(j+1)}(s^{(j+1)}) = 0\)</span></p></li>
</ol>
<p>Therefore,</p>
<div class="math notranslate nohighlight">
\[
f_{f^{(j)},x^{(i)}}^{(j+1)}(s^{(j+1)}) \neq f^{(j+1)}(s^{(j+1)})
\]</div>
<p>This indicates that the round consistency check will not pass in the QUERY phase, meaning the Verifier will definitely reject the sequence <span class="math notranslate nohighlight">\((s^{(i)}, \cdots, s^{(r)})\)</span> in the QUERY phase. This proves that</p>
<div class="math notranslate nohighlight">
\[
\Pr_{s^{(i)} \in D^{(i)}} \left[ \text{QUERY}\left(\vec{f}, \vec{x}\right)  = \text{reject} \right] = 1
\]</div>
<p>From the definitions of <span class="math notranslate nohighlight">\(\delta^{(i)}\)</span> and the set <span class="math notranslate nohighlight">\(D^{(i)}\)</span>, we know that</p>
<div class="math notranslate nohighlight">
\[
\delta^{(i)} = \frac{|D^{(i)}|}{|L^{(i)}|}
\]</div>
<p>Therefore,</p>
<div class="math notranslate nohighlight">
\[
\Pr_{s^{(i)} \in L^{(i)}} \left[ \text{QUERY}(\vec{f}, \vec{x}) = \text{reject} \right] \ge \frac{|D^{(i)}|}{| L^{(i)} |} = \delta^{(i)}
\]</div>
<p>This completes the proof of Lemma 4. <span style="float: right;"> <span class="math notranslate nohighlight">\(\Box\)</span> </span></p>
</section>
<section id="exceeding-the-unique-decoding-radius-proof-of-lemma-3">
<h3>Exceeding the Unique Decoding Radius — Proof of Lemma 3<a class="headerlink" href="#exceeding-the-unique-decoding-radius-proof-of-lemma-3" title="Link to this heading">#</a></h3>
<p>To prove Lemma 3, we need the following improved version of Lemma 4.2.18 from [Spi95].</p>
<p><strong>Lemma 7</strong> [BBHR18b, Lemma 4.7] Let <span class="math notranslate nohighlight">\(E(X, Y)\)</span> be a polynomial of degree <span class="math notranslate nohighlight">\((\alpha m, \delta n)\)</span> and <span class="math notranslate nohighlight">\(P(X, Y)\)</span> a polynomial of degree <span class="math notranslate nohighlight">\(((\alpha + \epsilon)m, (\delta + \rho)n)\)</span>. If there exist distinct <span class="math notranslate nohighlight">\(x_1, \cdots, x_m\)</span> such that <span class="math notranslate nohighlight">\(E(x_i, Y) | P(x_i, Y)\)</span> and <span class="math notranslate nohighlight">\(y_1, \cdots, y_n\)</span> such that <span class="math notranslate nohighlight">\(E(X, y_i) | P(X, y_i)\)</span> and</p>
<div class="math notranslate nohighlight">
\[
\begin{equation}
	1 &gt; \max \left\{ \delta + \rho, 2\alpha + \epsilon + \frac{\rho}{\delta} \right\}
\end{equation}
\]</div>
<p>then <span class="math notranslate nohighlight">\(E(X, Y) | P(X, Y)\)</span>.</p>
<p><em><strong>Proof of Lemma 3</strong></em>: We will prove the contrapositive of Lemma 3. First, let’s recall Lemma 3, which states that for any <span class="math notranslate nohighlight">\(\epsilon \le \frac{2^{\eta}}{|\mathbb{F}|}\)</span> and <span class="math notranslate nohighlight">\(f^{(i)}\)</span>, if <span class="math notranslate nohighlight">\(\delta^{(i)} =  \Delta^{(i)}(f^{(i)}, \text{RS}^{(i)})&gt;0\)</span>, then</p>
<div class="math notranslate nohighlight">
\[
\frac{\left\lvert B \left[ f^{(i)}; \frac{1}{2} \cdot \left( \delta^{(i)} (1 - \epsilon) - \rho \right) \right ]\right\rvert }{|\mathbb{F}|} \le \frac{2^{\eta}}{\epsilon |\mathbb{F}|}.
\]</div>
<p>Taking the contrapositive, we get:</p>
<p><strong>Proposition 8</strong> If for some <span class="math notranslate nohighlight">\(\epsilon \ge \frac{2^{\eta}}{|\mathbb{F}|}\)</span>, we have</p>
<div class="math notranslate nohighlight">
\[
\frac{\left\lvert B \left[ f^{(i)}; \frac{1}{2} \cdot \left( \delta^{(i)} (1 - \epsilon) - \rho \right) \right ]\right\rvert }{|\mathbb{F}|} &gt; \frac{2^{\eta}}{\epsilon |\mathbb{F}|}
\]</div>
<p>then</p>
<div class="math notranslate nohighlight">
\[
\delta^{(i)} = \Delta^{(i)}(f^{(i)}, \text{RS}^{(i)}) \le 0
\]</div>
<p>This is equivalent to the following proposition:</p>
<p><strong>Proposition 9</strong> For some <span class="math notranslate nohighlight">\(\epsilon \ge \frac{2^{\eta}}{|\mathbb{F}|}\)</span>, if</p>
<div class="math notranslate nohighlight">
\[
\frac{\left\lvert B \left[ f^{(i)}; \frac{1}{2} \cdot \left( \delta (1 - \epsilon) - \rho \right) \right ]\right\rvert }{|\mathbb{F}|} &gt; \frac{2^{\eta}}{\epsilon |\mathbb{F}|}
\]</div>
<p>then</p>
<div class="math notranslate nohighlight">
\[
\delta^{(i)} &lt; \delta 
\]</div>
<p>Let’s prove that Propositions 8 and 9 are equivalent.</p>
<p><em><strong>Proof</strong></em>: <span class="math notranslate nohighlight">\(\Rightarrow)\)</span> Proof by contradiction. Assume the conclusion of Proposition 9 does not hold, then</p>
<div class="math notranslate nohighlight">
\[
\delta^{(i)} \ge \delta
\]</div>
<p>From the condition of Proposition 9, we can obtain</p>
<div class="math notranslate nohighlight">
\[
\frac{\left\lvert B \left[ f^{(i)}; \frac{1}{2} \cdot \left( \delta^{(i)} (1 - \epsilon) - \rho \right) \right ]\right\rvert }{|\mathbb{F}|} \ge \frac{\left\lvert B \left[ f^{(i)}; \frac{1}{2} \cdot \left( \delta (1 - \epsilon) - \rho \right) \right ]\right\rvert }{|\mathbb{F}|} &gt; \frac{2^{\eta}}{\epsilon |\mathbb{F}|}
\]</div>
<p>This satisfies the condition of Proposition 8, therefore</p>
<div class="math notranslate nohighlight">
\[
\delta^{(i)} \le 0
\]</div>
<p>This contradicts the assumption <span class="math notranslate nohighlight">\(\delta^{(i)} \ge \delta\)</span>. Thus, the conclusion of Proposition 9 holds.</p>
<p><span class="math notranslate nohighlight">\(\Leftarrow)\)</span> Proof by contradiction. Assume the conclusion of Proposition 8 does not hold, then</p>
<div class="math notranslate nohighlight">
\[
\delta^{(i)} &gt; 0
\]</div>
<p>This means there exists a <span class="math notranslate nohighlight">\(\delta &gt; 0\)</span> such that</p>
<div class="math notranslate nohighlight">
\[
\delta^{(i)} \ge \delta &gt; 0
\]</div>
<p>Then</p>
<div class="math notranslate nohighlight">
\[
\frac{\left\lvert B \left[ f^{(i)}; \frac{1}{2} \cdot \left( \delta^{(i)} (1 - \epsilon) - \rho \right) \right ]\right\rvert }{|\mathbb{F}|} \ge \frac{\left\lvert B \left[ f^{(i)}; \frac{1}{2} \cdot \left( \delta (1 - \epsilon) - \rho \right) \right ]\right\rvert }{|\mathbb{F}|} 
\]</div>
<p>From the condition of Proposition 8, we can obtain</p>
<div class="math notranslate nohighlight">
\[
\frac{\left\lvert B \left[ f^{(i)}; \frac{1}{2} \cdot \left( \delta^{(i)} (1 - \epsilon) - \rho \right) \right ]\right\rvert }{|\mathbb{F}|} &gt; \frac{2^{\eta}}{\epsilon |\mathbb{F}|}
\]</div>
<p>From these two inequalities, we can see that <span class="math notranslate nohighlight">\(\frac{2^{\eta}}{\epsilon |\mathbb{F}|}\)</span> is already a lower bound for</p>
<div class="math notranslate nohighlight">
\[
\frac{\left\lvert B \left[ f^{(i)}; \frac{1}{2} \cdot \left( \delta^{(i)} (1 - \epsilon) - \rho \right) \right ]\right\rvert }{|\mathbb{F}|}
\]</div>
<p>So we can conclude</p>
<div class="math notranslate nohighlight">
\[
\frac{\left\lvert B \left[ f^{(i)}; \frac{1}{2} \cdot \left( \delta (1 - \epsilon) - \rho \right) \right ]\right\rvert }{|\mathbb{F}|} &gt; \frac{2^{\eta}}{\epsilon |\mathbb{F}|}
\]</div>
<p>This satisfies the condition of Proposition 9, therefore we can obtain</p>
<div class="math notranslate nohighlight">
\[
\delta^{(i)} &lt; \delta
\]</div>
<p>This contradicts the assumption, so the conclusion of Proposition 8 holds. <span style="float: right;"> <span class="math notranslate nohighlight">\(\Box\)</span> </span></p>
<blockquote>
<div><p>🤔 <strong>Question</strong></p>
<ul class="contains-task-list simple">
<li class="task-list-item"><p><input class="task-list-item-checkbox" disabled="disabled" type="checkbox"> Is there a more concise way to prove the equivalence of these two propositions?</p></li>
</ul>
</div></blockquote>
<p>Now that we have proven that Proposition 9 is equivalent to Lemma 3, let’s prove Proposition 9. First, let’s fix some constants: Let <span class="math notranslate nohighlight">\(n = |L^{(i+1)}|\)</span>, <span class="math notranslate nohighlight">\(\alpha = \frac{1}{2}(1 - \epsilon - \frac{\rho}{\delta})\)</span>, <span class="math notranslate nohighlight">\(\delta' = \delta \alpha\)</span>, <span class="math notranslate nohighlight">\(B = B[f^{(i)};\delta']\)</span>, and <span class="math notranslate nohighlight">\(m = |B|\)</span>. From the definition of <span class="math notranslate nohighlight">\(B\)</span>, we know that for any <span class="math notranslate nohighlight">\(x \in B\)</span>, <span class="math notranslate nohighlight">\(\Delta_H\left(f_{f^{(i)},x}^{(i+1)}, \text{RS}^{(i+1)}\right) &lt; \delta'\)</span>. Recalling the definition of the closest codeword, we know that <span class="math notranslate nohighlight">\(\bar{f}_{f^{(i)},x}^{(i+1)} \in \text{RS}^{(i+1)}\)</span> is the closest codeword to <span class="math notranslate nohighlight">\(f_{f^{(i)},x}^{(i+1)}\)</span>. Since we are considering a decoding radius that exceeds the unique decoding radius, there might be multiple codewords that are equally close to <span class="math notranslate nohighlight">\(f_{f^{(i)},x}^{(i+1)}\)</span>. Here, we arbitrarily choose one of them.</p>
<p>Let <span class="math notranslate nohighlight">\(C(X,Y)\)</span> denote a polynomial satisfying <span class="math notranslate nohighlight">\(\deg_X(C) &lt; m\)</span>, <span class="math notranslate nohighlight">\(\deg_Y(C) &lt; \rho n\)</span>, and for each <span class="math notranslate nohighlight">\(x \in B\)</span>, the polynomial <span class="math notranslate nohighlight">\(C(x,Y)\)</span> is consistent with <span class="math notranslate nohighlight">\(\bar{f}_{f^{(i)},x}^{(i+1)}(Y)\)</span>. The polynomial <span class="math notranslate nohighlight">\(C(X,Y)\)</span> exists because, by definition, <span class="math notranslate nohighlight">\(\bar{f}_{f^{(i)},x}^{(i+1)}\)</span> is the evaluation of a polynomial of degree less than <span class="math notranslate nohighlight">\(\rho n\)</span>. According to Proposition 1, let <span class="math notranslate nohighlight">\(Q^{(i)}\)</span> represent the polynomial related to <span class="math notranslate nohighlight">\(f^{(i)}\)</span>, i.e.,</p>
<div class="math notranslate nohighlight">
\[
Q^{(i)}(X,Y) = P^{(i)}(X) \qquad \text{mod} \; Y - q^{(i)}(X)
\]</div>
<p>From the second item of Proposition 1, we can obtain <span class="math notranslate nohighlight">\(\deg_X(Q^{(i)}) &lt; |L_0^{(i)}|\)</span>, and by definition, we know <span class="math notranslate nohighlight">\(|L_0^{(i)}| = 2^{\eta}\)</span>. Since <span class="math notranslate nohighlight">\(\left\lvert B \left[ f^{(i)}; \frac{1}{2} \cdot \left( \delta^{(i)} (1 - \epsilon) - \rho \right) \right ]\right\rvert = \left\lvert B \left[ f^{(i)}; \delta' \right ]\right\rvert = m\)</span>, from the condition of Proposition 9</p>
<div class="math notranslate nohighlight">
\[
\frac{\left\lvert B \left[ f^{(i)}; \frac{1}{2} \cdot \left( \delta^{(i)} (1 - \epsilon) - \rho \right) \right ]\right\rvert }{|\mathbb{F}|} &gt; \frac{2^{\eta}}{\epsilon |\mathbb{F}|}
\]</div>
<p>we can obtain</p>
<div class="math notranslate nohighlight">
\[
\frac{m}{|\mathbb{F}|} &gt; \frac{2^{\eta}}{\epsilon |\mathbb{F}|}
\]</div>
<p>Therefore <span class="math notranslate nohighlight">\(2^{\eta} &lt; \epsilon m\)</span>, so <span class="math notranslate nohighlight">\(\deg_X(Q^{(i)}) &lt; |L_0^{(i)}| = 2^{\eta} &lt; \epsilon m\)</span>. From the first item of Proposition 1, we can obtain that for any <span class="math notranslate nohighlight">\(x \in L^{(i)}\)</span>,</p>
<div class="math notranslate nohighlight">
\[
f^{(i)}(x) = Q^{(i)}(x, q^{(i)}(x))
\]</div>
<p>According to the definition of the COMMIT phase, for each <span class="math notranslate nohighlight">\(y \in L^{(i+1)}\)</span>,</p>
<ul class="simple">
<li><p>Let <span class="math notranslate nohighlight">\(S_y = \{x \in L^{(i)} | q^{(i)}(x) = y\}\)</span> be the coset of <span class="math notranslate nohighlight">\(L_0^{(i)}\)</span>, and map <span class="math notranslate nohighlight">\(x\)</span> to <span class="math notranslate nohighlight">\(y\)</span> through the mapping <span class="math notranslate nohighlight">\(q^{(i)}\)</span>;</p></li>
<li><p><span class="math notranslate nohighlight">\(P_y^{(i)}(X) \triangleq \text{interpolant}^{f^{(i)}|_{S_y}}\)</span></p></li>
<li><p><span class="math notranslate nohighlight">\(f_{f^{(i)},x^{(i)}}^{(i+1)}(y) \triangleq P_y^{(i)}(x^{(i)})\)</span>.</p></li>
</ul>
<p>Then we can obtain</p>
<div class="math notranslate nohighlight">
\[
P_y^{(i)}(X) \triangleq \text{interpolant}^{f^{(i)}|_{S_y}} = Q^{(i)}(X, y)
\]</div>
<p>Therefore</p>
<div class="math notranslate nohighlight">
\[
f_{f^{(i)},x^{(i)}}^{(i+1)}(y) \triangleq P_y^{(i)}(x^{(i)}) = Q^{(i)}(x^{(i)}, y)
\]</div>
<p>Note that <span class="math notranslate nohighlight">\(x^{(i)} \in \mathbb{F}\)</span> here. If we denote the random number <span class="math notranslate nohighlight">\(x^{(i)}\)</span> as <span class="math notranslate nohighlight">\(x\)</span>, we can obtain that for any <span class="math notranslate nohighlight">\(x \in \mathbb{F}\)</span> and any <span class="math notranslate nohighlight">\(y \in L^{(i+1)}\)</span>,</p>
<div class="math notranslate nohighlight">
\[
f_{f^{(i)},x}^{(i+1)}(y) = Q^{(i)}(x, y).
\]</div>
<p>From the definition of the distortion set, we get</p>
<div class="math notranslate nohighlight">
\[
\begin{equation}
	B \left[ f^{(i)}; \delta' \right ] =  \left\{ x \in \mathbb{F} | \Delta_H \left( f_{f^{(i)},x}^{(i+1)},\text{RS}^{(i+1)}\right) &lt; \delta' \right\}
\end{equation}
\]</div>
<p>and the condition of Proposition 9</p>
<div class="math notranslate nohighlight">
\[
\frac{\left\lvert B \left[ f^{(i)}; \delta' \right ]\right\rvert }{|\mathbb{F}|} &gt; \frac{2^{\eta}}{\epsilon |\mathbb{F}|}
\]</div>
<p>Through the above analysis, we have obtained</p>
<ol class="arabic simple">
<li><p>For all <span class="math notranslate nohighlight">\(x \in B\)</span>, <span class="math notranslate nohighlight">\(C(x,Y)\)</span> is consistent with <span class="math notranslate nohighlight">\(\bar{f}_{f^{(i)},x}^{(i+1)}(Y)\)</span>.</p></li>
<li><p>For any <span class="math notranslate nohighlight">\(x \in \mathbb{F}\)</span> and any <span class="math notranslate nohighlight">\(y \in L^{(i+1)}\)</span>, <span class="math notranslate nohighlight">\(f_{f^{(i)},x}^{(i+1)}(y) = Q^{(i)}(x, y)\)</span>.</p></li>
</ol>
<p>Then for any <span class="math notranslate nohighlight">\(x \in B\)</span> and any <span class="math notranslate nohighlight">\(y \in L^{(i+1)}\)</span>, we have</p>
<ol class="arabic simple">
<li><p><span class="math notranslate nohighlight">\(C(x,y) = \bar{f}_{f^{(i)},x}^{(i+1)}(y)\)</span></p></li>
<li><p><span class="math notranslate nohighlight">\(f_{f^{(i)},x}^{(i+1)}(y) = Q^{(i)}(x, y)\)</span></p></li>
</ol>
<p>Since <span class="math notranslate nohighlight">\(\bar{f}_{f^{(i)},x}^{(i+1)}(y)\)</span> is the closest codeword to <span class="math notranslate nohighlight">\(f_{f^{(i)},x}^{(i+1)}(y)\)</span> in <span class="math notranslate nohighlight">\(\text{RS}^{(i+1)}\)</span>, from the definition of <span class="math notranslate nohighlight">\(B\)</span>, we can obtain</p>
<div class="math notranslate nohighlight">
\[
\Delta_H \left( f_{f^{(i)},x}^{(i+1)}(y),\bar{f}_{f^{(i)},x}^{(i+1)}(y)\right) &lt; \delta' 
\]</div>
<p>The relative Hamming distance considers the proportion of inconsistencies between <span class="math notranslate nohighlight">\(f_{f^{(i)},x}^{(i+1)}(y)\)</span> and <span class="math notranslate nohighlight">\(\bar{f}_{f^{(i)},x}^{(i+1)}(y)\)</span>, so</p>
<div class="math notranslate nohighlight">
\[
\Pr_{x \in B, y \in L^{(i+1)}} \left[C(x,y) \neq Q^{(i)}(x,y)\right] = \Pr_{x \in B, y \in L^{(i+1)}} \left[\bar{f}_{f^{(i)},x}^{(i+1)}(y) \neq f_{f^{(i)},x}^{(i+1)}(y)\right] &lt; \delta'.
\]</div>
<blockquote>
<div><p>🤔 <strong>Why?</strong></p>
<ul class="contains-task-list simple">
<li class="task-list-item"><p><input class="task-list-item-checkbox" disabled="disabled" type="checkbox"> How to prove the existence of the following non-zero polynomial? How was it derived?</p></li>
</ul>
</div></blockquote>
<p>By constructing <span class="math notranslate nohighlight">\(\alpha \delta \ge \delta'\)</span>, there exists a non-zero polynomial</p>
<div class="math notranslate nohighlight">
\[
E(X,Y), \qquad \deg_X(E) \le \alpha m, \deg_Y(E) \le \delta n
\]</div>
<p>such that <span class="math notranslate nohighlight">\(E(x,y) = 0\)</span> at all points <span class="math notranslate nohighlight">\((x,y)\)</span> where <span class="math notranslate nohighlight">\(x \in B, y \in L^{(i+1)}\)</span> and <span class="math notranslate nohighlight">\(C(x,y) \neq Q^{(i)}(x,y)\)</span>.</p>
<blockquote>
<div><p>📖 <strong>Notes</strong>
Regarding the existence of the non-zero polynomial <span class="math notranslate nohighlight">\(E(X,Y)\)</span>, this is how I understand it. We have already obtained</p>
<div class="math notranslate nohighlight">
\[
&gt; \Pr_{x \in B, y \in L^{(i+1)}} \left[C(x,y) \neq Q^{(i)}(x,y)\right]&lt; \delta'
&gt; \]</div>
<p>As shown in the figure below, since <span class="math notranslate nohighlight">\(\alpha \delta \ge \delta'\)</span>, the existence of such a non-zero polynomial <span class="math notranslate nohighlight">\(E(X,Y)\)</span> is reasonable, with its value being 0 at these blue points in the figure.</p>
<p><img alt="" src="../_images/BBHR18-FRI-EXY.svg" /></p>
</div></blockquote>
<p>The polynomial <span class="math notranslate nohighlight">\(E\)</span> is also known as the <em>error locator polynomial</em> [Sud92] because its roots cover the set of error locations, where <span class="math notranslate nohighlight">\(Q\)</span> is obtained from a low-degree polynomial.</p>
<p>Since <span class="math notranslate nohighlight">\(\deg_Y(C) &lt; \rho |L^{(i+1)}|\)</span> and <span class="math notranslate nohighlight">\(\deg_X(Q^{(i)}) &lt; 2^{\eta} &lt; \epsilon m\)</span>, from [Spi95, Chapter 4], there exists a polynomial <span class="math notranslate nohighlight">\(P(X,Y)\)</span> satisfying</p>
<div class="math notranslate nohighlight">
\[
\begin{equation}
	\deg_X(P) &lt; (\epsilon + \alpha)m \quad \text{and} \quad \deg_Y(P) &lt; (\delta + \rho)n \tag{19}
\end{equation}
\]</div>
<p>such that</p>
<div class="math notranslate nohighlight">
\[
\begin{equation}
	\forall x \in B, y \in L^{(i+1)}, \quad P(x,y)  = C(x,y) \cdot E(x,y) = Q^{(i)}(x,y) \cdot E(x,y) \tag{20}
\end{equation}
\]</div>
<p>holds.</p>
<blockquote>
<div><p>📖 <strong>Notes</strong>
Regarding the existence of the polynomial <span class="math notranslate nohighlight">\(P(X,Y)\)</span>, my current understanding is as follows. Let’s consider the reasonableness of its existence based on the degree of the polynomial:
First, consider the variable <span class="math notranslate nohighlight">\(X\)</span>. Since <span class="math notranslate nohighlight">\(\deg_X(E) \le \alpha m\)</span> and <span class="math notranslate nohighlight">\(\deg_X(Q^{(i)}) &lt; \epsilon m\)</span>, it’s reasonable that there exists a <span class="math notranslate nohighlight">\(P(X,Y)\)</span> satisfying <span class="math notranslate nohighlight">\(\deg_X(P) &lt; (\epsilon + \alpha)m\)</span>, and</p>
<div class="math notranslate nohighlight">
\[
&gt; \forall x \in B, y \in L^{(i+1)}, \quad P(x,y) = Q^{(i)}(x,y) \cdot E(x,y)
&gt; \]</div>
<p>Similarly, for the variable <span class="math notranslate nohighlight">\(Y\)</span>, since <span class="math notranslate nohighlight">\(\deg_Y(E) \le \delta n\)</span> and <span class="math notranslate nohighlight">\(\deg_Y(C) &lt; \rho n\)</span>, it’s reasonable that there exists a <span class="math notranslate nohighlight">\(P(X,Y)\)</span> satisfying <span class="math notranslate nohighlight">\(\deg_Y(P) &lt; (\delta + \rho)n\)</span>, and</p>
<div class="math notranslate nohighlight">
\[
&gt; \forall x \in B, y \in L^{(i+1)}, \quad P(x,y) = C(x,y) \cdot E(x,y)
&gt; \]</div>
</div></blockquote>
<blockquote>
<div><p>👩‍💻 <strong>TODO</strong></p>
<ul class="contains-task-list simple">
<li class="task-list-item"><p><input class="task-list-item-checkbox" disabled="disabled" type="checkbox"> Refer to [Spi95, Chapter 4] to understand why such a polynomial would exist.</p></li>
<li class="task-list-item"><p><input class="task-list-item-checkbox" disabled="disabled" type="checkbox"> Why does <span class="math notranslate nohighlight">\(P(x,y)  = C(x,y) \cdot E(x,y) = Q^{(i)}(x,y) \cdot E(x,y)\)</span> hold? Isn’t it <span class="math notranslate nohighlight">\(x \in B, y \in L^{(i+1)}\)</span> and <span class="math notranslate nohighlight">\(C(x,y) \neq Q^{(i)}(x,y)\)</span>?</p></li>
</ul>
</div></blockquote>
<p>Let <span class="math notranslate nohighlight">\(\alpha' \triangleq \frac{\deg_X(P)}{m} - \epsilon\)</span> and <span class="math notranslate nohighlight">\(\rho' \triangleq \frac{\deg_Y(P)}{n} - \delta\)</span>, then from equation <span class="math notranslate nohighlight">\((19)\)</span> we get</p>
<blockquote>
<div><p>🐞 <strong>Fix</strong>
I believe the <span class="math notranslate nohighlight">\(\alpha \triangleq \frac{\deg_X(P)}{m} - \epsilon\)</span> in the paper here should be changed to <span class="math notranslate nohighlight">\(\alpha'\)</span>.</p>
</div></blockquote>
<div class="math notranslate nohighlight">
\[
\deg_X(P) = (\epsilon + \alpha')m &lt; (\epsilon + \alpha)m
\]</div>
<p>and</p>
<div class="math notranslate nohighlight">
\[
\deg_Y(P) = (\delta + \rho')n &lt; (\delta + \rho)n
\]</div>
<p>From this, we can obtain <span class="math notranslate nohighlight">\(\alpha' &lt; \alpha\)</span> and <span class="math notranslate nohighlight">\(\rho' &lt; \rho\)</span>.</p>
<p>From <span class="math notranslate nohighlight">\((19)\)</span> and <span class="math notranslate nohighlight">\((20)\)</span>, we can obtain that for any row <span class="math notranslate nohighlight">\(y \in L^{(i+1)}\)</span>, <span class="math notranslate nohighlight">\(E(X,y)|P(X,y)\)</span>, and similarly, for any column <span class="math notranslate nohighlight">\(x \in B\)</span>, <span class="math notranslate nohighlight">\(E(x,Y)|P(x,Y)\)</span>. In other words, there exist distinct <span class="math notranslate nohighlight">\(y_1, \cdots, y_n \in L^{(i+1)}\)</span> such that <span class="math notranslate nohighlight">\(E(X,y_i)|P(x_i,y_i)\)</span> and distinct <span class="math notranslate nohighlight">\(x_1, \cdots, x_m \in B\)</span> such that <span class="math notranslate nohighlight">\(E(x_i,Y)|P(x_i,Y)\)</span>.</p>
<p>From equation <span class="math notranslate nohighlight">\((5)\)</span></p>
<div class="math notranslate nohighlight">
\[
1 - \rho \ge  \Delta^{\mathcal{(i)}}(f^{(i)},\text{RS}^{(i)})  \ge \Delta_H(f^{(i)},\text{RS}^{(i)})
\]</div>
<p>we can obtain <span class="math notranslate nohighlight">\(\delta + \rho &lt; 1\)</span>.</p>
<blockquote>
<div><p>🤔 <strong>Why?</strong></p>
<ul class="contains-task-list simple">
<li class="task-list-item"><p><input class="task-list-item-checkbox" disabled="disabled" type="checkbox"> How is <span class="math notranslate nohighlight">\(\delta + \rho &lt; 1\)</span> obtained here? Is it because <span class="math notranslate nohighlight">\(1 - \rho \ge  \Delta^{\mathcal{(i)}}(f^{(i)},\text{RS}^{(i)})  \ge \Delta_H(f^{(i)},\text{RS}^{(i)}) &gt; \delta\)</span>?</p></li>
<li class="task-list-item"><p><input class="task-list-item-checkbox" disabled="disabled" type="checkbox"> Now we know <span class="math notranslate nohighlight">\(\Delta_H\left(f_{f^{(i)},x}^{(i+1)}, \text{RS}^{(i+1)}\right) &lt; \delta'\)</span> and <span class="math notranslate nohighlight">\(\alpha \delta = \delta'\)</span>, can it be derived from here?</p></li>
</ul>
</div></blockquote>
<p>From the previously derived <span class="math notranslate nohighlight">\(\alpha' &lt; \alpha\)</span> and <span class="math notranslate nohighlight">\(\rho' &lt; \rho\)</span> and the definition of <span class="math notranslate nohighlight">\(\alpha\)</span>, we can obtain</p>
<div class="math notranslate nohighlight">
\[
2 \alpha' + \epsilon + \frac{\rho'}{\delta} &lt; 2 \alpha + \epsilon + \frac{\rho}{\delta} = 2 \cdot \frac{1}{2}(1 - \epsilon - \frac{\rho}{\delta}) + \epsilon + \frac{\rho}{\delta} = 1.
\]</div>
<p>Combining the above derivations, we get</p>
<ol class="arabic simple">
<li><p><span class="math notranslate nohighlight">\(\delta + \rho' &lt; \delta + \rho &lt; 1\)</span></p></li>
<li><p><span class="math notranslate nohighlight">\(2 \alpha' + \epsilon + \frac{\rho'}{\delta} &lt; 1\)</span></p></li>
</ol>
<p>Thus,</p>
<div class="math notranslate nohighlight">
\[
1 &gt; \max \left\{ \delta + \rho', 2\alpha' + \epsilon + \frac{\rho'}{\delta} \right\}
\]</div>
<p>At this point, combining the above analysis, <em>the degree of polynomial <span class="math notranslate nohighlight">\(E(X,Y)\)</span> is <span class="math notranslate nohighlight">\((\alpha' m, \delta n)\)</span></em>, the degree of polynomial <span class="math notranslate nohighlight">\(P(X,Y)\)</span> is <span class="math notranslate nohighlight">\(((\alpha' + \epsilon)m, (\delta + \rho')m)\)</span>, and there exist distinct <span class="math notranslate nohighlight">\(x_1, \cdots, x_m \in B\)</span> such that <span class="math notranslate nohighlight">\(E(x_i,Y)|P(x_i,Y)\)</span> and distinct <span class="math notranslate nohighlight">\(y_1, \cdots, y_n \in L^{(i+1)}\)</span> such that <span class="math notranslate nohighlight">\(E(X,y_i)|P(x_i,y_i)\)</span>, while</p>
<div class="math notranslate nohighlight">
\[
1 &gt; \max \left\{ \delta + \rho', 2\alpha' + \epsilon + \frac{\rho'}{\delta} \right\}
\]</div>
<blockquote>
<div><p>🤔 <strong>Question</strong></p>
<ul class="contains-task-list simple">
<li class="task-list-item"><p><input class="task-list-item-checkbox" disabled="disabled" type="checkbox"> How is the degree of <span class="math notranslate nohighlight">\(E(X,Y)\)</span> being <span class="math notranslate nohighlight">\((\alpha' m, \delta n)\)</span> obtained? Previously, we obtained <span class="math notranslate nohighlight">\(\deg_X(E) \le \alpha m, \deg_Y(E) \le \delta n\)</span>.</p></li>
</ul>
</div></blockquote>
<p>Therefore, the conditions and assumptions of Lemma 7 are satisfied. From the conclusion of the lemma, we can obtain <span class="math notranslate nohighlight">\(E(X,Y)|P(X,Y)\)</span>, which are polynomials in the ring <span class="math notranslate nohighlight">\(\mathbb{F}[X,Y]\)</span>. Let <span class="math notranslate nohighlight">\(Q\equiv P/E\)</span>. We can obtain that for each row <span class="math notranslate nohighlight">\(y \in L^{(i+1)}\)</span> where <span class="math notranslate nohighlight">\(E(X,y)\)</span> is non-zero, <span class="math notranslate nohighlight">\(Q(X,y) = Q^{(i)}(X,y)\)</span>. Since <span class="math notranslate nohighlight">\(\deg_Y(E) &lt; \delta n\)</span>, <span class="math notranslate nohighlight">\(E(X,y)\)</span> is zero in fewer than <span class="math notranslate nohighlight">\(\delta n\)</span> rows, so the proportion of non-zero rows is at least <span class="math notranslate nohighlight">\(1 - \delta\)</span>. Therefore, the proportion of rows satisfying <span class="math notranslate nohighlight">\(Q(X,y) = Q^{(i)}(X,y)\)</span> is at least <span class="math notranslate nohighlight">\(1 - \delta\)</span>.</p>
<p>According to Proposition 1, we know that <span class="math notranslate nohighlight">\(Q^{(i)}(X,y)\)</span> is</p>
<div class="math notranslate nohighlight">
\[
Q^{(i)}(X,y) = P^{(i)}(X) \qquad \text{mod} \; y - q^{(i)}(X)
\]</div>
<p>where</p>
<div class="math notranslate nohighlight">
\[
P^{(i)} = \text{interpolant}^{f^{(i)}}
\]</div>
<p>Therefore, <span class="math notranslate nohighlight">\(f^{(i)}\)</span> is consistent with the polynomial <span class="math notranslate nohighlight">\(P^{(i)}\)</span> of degree <span class="math notranslate nohighlight">\(\rho |L^{(i)}|\)</span>. Let <span class="math notranslate nohighlight">\(S_y = \{x \in L^{(i)}|q^{(i)}(x) = y\}\)</span> represent the coset of <span class="math notranslate nohighlight">\(L_0^{(i)}\)</span>. If <span class="math notranslate nohighlight">\(Q^{(i)}(X,y) = Q(X,y) = P^{(i)}(X)|_{S_y}\)</span> is satisfied on the coset <span class="math notranslate nohighlight">\(S_y\)</span>, then based on the fact that the proportion of rows satisfying <span class="math notranslate nohighlight">\(Q(X,y) = Q^{(i)}(X,y)\)</span> is at least <span class="math notranslate nohighlight">\(1 - \delta\)</span>, <span class="math notranslate nohighlight">\(f^{(i)}\)</span> is consistent with the polynomial <span class="math notranslate nohighlight">\(P^{(i)}\)</span> on more than a <span class="math notranslate nohighlight">\(1 - \delta\)</span> proportion of cosets <span class="math notranslate nohighlight">\(S_y\)</span>.</p>
<blockquote>
<div><p>👀 <strong>TODO</strong></p>
<ul class="contains-task-list simple">
<li class="task-list-item"><p><input class="task-list-item-checkbox" disabled="disabled" type="checkbox"> The understanding here is not very clear, and the explanation is not clear enough. To be improved. The original text:</p></li>
</ul>
<blockquote>
<div><p>In other words <span class="math notranslate nohighlight">\(f^{(i)}\)</span> agrees with some polynomial of degree <span class="math notranslate nohighlight">\(\rho |L^{(i)}|\)</span> on more than a <span class="math notranslate nohighlight">\((1 - \delta)\)</span>-fraction of cosets of <span class="math notranslate nohighlight">\(L^{(i)}\)</span> in <span class="math notranslate nohighlight">\(L^{(i)}\)</span>.</p>
</div></blockquote>
</div></blockquote>
<p><span class="math notranslate nohighlight">\(f^{(i)}\)</span> is consistent with some polynomial of degree <span class="math notranslate nohighlight">\(\rho |L^{(i)}|\)</span> on more than a <span class="math notranslate nohighlight">\(1 - \delta\)</span> proportion of cosets of <span class="math notranslate nohighlight">\(L_0^{(i)}\)</span> in <span class="math notranslate nohighlight">\(L^{(i)}\)</span>. According to the definition, <span class="math notranslate nohighlight">\(\delta^{(i)}\)</span> represents the proportion of inconsistent cosets, so naturally, we can conclude that <span class="math notranslate nohighlight">\(\delta^{(i)} &lt; 1 - (1 - \delta) = \delta\)</span>, which completes the proof of the lemma. <span style="float: right;"> <span class="math notranslate nohighlight">\(\Box\)</span> </span></p>
</section>
</section>
<section id="references">
<h2>References<a class="headerlink" href="#references" title="Link to this heading">#</a></h2>
<ul class="simple">
<li><p>[BBHR18a] Eli Ben-Sasson, Iddo Bentov, Yinon Horesh, and Michael Riabzev. Scalable, transparent, and post-quantum secure computational integrity. Cryptology ePrint Archive, Report 2018/046, 2018. Available at <a class="reference external" href="https://eprint.iacr.org/2018/046">https://eprint.iacr.org/2018/046</a>.</p></li>
<li><p>[BBHR18b] Eli Ben-Sasson, Iddo Bentov, Yinon Horesh, and Michael Riabzev. “Fast Reed–Solomon Interactive Oracle Proofs of Proximity”. In: <em>Proceedings of the 45th International Colloquium on Automata, Languages and Programming (ICALP)</em>, 2018.</p></li>
<li><p>[RS92] Ronitt Rubinfeld and Madhu Sudan. Self-testing polynomial functions efficiently and over rational domains. In <em>Proceedings of the Third Annual ACM/SIGACT-SIAM Symposium on Discrete Algorithms, 27-29 January 1992, Orlando, Florida.</em>, pages 23–32, 1992.</p></li>
<li><p>[Spi95] Daniel A. Spielman. <em>Computationally Efficient Error-Correcting Codes and Holographic Proofs</em>. PhD thesis, MIT, 1995.</p></li>
<li><p>[Sud92] Madhu Sudan. <em>Efficient Checking of Polynomials and Proofs and the Hardness of Approximation Problems</em>. PhD thesis, UC Berkeley, Berkeley, CA, USA, 1992. UMI Order No. GAX93-30747.</p></li>
<li><p>Venkatesan Guruswami, Atri Rudra, and Madhu Sudan. Essential Coding Theory. <a class="reference external" href="https://cse.buffalo.edu/faculty/atri/courses/coding-theory/book/">https://cse.buffalo.edu/faculty/atri/courses/coding-theory/book/</a>, 2023.</p></li>
<li><p>Vitalik Buterin. STARKs, Part II: Thank Goodness It’s FRI-day. <a class="reference external" href="https://vitalik.eth.limo/general/2017/11/22/starks_part_2.html">https://vitalik.eth.limo/general/2017/11/22/starks_part_2.html</a>, 2017.</p></li>
</ul>
</section>
</section>

    <script type="text/x-thebe-config">
    {
        requestKernel: true,
        binderOptions: {
            repo: "binder-examples/jupyter-stacks-datascience",
            ref: "master",
        },
        codeMirrorConfig: {
            theme: "abcdef",
            mode: "python"
        },
        kernelOptions: {
            name: "python3",
            path: "./fri"
        },
        predefinedOutput: true
    }
    </script>
    <script>kernelName = 'python3'</script>

                </article>
              

              
              
              
              
                <footer class="prev-next-footer d-print-none">
                  
<div class="prev-next-area">
</div>
                </footer>
              
            </div>
            
            
              
                <div class="bd-sidebar-secondary bd-toc"><div class="sidebar-secondary-items sidebar-secondary__inner">


  <div class="sidebar-secondary-item">
  <div class="page-toc tocsection onthispage">
    <i class="fa-solid fa-list"></i> Contents
  </div>
  <nav class="bd-toc-nav page-toc">
    <ul class="visible nav section-nav flex-column">
<li class="toc-h2 nav-item toc-entry"><a class="reference internal nav-link" href="#primary-problem">Primary Problem</a></li>
<li class="toc-h2 nav-item toc-entry"><a class="reference internal nav-link" href="#fri-properties">FRI Properties</a></li>
<li class="toc-h2 nav-item toc-entry"><a class="reference internal nav-link" href="#fri-protocol">FRI Protocol</a><ul class="nav section-nav flex-column">
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#definitions-and-notations">Definitions and Notations</a></li>
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#commit-phase">COMMIT Phase</a></li>
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#query-phase">QUERY Phase</a></li>
</ul>
</li>
<li class="toc-h2 nav-item toc-entry"><a class="reference internal nav-link" href="#main-properties-of-the-fri-protocol">Main Properties of the FRI Protocol</a><ul class="nav section-nav flex-column">
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#block-wise-distance-measure">Block-wise Distance Measure</a></li>
</ul>
</li>
<li class="toc-h2 nav-item toc-entry"><a class="reference internal nav-link" href="#theorem-1-completeness-proof">Theorem 1 Completeness Proof</a><ul class="nav section-nav flex-column">
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#introduction-of-proposition-1">Introduction of Proposition 1</a></li>
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#proof-of-lemma-1">Proof of Lemma 1</a></li>
</ul>
</li>
<li class="toc-h2 nav-item toc-entry"><a class="reference internal nav-link" href="#analysis-of-soundness-proof-in-theorem-1">Analysis of Soundness Proof in Theorem 1</a><ul class="nav section-nav flex-column">
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#round-consistency-and-distortion-set">Round Consistency and Distortion Set</a></li>
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#soundness-proof-idea">Soundness Proof Idea</a></li>
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#unique-decoding-radius-proof-of-lemma-4">Unique Decoding Radius — Proof of Lemma 4</a></li>
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#exceeding-the-unique-decoding-radius-proof-of-lemma-3">Exceeding the Unique Decoding Radius — Proof of Lemma 3</a></li>
</ul>
</li>
<li class="toc-h2 nav-item toc-entry"><a class="reference internal nav-link" href="#references">References</a></li>
</ul>
  </nav></div>

</div></div>
              
            
          </div>
          <footer class="bd-footer-content">
            
<div class="bd-footer-content__inner container">
  
  <div class="footer-item">
    
<p class="component-author">
By The Jupyter Book community
</p>

  </div>
  
  <div class="footer-item">
    

  <p class="copyright">
    
      © Copyright 2023.
      <br/>
    
  </p>

  </div>
  
  <div class="footer-item">
    
  </div>
  
  <div class="footer-item">
    
  </div>
  
</div>
          </footer>
        

      </main>
    </div>
  </div>
  
  <!-- Scripts loaded after <body> so the DOM is not blocked -->
  <script src="../_static/scripts/bootstrap.js?digest=dfe6caa3a7d634c4db9b"></script>
<script src="../_static/scripts/pydata-sphinx-theme.js?digest=dfe6caa3a7d634c4db9b"></script>

  <footer class="bd-footer">
  </footer>
  </body>
</html>