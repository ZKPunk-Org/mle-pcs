
<!DOCTYPE html>


<html lang="en" data-content_root="../" >

  <head>
    <meta charset="utf-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" /><meta name="viewport" content="width=device-width, initial-scale=1" />

    <title>ZeroMorph 笔记 &#8212; Polynomial Commitment Schemes</title>
  
  
  
  <script data-cfasync="false">
    document.documentElement.dataset.mode = localStorage.getItem("mode") || "";
    document.documentElement.dataset.theme = localStorage.getItem("theme") || "";
  </script>
  
  <!-- Loaded before other Sphinx assets -->
  <link href="../_static/styles/theme.css?digest=dfe6caa3a7d634c4db9b" rel="stylesheet" />
<link href="../_static/styles/bootstrap.css?digest=dfe6caa3a7d634c4db9b" rel="stylesheet" />
<link href="../_static/styles/pydata-sphinx-theme.css?digest=dfe6caa3a7d634c4db9b" rel="stylesheet" />

  
  <link href="../_static/vendor/fontawesome/6.5.2/css/all.min.css?digest=dfe6caa3a7d634c4db9b" rel="stylesheet" />
  <link rel="preload" as="font" type="font/woff2" crossorigin href="../_static/vendor/fontawesome/6.5.2/webfonts/fa-solid-900.woff2" />
<link rel="preload" as="font" type="font/woff2" crossorigin href="../_static/vendor/fontawesome/6.5.2/webfonts/fa-brands-400.woff2" />
<link rel="preload" as="font" type="font/woff2" crossorigin href="../_static/vendor/fontawesome/6.5.2/webfonts/fa-regular-400.woff2" />

    <link rel="stylesheet" type="text/css" href="../_static/pygments.css?v=b76e3c8a" />
    <link rel="stylesheet" type="text/css" href="../_static/styles/sphinx-book-theme.css?v=eba8b062" />
    <link rel="stylesheet" type="text/css" href="../_static/togglebutton.css?v=13237357" />
    <link rel="stylesheet" type="text/css" href="../_static/copybutton.css?v=76b2166b" />
    <link rel="stylesheet" type="text/css" href="../_static/mystnb.4510f1fc1dee50b3e5859aac5469c37c29e427902b24a333a5f9fcb2f0b3ac41.css" />
    <link rel="stylesheet" type="text/css" href="../_static/sphinx-thebe.css?v=4fa983c6" />
    <link rel="stylesheet" type="text/css" href="../_static/sphinx-design.min.css?v=95c83b7e" />
  
  <!-- Pre-loaded scripts that we'll load fully later -->
  <link rel="preload" as="script" href="../_static/scripts/bootstrap.js?digest=dfe6caa3a7d634c4db9b" />
<link rel="preload" as="script" href="../_static/scripts/pydata-sphinx-theme.js?digest=dfe6caa3a7d634c4db9b" />
  <script src="../_static/vendor/fontawesome/6.5.2/js/all.min.js?digest=dfe6caa3a7d634c4db9b"></script>

    <script src="../_static/documentation_options.js?v=9eb32ce0"></script>
    <script src="../_static/doctools.js?v=9a2dae69"></script>
    <script src="../_static/sphinx_highlight.js?v=dc90522c"></script>
    <script src="../_static/clipboard.min.js?v=a7894cd8"></script>
    <script src="../_static/copybutton.js?v=f281be69"></script>
    <script src="../_static/scripts/sphinx-book-theme.js?v=887ef09a"></script>
    <script>let toggleHintShow = 'Click to show';</script>
    <script>let toggleHintHide = 'Click to hide';</script>
    <script>let toggleOpenOnPrint = 'true';</script>
    <script src="../_static/togglebutton.js?v=4a39c7ea"></script>
    <script>var togglebuttonSelector = '.toggle, .admonition.dropdown';</script>
    <script src="../_static/design-tabs.js?v=f930bc37"></script>
    <script>const THEBE_JS_URL = "https://unpkg.com/thebe@0.8.2/lib/index.js"; const thebe_selector = ".thebe,.cell"; const thebe_selector_input = "pre"; const thebe_selector_output = ".output, .cell_output"</script>
    <script async="async" src="../_static/sphinx-thebe.js?v=c100c467"></script>
    <script>var togglebuttonSelector = '.toggle, .admonition.dropdown';</script>
    <script>const THEBE_JS_URL = "https://unpkg.com/thebe@0.8.2/lib/index.js"; const thebe_selector = ".thebe,.cell"; const thebe_selector_input = "pre"; const thebe_selector_output = ".output, .cell_output"</script>
    <script>window.MathJax = {"options": {"processHtmlClass": "tex2jax_process|mathjax_process|math|output_area"}}</script>
    <script defer="defer" src="https://cdn.jsdelivr.net/npm/mathjax@3/es5/tex-mml-chtml.js"></script>
    <script>DOCUMENTATION_OPTIONS.pagename = 'zeromorph/zeromorph.zh';</script>
    <link rel="index" title="Index" href="../genindex.html" />
    <link rel="search" title="Search" href="../search.html" />
    <link rel="next" title="Zeromorph-PCS : 对接 FRI" href="zeromorph-fri.zh.html" />
    <link rel="prev" title="Notes on Binius (Part II): Subspace Polynomial" href="../fri-binius/binius-02.zh.html" />
  <meta name="viewport" content="width=device-width, initial-scale=1"/>
  <meta name="docsearch:language" content="en"/>
  </head>
  
  
  <body data-bs-spy="scroll" data-bs-target=".bd-toc-nav" data-offset="180" data-bs-root-margin="0px 0px -60%" data-default-mode="">

  
  
  <div id="pst-skip-link" class="skip-link d-print-none"><a href="#main-content">Skip to main content</a></div>
  
  <div id="pst-scroll-pixel-helper"></div>
  
  <button type="button" class="btn rounded-pill" id="pst-back-to-top">
    <i class="fa-solid fa-arrow-up"></i>Back to top</button>

  
  <input type="checkbox"
          class="sidebar-toggle"
          id="pst-primary-sidebar-checkbox"/>
  <label class="overlay overlay-primary" for="pst-primary-sidebar-checkbox"></label>
  
  <input type="checkbox"
          class="sidebar-toggle"
          id="pst-secondary-sidebar-checkbox"/>
  <label class="overlay overlay-secondary" for="pst-secondary-sidebar-checkbox"></label>
  
  <div class="search-button__wrapper">
    <div class="search-button__overlay"></div>
    <div class="search-button__search-container">
<form class="bd-search d-flex align-items-center"
      action="../search.html"
      method="get">
  <i class="fa-solid fa-magnifying-glass"></i>
  <input type="search"
         class="form-control"
         name="q"
         id="search-input"
         placeholder="Search this book..."
         aria-label="Search this book..."
         autocomplete="off"
         autocorrect="off"
         autocapitalize="off"
         spellcheck="false"/>
  <span class="search-button__kbd-shortcut"><kbd class="kbd-shortcut__modifier">Ctrl</kbd>+<kbd>K</kbd></span>
</form></div>
  </div>

  <div class="pst-async-banner-revealer d-none">
  <aside id="bd-header-version-warning" class="d-none d-print-none" aria-label="Version warning"></aside>
</div>

  
    <header class="bd-header navbar navbar-expand-lg bd-navbar d-print-none">
    </header>
  

  <div class="bd-container">
    <div class="bd-container__inner bd-page-width">
      
      
      
      <div class="bd-sidebar-primary bd-sidebar">
        

  
  <div class="sidebar-header-items sidebar-primary__section">
    
    
    
    
  </div>
  
    <div class="sidebar-primary-items__start sidebar-primary__section">
        <div class="sidebar-primary-item">

  
    
  

<a class="navbar-brand logo" href="../intro.html">
  
  
  
  
  
    
    
      
    
    
    <img src="../_static/logo.png" class="logo__image only-light" alt="Polynomial Commitment Schemes - Home"/>
    <script>document.write(`<img src="../_static/logo.png" class="logo__image only-dark" alt="Polynomial Commitment Schemes - Home"/>`);</script>
  
  
</a></div>
        <div class="sidebar-primary-item">

 <script>
 document.write(`
   <button class="btn search-button-field search-button__button" title="Search" aria-label="Search" data-bs-placement="bottom" data-bs-toggle="tooltip">
    <i class="fa-solid fa-magnifying-glass"></i>
    <span class="search-button__default-text">Search</span>
    <span class="search-button__kbd-shortcut"><kbd class="kbd-shortcut__modifier">Ctrl</kbd>+<kbd class="kbd-shortcut__modifier">K</kbd></span>
   </button>
 `);
 </script></div>
        <div class="sidebar-primary-item"><nav class="bd-links bd-docs-nav" aria-label="Main">
    <div class="bd-toc-item navbar-nav active">
        
        <ul class="nav bd-sidenav bd-sidenav__home-link">
            <li class="toctree-l1">
                <a class="reference internal" href="../intro.html">
                    Welcome to the land of PCS!
                </a>
            </li>
        </ul>
        <p aria-level="2" class="caption" role="heading"><span class="caption-text">Basefold</span></p>
<ul class="nav bd-sidenav">
<li class="toctree-l1"><a class="reference internal" href="../basefold/basefold-01.zh.html">Basefold 笔记：可折叠线性编码</a></li>
<li class="toctree-l1"><a class="reference internal" href="../basefold/basefold-02.zh.html">Basefold 笔记：IOPP</a></li>
<li class="toctree-l1"><a class="reference internal" href="../basefold/basefold-03.zh.html">Basefold 笔记： MLE 求值证明</a></li>
<li class="toctree-l1"><a class="reference internal" href="../basefold/basefold-04.zh.html">Basefold 笔记：Random Foldable Codes</a></li>
<li class="toctree-l1"><a class="reference internal" href="../basefold/basefold-05.zh.html">Basefold 笔记：IOPP 可靠性分析</a></li>
</ul>
<p aria-level="2" class="caption" role="heading"><span class="caption-text">FRI</span></p>
<ul class="nav bd-sidenav">
<li class="toctree-l1"><a class="reference internal" href="../fri/BBHR18-FRI.zh.html">[BBHR18] FRI 论文 soundness 解析</a></li>
<li class="toctree-l1"><a class="reference internal" href="../fri/BCIKS20-proximity-gaps.zh.html">[BCIKS20] Proximity Gaps 论文 soundness 解析</a></li>
<li class="toctree-l1"><a class="reference internal" href="../fri/fri-proximity-gap.zh.html">Proximity Gaps 与 Correlated Agreement：FRI 安全性证明的核心</a></li>
<li class="toctree-l1"><a class="reference internal" href="../fri/stir.zh.html">STIR: 提升码率来降低查询复杂度</a></li>
<li class="toctree-l1"><a class="reference internal" href="../fri/whir.zh.html">WHIR: Reed-Solomon Proximity Testing with Super-Fast Verification</a></li>
<li class="toctree-l1"><a class="reference internal" href="../fri/deepfold.zh.html">DeepFold 笔记：协议概览</a></li>
</ul>
<p aria-level="2" class="caption" role="heading"><span class="caption-text">FRI Binius</span></p>
<ul class="nav bd-sidenav">
<li class="toctree-l1"><a class="reference internal" href="../fri-binius/binius-01.zh.html">Notes on FRI-Binius (Part I): Binary Towers</a></li>
<li class="toctree-l1"><a class="reference internal" href="../fri-binius/binius-02.zh.html">Notes on Binius (Part II): Subspace Polynomial</a></li>
</ul>
<p aria-level="2" class="caption" role="heading"><span class="caption-text">Zeromorph</span></p>
<ul class="current nav bd-sidenav">
<li class="toctree-l1 current active"><a class="current reference internal" href="#">ZeroMorph 笔记</a></li>
<li class="toctree-l1"><a class="reference internal" href="zeromorph-fri.zh.html">Zeromorph-PCS : 对接 FRI</a></li>
<li class="toctree-l1"><a class="reference internal" href="zeromorph_mapping_tutorial.html">Select SageMath Kernel First</a></li>


</ul>

    </div>
</nav></div>
    </div>
  
  
  <div class="sidebar-primary-items__end sidebar-primary__section">
  </div>
  
  <div id="rtd-footer-container"></div>


      </div>
      
      <main id="main-content" class="bd-main" role="main">
        
        

<div class="sbt-scroll-pixel-helper"></div>

          <div class="bd-content">
            <div class="bd-article-container">
              
              <div class="bd-header-article d-print-none">
<div class="header-article-items header-article__inner">
  
    <div class="header-article-items__start">
      
        <div class="header-article-item"><button class="sidebar-toggle primary-toggle btn btn-sm" title="Toggle primary sidebar" data-bs-placement="bottom" data-bs-toggle="tooltip">
  <span class="fa-solid fa-bars"></span>
</button></div>
      
    </div>
  
  
    <div class="header-article-items__end">
      
        <div class="header-article-item">

<div class="article-header-buttons">





<div class="dropdown dropdown-source-buttons">
  <button class="btn dropdown-toggle" type="button" data-bs-toggle="dropdown" aria-expanded="false" aria-label="Source repositories">
    <i class="fab fa-github"></i>
  </button>
  <ul class="dropdown-menu">
      
      
      
      <li><a href="https://github.com/executablebooks/jupyter-book" target="_blank"
   class="btn btn-sm btn-source-repository-button dropdown-item"
   title="Source repository"
   data-bs-placement="left" data-bs-toggle="tooltip"
>
  

<span class="btn__icon-container">
  <i class="fab fa-github"></i>
  </span>
<span class="btn__text-container">Repository</span>
</a>
</li>
      
      
      
      
      <li><a href="https://github.com/executablebooks/jupyter-book/issues/new?title=Issue%20on%20page%20%2Fzeromorph/zeromorph.zh.html&body=Your%20issue%20content%20here." target="_blank"
   class="btn btn-sm btn-source-issues-button dropdown-item"
   title="Open an issue"
   data-bs-placement="left" data-bs-toggle="tooltip"
>
  

<span class="btn__icon-container">
  <i class="fas fa-lightbulb"></i>
  </span>
<span class="btn__text-container">Open issue</span>
</a>
</li>
      
  </ul>
</div>






<div class="dropdown dropdown-download-buttons">
  <button class="btn dropdown-toggle" type="button" data-bs-toggle="dropdown" aria-expanded="false" aria-label="Download this page">
    <i class="fas fa-download"></i>
  </button>
  <ul class="dropdown-menu">
      
      
      
      <li><a href="../_sources/zeromorph/zeromorph.zh.md" target="_blank"
   class="btn btn-sm btn-download-source-button dropdown-item"
   title="Download source file"
   data-bs-placement="left" data-bs-toggle="tooltip"
>
  

<span class="btn__icon-container">
  <i class="fas fa-file"></i>
  </span>
<span class="btn__text-container">.md</span>
</a>
</li>
      
      
      
      
      <li>
<button onclick="window.print()"
  class="btn btn-sm btn-download-pdf-button dropdown-item"
  title="Print to PDF"
  data-bs-placement="left" data-bs-toggle="tooltip"
>
  

<span class="btn__icon-container">
  <i class="fas fa-file-pdf"></i>
  </span>
<span class="btn__text-container">.pdf</span>
</button>
</li>
      
  </ul>
</div>




<button onclick="toggleFullScreen()"
  class="btn btn-sm btn-fullscreen-button"
  title="Fullscreen mode"
  data-bs-placement="bottom" data-bs-toggle="tooltip"
>
  

<span class="btn__icon-container">
  <i class="fas fa-expand"></i>
  </span>

</button>



<script>
document.write(`
  <button class="btn btn-sm nav-link pst-navbar-icon theme-switch-button" title="light/dark" aria-label="light/dark" data-bs-placement="bottom" data-bs-toggle="tooltip">
    <i class="theme-switch fa-solid fa-sun fa-lg" data-mode="light"></i>
    <i class="theme-switch fa-solid fa-moon fa-lg" data-mode="dark"></i>
    <i class="theme-switch fa-solid fa-circle-half-stroke fa-lg" data-mode="auto"></i>
  </button>
`);
</script>


<script>
document.write(`
  <button class="btn btn-sm pst-navbar-icon search-button search-button__button" title="Search" aria-label="Search" data-bs-placement="bottom" data-bs-toggle="tooltip">
    <i class="fa-solid fa-magnifying-glass fa-lg"></i>
  </button>
`);
</script>
<button class="sidebar-toggle secondary-toggle btn btn-sm" title="Toggle secondary sidebar" data-bs-placement="bottom" data-bs-toggle="tooltip">
    <span class="fa-solid fa-list"></span>
</button>
</div></div>
      
    </div>
  
</div>
</div>
              
              

<div id="jb-print-docs-body" class="onlyprint">
    <h1>ZeroMorph 笔记</h1>
    <!-- Table of contents -->
    <div id="print-main-content">
        <div id="jb-print-toc">
            
            <div>
                <h2> Contents </h2>
            </div>
            <nav aria-label="Page">
                <ul class="visible nav section-nav flex-column">
<li class="toc-h2 nav-item toc-entry"><a class="reference internal nav-link" href="#mle">MLE 多项式</a></li>
<li class="toc-h2 nav-item toc-entry"><a class="reference internal nav-link" href="#mle-univariate">MLE 多项式到 Univariate 多项式</a><ul class="nav section-nav flex-column">
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#id1">多项式映射</a></li>
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#id2">映射的加法同态</a></li>
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#id3">低维到高维的映射</a></li>
</ul>
</li>
<li class="toc-h2 nav-item toc-entry"><a class="reference internal nav-link" href="#id4">MLE 多项式的除法分解</a></li>
<li class="toc-h2 nav-item toc-entry"><a class="reference internal nav-link" href="#kzg10-evaluation-argument">基于 KZG10 的 Evaluation Argument</a><ul class="nav section-nav flex-column">
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#evaluation">Evaluation 证明协议</a><ul class="nav section-nav flex-column">
<li class="toc-h4 nav-item toc-entry"><a class="reference internal nav-link" href="#id5">公共输入</a></li>
<li class="toc-h4 nav-item toc-entry"><a class="reference internal nav-link" href="#witness">Witness</a></li>
<li class="toc-h4 nav-item toc-entry"><a class="reference internal nav-link" href="#round-1">Round 1</a></li>
<li class="toc-h4 nav-item toc-entry"><a class="reference internal nav-link" href="#round-2">Round 2</a></li>
<li class="toc-h4 nav-item toc-entry"><a class="reference internal nav-link" href="#verification">Verification</a></li>
</ul>
</li>
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#id6">效率概述</a></li>
</ul>
</li>
<li class="toc-h2 nav-item toc-entry"><a class="reference internal nav-link" href="#id7">优化协议</a><ul class="nav section-nav flex-column">
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#id8">Evaluation 证明协议</a><ul class="nav section-nav flex-column">
<li class="toc-h4 nav-item toc-entry"><a class="reference internal nav-link" href="#id9">公共输入</a></li>
<li class="toc-h4 nav-item toc-entry"><a class="reference internal nav-link" href="#id10">Witness</a></li>
<li class="toc-h4 nav-item toc-entry"><a class="reference internal nav-link" href="#id11">Round 1</a></li>
<li class="toc-h4 nav-item toc-entry"><a class="reference internal nav-link" href="#id12">Round 2</a></li>
<li class="toc-h4 nav-item toc-entry"><a class="reference internal nav-link" href="#round-3">Round 3</a></li>
<li class="toc-h4 nav-item toc-entry"><a class="reference internal nav-link" href="#round-4">Round 4</a></li>
<li class="toc-h4 nav-item toc-entry"><a class="reference internal nav-link" href="#id13">Verification</a></li>
</ul>
</li>
</ul>
</li>
<li class="toc-h2 nav-item toc-entry"><a class="reference internal nav-link" href="#id14">总结</a></li>
<li class="toc-h2 nav-item toc-entry"><a class="reference internal nav-link" href="#reference">Reference:</a></li>
</ul>
            </nav>
        </div>
    </div>
</div>

              
                
<div id="searchbox"></div>
                <article class="bd-article">
                  
  <section class="tex2jax_ignore mathjax_ignore" id="zeromorph">
<h1>ZeroMorph 笔记<a class="headerlink" href="#zeromorph" title="Link to this heading">#</a></h1>
<ul class="simple">
<li><p>Yu Guo <a class="reference external" href="mailto:yu&#46;guo&#37;&#52;&#48;secbit&#46;io">yu<span>&#46;</span>guo<span>&#64;</span>secbit<span>&#46;</span>io</a></p></li>
</ul>
<p>Zeromorph [KT23] 是一个基于 KZG10 的 MLE 多项式承诺方案。事实上，Zeromorph 方案是一个更一般性的框架，可以基于不同的 Univariate Polynomial Commitment 方案，比如 FRI-based Zeromorph 方案。</p>
<p>Zeromorph 的核心要点是将 MLE 多项式的 Evaluations 即「点值向量」作为 Univariate 多项式的「系数向量」。这个做法看起来有些奇怪，不过这个框架仍然不失清晰简洁性。</p>
<p>理解 Zeromorph 的关键在于对高维的 Boolean Hypercube 上取值的变换的理解，以及它们如何对应于 Univariate 多项式的运算。</p>
<section id="mle">
<h2>MLE 多项式<a class="headerlink" href="#mle" title="Link to this heading">#</a></h2>
<p>所谓的 MLE（Multilinear Extension） 多项式 <span class="math notranslate nohighlight">\(\tilde{f}\)</span> 是定义在 Boolean Hypercube 上的一类 Multivariate 多项式。它的每一项中任何一个未知数的次数都不超过 <span class="math notranslate nohighlight">\(1\)</span>，例如 <span class="math notranslate nohighlight">\(\tilde{f}=1 + 2X_0 + 3X_1X_0\)</span> 是一个 MLE 多项式，而 <span class="math notranslate nohighlight">\(\tilde{f}'=1 + 2X_0^2 + 3X_1X_0 + X_1\)</span> 则不是，因为 <span class="math notranslate nohighlight">\(X_0^2\)</span> 的次数大于 <span class="math notranslate nohighlight">\(1\)</span>。</p>
<p>一个 MLE 多项式可以对应到一个从 Boolean 向量到一个有限域的函数，即 <span class="math notranslate nohighlight">\(f:\{0,1\}^n\to \mathbb{F}_q\)</span>，我们则称其维度为 <span class="math notranslate nohighlight">\(n\)</span> 。下图是一个三维的 MLE 多项式 <span class="math notranslate nohighlight">\(\tilde{f}(X_0, X_1, X_2)\)</span> 的示例，这个多项式可以唯一地被 <span class="math notranslate nohighlight">\((a_0, a_1, \ldots, a_7)\)</span> 这个「点值向量」来表示。这对应于 Univariate 多项式中的「点值式」表示，即 Evaluations form。</p>
<img src="img/image.png"  width="70%">
<p>当然一个 MLE 多项式也可以采用「系数式」来表示，即 Coefficients form ，表示如下：</p>
<div class="math notranslate nohighlight">
\[
\tilde{f}(X_0, X_1, \ldots, X_{n-1}) = \sum_{i_0=0}^{1}\sum_{i_1=0}^{1}\cdots \sum_{i_{n-1}=0}^{1} f_{i_0i_1\cdots i_{n-1}} X_0^{i_0}X_1^{i_1}\cdots X_{n-1}^{i_{n-1}}
\]</div>
<p>对于上图三维 MLE 多项式的例子，我们可以将它写为：</p>
<div class="math notranslate nohighlight">
\[
\tilde{f}(X_0, X_1, X_2) = f_0 + f_1X_0 + f_2X_1 + f_3X_2 + f_4X_0X_1 + f_5X_0X_2 + f_6X_1X_2 + f_7X_0X_1X_2
\]</div>
<p>其中 <span class="math notranslate nohighlight">\((f_0, f_1, \ldots, f_7)\)</span> 为 MLE 多项式的系数向量。注意因为 MLE 多项式属于多元多项式（Multivariate Polynomial），任何表示方式都需要事先确定多项式中的项的排序顺序，本文以及后续讨论我们都基于 Lexicographic Order。</p>
<p>对于 MLE 多项式的「点值式」表示，我们可以定义为：</p>
<div class="math notranslate nohighlight">
\[
\tilde{f}(X_0, X_1, \ldots, X_{n-1}) = \sum_{i_0=0}^{1}\sum_{i_1=0}^{1}\cdots \sum_{i_{n-1}=0}^{1} a_{i_0i_1\cdots i_{n-1}}\cdot eq(i_0, i_1, \ldots, i_{n-1}, X_0, X_1, \ldots, X_{n-1})
\]</div>
<p>其中 <span class="math notranslate nohighlight">\(eq\)</span> 为 一组关于 <span class="math notranslate nohighlight">\(n\)</span> 维 Boolean Hypercube <span class="math notranslate nohighlight">\(\{0, 1\}^n\)</span> 的 Lagrange Polynomial：</p>
<div class="math notranslate nohighlight">
\[
eq(i_0, i_1, \ldots, i_{n-1}, X_0, X_1, \ldots, X_{n-1}) = \prod_{j=0}^{n-1} \Big((1-i_j)\cdot (1-X_j)+ i_j\cdot X_j\Big)
\]</div>
<p>MLE 多项式在「点值式」和「系数式」之间存在 <span class="math notranslate nohighlight">\(N\log(N)\)</span> 的转换算法，这里不再深入讨论。</p>
<p>我们可以使用 ZeroMorph 将一个 MLE 多项式映射到一个 Univariate 多项式，具体一点说，是将 MLE 多项式在 Boolean Hypercube 上的「点值向量」映射到一个 Univariate 多项式 的「系数向量」。</p>
</section>
<section id="mle-univariate">
<h2>MLE 多项式到 Univariate 多项式<a class="headerlink" href="#mle-univariate" title="Link to this heading">#</a></h2>
<p>我们以一个简单的例子来快速了解下这个映射关系。考虑下面一个维度只有 2 的 MLE 多项式：</p>
<div class="math notranslate nohighlight">
\[
\tilde{f}(X_0, X_1) = 2 + X_1 + X_0X_1
\]</div>
<p>容易验证，它在 Boolean Hypercube 上的点值表示为：</p>
<div class="math notranslate nohighlight">
\[\begin{split}
\begin{split}
\tilde{f}(0,0) = 2 \\ 
\tilde{f}(1,0) = 2 \\
\tilde{f}(0,1) = 3 \\
\tilde{f}(1,1) = 4 \\
\end{split}
\end{split}\]</div>
<p>如果采用 ZeroMorph 方案，它可以映射到如下的 Univariate 多项式：</p>
<div class="math notranslate nohighlight">
\[
\hat{f}(X) = 2 + 2\cdot X + 3\cdot X^2 + 4\cdot X^3
\]</div>
<p>假设我们有一个 Univariate 多项式的承诺方案，那么我们就可以计算映射后的 Univariate 多项式的承诺。例如，假设我们有以下的 KZG10 承诺方案的 SRS：</p>
<div class="math notranslate nohighlight">
\[
SRS = ([1]_1, [\tau]_1, [\tau^2]_1, [\tau^3]_1, \ldots, [\tau^{D}]_1, [1]_2, [\tau]_2, [\tau^2]_2, [\tau^3]_2, \ldots, [\tau^D]_2)
\]</div>
<p>根据 KZG10 的承诺算法，我们计算 <span class="math notranslate nohighlight">\(\hat{f}(X)\)</span> 的承诺如下：</p>
<div class="math notranslate nohighlight">
\[
\mathsf{cm}(\hat{f}) = 2\cdot [1]_1 + 2\cdot [\tau]_1 + 3\cdot [\tau^2]_1 + 4\cdot [\tau^3]_1
\]</div>
<p>后续我们用符号 <span class="math notranslate nohighlight">\([[\tilde{f}]]\)</span> 来表示 MLE 多项式 <span class="math notranslate nohighlight">\(\tilde{f}\)</span> 映射所对应的 Univariate 多项式。</p>
<section id="id1">
<h3>多项式映射<a class="headerlink" href="#id1" title="Link to this heading">#</a></h3>
<p>这一节，我们讨论下更多的映射情况。为了简化起见，我们先考虑三维 MLE 的情况，即 <span class="math notranslate nohighlight">\(\tilde{f}\in \mathbb{F}_q[X_0, X_1, X_2]^{\leq 1}\)</span>。</p>
<p>假设 <span class="math notranslate nohighlight">\(\tilde{f}\)</span> 只是一个常数多项式，即它的系数向量只有第一项非零，其余元素都为零。多项式可以表示如下：</p>
<div class="math notranslate nohighlight">
\[
\tilde{c}(X_0, X_1, X_2) = c_0
\]</div>
<p>我们考虑下这样一个常数多项式会映射到一个什么样的 Univariate 多项式。首先我们要把它转换成点值式，考虑在一个三维的 Boolean Hypercube 上，无论 <span class="math notranslate nohighlight">\(X_0,X_1,X_2\in\{0, 1\}\)</span> 如何取值，这个多项式在 Boolean Hypercube 上的取值都为 <span class="math notranslate nohighlight">\(c_0\)</span>，那么这也意味着它的点值式为 <span class="math notranslate nohighlight">\((c_0, c_0, c_0, \ldots, c_0)\)</span>，于是它所对应的 Univariate 多项式为：</p>
<div class="math notranslate nohighlight">
\[\begin{split}
\begin{split}
    [[\tilde{c}]] &amp;= c_0 + c_0X + c_0X^2 + c_0X^3 + \ldots + c_0X^{7} \\
    &amp; = c_0 \cdot (1 + X + X^2 + X^3 + \ldots + X^{7}) \\
\end{split}
\end{split}\]</div>
<p>那我们再考虑一个二维的 MLE 多项式 <span class="math notranslate nohighlight">\(\tilde{c}'(X_0, X_1)\)</span>，它同样是一个常数多项式，即 <span class="math notranslate nohighlight">\(\tilde{c}'(X_0, X_1) = c_0\)</span>，那么它对应的 Univariate 多项式为：</p>
<div class="math notranslate nohighlight">
\[\begin{split}
\begin{split}
    [[\tilde{c}']] &amp;= c_0 + c_0X + c_0X^2 + c_0X^3  \\
    &amp; = c_0 \cdot (1 + X + X^2 + X^3) \\
\end{split}
\end{split}\]</div>
<p>我们可以看到，虽然两个 MLE 多项式 <span class="math notranslate nohighlight">\(\tilde{c}\)</span> 和 <span class="math notranslate nohighlight">\(\tilde{c}'\)</span> 的系数式表示完全一样，但它们映射到的 Univariate 多项式并不一样。这是因为不管是 Univariate 还是 Multivariate 的多项式，它们的点值式表示都隐含了 Evaluation Domain 的选取。<span class="math notranslate nohighlight">\(\tilde{c}\)</span> 的 Evaluation Domain 是 3 维的 Boolean Hypercube，而 <span class="math notranslate nohighlight">\(\tilde{c}'\)</span> 的 Evaluation Domain 是 2 维的 Boolean Hypercube。因此，当我们计算多项式的点值式时，需要明确下 Evaluation Domain 的选择，对于 MLE 多项式来说，如果它的 Evaluation Domain 是 <span class="math notranslate nohighlight">\(n\)</span> 维的 Boolean Hypercube，那么我们修改下映射记号表示，在映射括加上下标 <span class="math notranslate nohighlight">\(n\)</span>，即 <span class="math notranslate nohighlight">\([[\tilde{f}]]_n\)</span> 。下面是 <span class="math notranslate nohighlight">\(\tilde{c}\)</span> 在两个不同的 Evaluation Domain 上的映射所产生的两个不同的 Univariate 多项式：</p>
<div class="math notranslate nohighlight">
\[\begin{split}
\begin{split}
    [[\tilde{c}]]_2 &amp;= c_0 + c_0X + c_0X^2 + c_0X^3  \\
    [[\tilde{c}]]_3 &amp;= c_0 + c_0X + c_0X^2 + c_0X^3 + c_0X^4 + c_0X^5 + c_0X^6 + c_0X^7 \\
\end{split}
\end{split}\]</div>
</section>
<section id="id2">
<h3>映射的加法同态<a class="headerlink" href="#id2" title="Link to this heading">#</a></h3>
<p>对于任意两个维度相同的 MLE 多项式，比如 <span class="math notranslate nohighlight">\(\tilde{f}_1(X_0, X_1)\)</span> 和 <span class="math notranslate nohighlight">\(\tilde{f}_2(X_0, X_1)\)</span> ，假如两者的点值式表示为</p>
<div class="math notranslate nohighlight">
\[
\tilde{f}_1(X_0, X_1) = v_0\cdot eq(0,0, X_0, X_1) + v_1\cdot eq(0,1, X_0, X_1) + v_2\cdot eq(1,0, X_0, X_1) + v_3\cdot eq(1,1, X_0, X_1)
\]</div>
<div class="math notranslate nohighlight">
\[
\tilde{f}_2(X_0, X_1) = v_0'\cdot eq(0,0, X_0, X_1) + v_1'\cdot eq(0,1, X_0, X_1) + v_2'\cdot eq(1,0, X_0, X_1) + v_3'\cdot eq(1,1, X_0, X_1)
\]</div>
<p>那么它们的和为：<span class="math notranslate nohighlight">\(\tilde{f}_1(X_0, X_1) + \tilde{f}_2(X_0, X_1)\)</span>，其点值式为：</p>
<div class="math notranslate nohighlight">
\[\begin{split}
\begin{split}
    \tilde{f}_1(X_0, X_1) + \tilde{f}_2(X_0, X_1) &amp;= (v_0+v_0')\cdot eq(0,0, X_0, X_1) + (v_1+v_1')\cdot eq(0,1, X_0, X_1) \\
    &amp; \ + (v_2+v_2')\cdot eq(1,0, X_0, X_1) + (v_3+v_3')\cdot eq(1,1, X_0, X_1) \\
\end{split}
\end{split}\]</div>
<p>于是下面的等式成立：</p>
<blockquote>
<div><p>TODO: 这里要展开推导</p>
</div></blockquote>
<div class="math notranslate nohighlight">
\[
[[\tilde{f}_1(X_0, X_1) + \tilde{f}_2(X_0, X_1)]]_2 = [[\tilde{f}_1(X_0, X_1)]]_2 + [[\tilde{f}_2(X_0, X_1)]]_2
\]</div>
<p>同时不难证明，上面的等式对任意的维度相同的 MLE 多项式都成立。另外也不难证明：</p>
<div class="math notranslate nohighlight">
\[
[[\alpha\cdot \tilde{f}]]_n = \alpha\cdot [[\tilde{f}]]_n,\quad \forall \alpha \in \mathbb{F}_q
\]</div>
<p>因此，我们说 <span class="math notranslate nohighlight">\([[\tilde{f}]]_n\)</span> 这个映射具有多项式加法同态性，并且是一个一一映射（Injective and Surjective）。</p>
</section>
<section id="id3">
<h3>低维到高维的映射<a class="headerlink" href="#id3" title="Link to this heading">#</a></h3>
<p>我们考虑更一般多项式的情况，假设一个二维的 MLE 多项式 <span class="math notranslate nohighlight">\(\tilde{c}(X_0, X_1)\)</span>，它在二维 Boolean Hypercube 上的取值为 <span class="math notranslate nohighlight">\((v_0, v_1, v_2, v_3)\)</span>，那么它对应的 Univariate 多项式为：</p>
<div class="math notranslate nohighlight">
\[\begin{split}
\begin{split}
    [[\tilde{c}]]_2 &amp;= v_0 + v_1X + v_2X^2 + v_3X^3 \\
\end{split}
\end{split}\]</div>
<p>而 <span class="math notranslate nohighlight">\(X_2\cdot \tilde{c}(X_0, X_1)\)</span> 也同样是一个 MLE 多项式，维度为 3 。它在三维 Boolean Hypercube 上的取值为： <span class="math notranslate nohighlight">\((0, 0, 0, 0, v_0, v_1, v_2, v_3)\)</span> ，即前四项为零，后四项等于 <span class="math notranslate nohighlight">\(\tilde{c}(X_0, X_1)\)</span> 在二维 Boolean Hypercube 上的取值，如下图所示：</p>
<p><img alt="alt text" src="../_images/image-2.png" /></p>
<p>这个容易解释，因为当 <span class="math notranslate nohighlight">\(X_2=0\)</span> 时，整体多项式取值为零，于是 <span class="math notranslate nohighlight">\(X_0, X_1\)</span> 构成的二维正方形顶点上的值都为零，而当 <span class="math notranslate nohighlight">\(X_2=1\)</span> 时，多项式 <span class="math notranslate nohighlight">\(X_2\cdot \tilde{c}(X_0, X_1)\)</span> 等于 <span class="math notranslate nohighlight">\(\tilde{c}(X_0, X_1)\)</span> 。因此 <span class="math notranslate nohighlight">\(X_2=1\)</span> 的平面正方形的顶点上的值等于 <span class="math notranslate nohighlight">\(\tilde{c}(X_0, X_1)\)</span> ，进一步我们可以有这样的结论：</p>
<div class="math notranslate nohighlight">
\[
[[X_2\cdot \tilde{c}]]_3 = X^4 \cdot [[\tilde{c}]]_2
\]</div>
<p>快速推导如下 ：</p>
<div class="math notranslate nohighlight">
\[
[[X_2\cdot \tilde{c}]]_3 = v_0X^4 + v_1X^5 + v_2X^6 + v_3X^7 = X^4\cdot (v_0 + v_1X + v_2X^2 + v_3X^3) = X^4 \cdot [[\tilde{c}]]_2
\]</div>
<p>这里的 <span class="math notranslate nohighlight">\(X^4\)</span> 推高了 <span class="math notranslate nohighlight">\([[\tilde{c}]]_2\)</span> 的次数，使得它能够刚好放在三维的 Boolean Hypercube 的高位区域（即 <span class="math notranslate nohighlight">\(X_2=1\)</span> 的区域）。</p>
<p>然后考虑下 <span class="math notranslate nohighlight">\(\tilde{c}(X_0, X_1)\)</span> 在三维 Boolean Hypercube 上的取值，我们会发现新增加的未知数 <span class="math notranslate nohighlight">\(X_2\)</span>，不管取值为 0 还是 1，多项式的取值只和 <span class="math notranslate nohighlight">\(X_0, X_1\)</span> 有关，因此，它的点值式等于二维点值向量复制一份，从而填满 3 维的 Hypercube，如下图所示：</p>
<img src="img/image-3.png" alt="alt text" width="60%">
<p>换句话说，<span class="math notranslate nohighlight">\(\tilde{c}(X_0, X_1)\)</span> 在三维 Hypercube 上的点值式为 <span class="math notranslate nohighlight">\((v_0, v_1, v_2, v_3, v_0, v_1, v_2, v_3)\)</span>，因此它所映射到的 Univariate 多项式为：</p>
<div class="math notranslate nohighlight">
\[\begin{split}
\begin{split}
    [[\tilde{c}]]_3 &amp;= v_0 + v_1X + v_2X^2 + v_3X^3 + v_0X^4 + v_1X^5 + v_2X^6 + v_3X^7 \\
    &amp; = (1 + X^4)\cdot (v_0 + v_1X + v_2X^2 + v_3X^3) \\
    &amp; = (1 + X^4)\cdot [[\tilde{c}]]_2
\end{split}
\end{split}\]</div>
<p>上面的等式可以这么解释：三维 Hypercube 上的取值由两部分拼接而成，<span class="math notranslate nohighlight">\([[\tilde{c}]]_2\)</span> 与由 <span class="math notranslate nohighlight">\(X^4\)</span> 推高次数的 <span class="math notranslate nohighlight">\([[\tilde{c}]]_2\)</span>。</p>
<p>同理可推，<span class="math notranslate nohighlight">\(\tilde{c}(X_0, X_1)\)</span> 在四维 Hypercube 上的取值为 <span class="math notranslate nohighlight">\((v_0, v_1, v_2, v_3, \quad v_0, v_1, v_2, v_3, \quad v_0, v_1, v_2, v_3, \quad v_0, v_1, v_2, v_3)\)</span>，那么它所映射到的 Univariate 多项式为：</p>
<div class="math notranslate nohighlight">
\[\begin{split}
\begin{split}
    [[\tilde{c}]]_4 &amp;= v_0 + v_1X + v_2X^2 + v_3X^3 + v_0X^4 + v_1X^5 + v_2X^6 + v_3X^7 + v_0X^8 + v_1X^9 + v_2X^{10} + v_3X^{11} + v_0X^{12} + v_1X^{13} + v_2X^{14} + v_3X^{15} \\
    &amp; = (1 + X^4 + X^8 + X^{12})\cdot (v_0 + v_1X + v_2X^2 + v_3X^3) \\
    &amp; = (1 + X^4 + X^8 + X^{12})\cdot [[\tilde{c}]]_2
\end{split}
\end{split}\]</div>
<p>把低维的 MLE 拉升到一个高维的 Hypercube 上，就会出现低维 Hypercube 不断复制自己的现象。我们可以定义一个新的多项式函数，<span class="math notranslate nohighlight">\(\Phi_k(X)\)</span>，来表示这种周期性的复制操作：</p>
<div class="math notranslate nohighlight">
\[
\Phi_k(X^h) = 1 + X^h + X^{2h} + \ldots + X^{(2^{k}-1)h}
\]</div>
<p>显然，<span class="math notranslate nohighlight">\([[\tilde{c}]]_4=\Phi_1(X^4)\cdot [[\tilde{c}]]_2\)</span>。</p>
</section>
</section>
<section id="id4">
<h2>MLE 多项式的除法分解<a class="headerlink" href="#id4" title="Link to this heading">#</a></h2>
<p>接下来的问题是：如何利用这个 MLE 到 Unvariate 多项式映射来实现 MLE 的 Evaluation 证明协议。具体点说，如何利用 <span class="math notranslate nohighlight">\(\mathsf{cm}(\tilde{f})\)</span> 来验证 <span class="math notranslate nohighlight">\(\tilde{f}\)</span> 在某个点的取值的正确性，比如 <span class="math notranslate nohighlight">\(\tilde{f}(u_0, u_1)\)</span>？我们虽然已经有了一个基于 KZG10 的 Evaluation Argument 协议，可惜是基于 Univariate 多项式，而非 MLE 多项式。KZG10 利用了 Univariate 多项式的除法分解性质，如下公式</p>
<div class="math notranslate nohighlight">
\[
\hat{f}(X) -  \hat{f}(z) = q(X)\cdot (X-z)
\]</div>
<p>将商多项式 <span class="math notranslate nohighlight">\(q(X)\)</span> 的承诺 <span class="math notranslate nohighlight">\(\mathsf{cm}(q)\)</span> 作为 Evaluation 的证明。那么我们如何将 MLE 在一个多维空间的点，比如 <span class="math notranslate nohighlight">\((u_0, u_1, \ldots, u_{n-1})\)</span> 上的 Evaluation 证明问题，转化为 Univariate 多项式在一个点或多个点上的 Evaluation 证明呢？</p>
<p>论文 [PST13] 给出了一个上述定理的多元多项式版本：</p>
<div class="math notranslate nohighlight">
\[
f(X_0, X_1, \ldots, X_{n-1}) - f(u_0, u_1, \ldots, u_{n-1})= \sum_{k=0}^{n-1}q_k(X_0, X_1, \ldots, X_{n-1}) \cdot (X_k - u_k)
\]</div>
<p>如果 <span class="math notranslate nohighlight">\(f(X_0, X_1, \ldots, X_{n-1})\)</span> 是一个 MLE 多项式，那么它可以被简化为下面的公式：</p>
<div class="math notranslate nohighlight">
\[\begin{split}
\begin{split}
\tilde{f}(X_0, X_1, \ldots, X_{n-1}) - \tilde{f}(u_0, u_1, \ldots, u_{n-1}) &amp; = \tilde{q}_{n-1}(X_0, X_1, \ldots, X_{\color{red}n-2}) \cdot (X_{n-1} - u_{n-1}) \\
&amp; + \tilde{q}_{n-2}(X_0, X_1, \ldots, X_{\color{red}n-3}) \cdot (X_{n-2} - u_{n-2}) \\
&amp; + \cdots \\
&amp; + \tilde{q}_{1}(X_0) \cdot (X_{1} - u_{1}) \\
&amp; + \tilde{q}_{0} \cdot (X_{0} - u_{0}) \\
\end{split}
\end{split}\]</div>
<p>这是因为 MLE 多项式  <span class="math notranslate nohighlight">\(f(X_0, X_1, \ldots, X_{n-1})\)</span> 中每一个未知数的最高次数为 <span class="math notranslate nohighlight">\(1\)</span>，对于 <span class="math notranslate nohighlight">\(f(X_0, X_1, \ldots, X_{k})\)</span>，它除以 <span class="math notranslate nohighlight">\((X_k-u_k)\)</span> 因式之后，余数多项式中将不再含有未知数 <span class="math notranslate nohighlight">\(X_k\)</span> ，所以当 <span class="math notranslate nohighlight">\(f(X_0, X_1, \ldots, X_{n-1})\)</span> 依次除以 <span class="math notranslate nohighlight">\((X_{n-1} - u_{n-1})\)</span> 到 <span class="math notranslate nohighlight">\((X_0 - u_0)\)</span> 这些因式，我们得到的商多项式和余数多项式中的未知数个数一直在逐个减少，直到最后得到一个常数的商多项式 <span class="math notranslate nohighlight">\(\tilde{q}_0\)</span>，当然还有一个常数的余数多项式，而后者正好是 MLE 多项式在 <span class="math notranslate nohighlight">\((u_0, u_1, \ldots, u_{n-1})\)</span> 处的求值。</p>
<p>我们假设这个最后的求值为 <span class="math notranslate nohighlight">\(v\)</span> ，即</p>
<div class="math notranslate nohighlight">
\[
\tilde{f}(u_0, u_1, \ldots, u_{n-1}) = v
\]</div>
<p>那么我们对余数定理等式的左右两边（都看成是一个 MLE 多项式）分别进行 Zeromorph 映射，得到对应的 Univariate 多项式。</p>
<div class="math notranslate nohighlight">
\[
[[\tilde{f}(X_0, X_1, \ldots, X_{n-1}) - v]]_n= [[\sum_{k=0}^{n-1}\tilde{q}_k(X_0, X_1, \ldots, X_{\color{red}k-1}) \cdot (X_k - u_k)]]_n
\]</div>
<p>由于映射具有加法的同态性，因此我们可以继续化简上面的等式：</p>
<div class="math notranslate nohighlight">
\[\begin{split}
\begin{split}
[[\tilde{f}(X_0, X_1, \ldots, X_{n-1})]]_n - [[v]]_n &amp;= \sum_{k=0}^{n-1}[[\tilde{q}_k(X_0, X_1, \ldots, X_{k-1}) \cdot (X_k - u_k)]]_n \\
&amp;= \sum_{k=0}^{n-1}\Big([[X_k\cdot \tilde{q}_k(X_0, X_1, \ldots, X_{k-1})]]_n - u_k[[\tilde{q}_k(X_0, X_1, \ldots, X_{k-1})]]_n\Big)
\end{split}
\end{split}\]</div>
<p>先看等式左边的 <span class="math notranslate nohighlight">\([[\tilde{f}(X_0,X_1,\ldots, X_{n-1})]]_n\)</span> 这一项直接映射到 <span class="math notranslate nohighlight">\(\hat{f}(X)\)</span>，再看 <span class="math notranslate nohighlight">\([[v]]_n\)</span> 这一项，它映射到 <span class="math notranslate nohighlight">\(\hat{v}(X)\)</span>，</p>
<div class="math notranslate nohighlight">
\[
[[v]]_n  = \hat{v}(X) = v + vX + vX^2 + \ldots + vX^{2^n-1}
\]</div>
<p>或者我们改用 <span class="math notranslate nohighlight">\(\Phi_n(X)\)</span> 函数来表示：</p>
<div class="math notranslate nohighlight">
\[
[[v]]_n = v\cdot\Phi_n(X)
\]</div>
<p>看下等式右边的 <span class="math notranslate nohighlight">\([[\tilde{q}_k(X_0, X_1, \ldots, X_{k-1})]]_n\)</span>，这一项是将 <span class="math notranslate nohighlight">\(k\)</span> 维的 Hypercube填充到 <span class="math notranslate nohighlight">\(n\)</span> 维的 Hypercube 上，然后再进行映射。根据前面的讨论，我们需要将 <span class="math notranslate nohighlight">\(k\)</span> 维的 Hypercube 连续复制 <span class="math notranslate nohighlight">\(2^{n-k}\)</span> 次，从而填满 <span class="math notranslate nohighlight">\(n\)</span> 维 Hypercube：</p>
<div class="math notranslate nohighlight">
\[
[[\tilde{q}_k(X_0, X_1, \ldots, X_{k-1})]]_n = \Phi_{n-k}(X^{2^k})\cdot [[\tilde{q}_k(X_0, X_1, \ldots, X_{k-1})]]_{k}
\]</div>
<p>再解释下, <span class="math notranslate nohighlight">\(\Phi_{n-k}(X^{2^k})\)</span> 定义展开如下：</p>
<div class="math notranslate nohighlight">
\[
\Phi_{n-k}(X^{2^k}) = 1 + X^{2^k} + X^{2\cdot 2^k} + \ldots + X^{(2^{n-k}-1)\cdot 2^k}
\]</div>
<p>它的系数为一个若干个 <span class="math notranslate nohighlight">\(0,1\)</span> 组成，并且每两个 <span class="math notranslate nohighlight">\(1\)</span> 之间位置间隔为 <span class="math notranslate nohighlight">\(2^k\)</span>：</p>
<div class="math notranslate nohighlight">
\[
(1, 0, 0 ,\ldots, 0, \quad 1, 0 ,\ldots, 0, \quad 1, 0 ,\ldots, 0, \quad 1)
\]</div>
<p>假设有一个次数受限的多项式 <span class="math notranslate nohighlight">\(g(X)\in\mathbb{F}_q[X]\)</span>，满足 <span class="math notranslate nohighlight">\(\deg(g)&lt;2^k\)</span> ，那么多项式 <span class="math notranslate nohighlight">\(\Phi_{n-k}(X^{2^k})\cdot g\)</span> 就表示了一个 <span class="math notranslate nohighlight">\(2^k-1\)</span> 次多项式 <span class="math notranslate nohighlight">\(g(X)\)</span> 被 <span class="math notranslate nohighlight">\(2^k\)</span> 间隔的系数向量重复了 <span class="math notranslate nohighlight">\(2^{n-k}\)</span> 次，最终得到了一个 <span class="math notranslate nohighlight">\(2^n-1\)</span> 次的多项式。</p>
<p>最后还剩下 <span class="math notranslate nohighlight">\([[X_k\cdot \tilde{q}_k(X_0, X_1, \ldots, X_{k-1})]]_n\)</span> 这项，如何继续化简它呢？</p>
<p>我们可以分两步来构造它的映射，首先看 <span class="math notranslate nohighlight">\(\tilde{q}_k(X_0, X_1, \ldots, X_{k-1})\)</span> 可以由一个 k 维 Boolean Hypercube 表示，然后当乘以一个新的未知数 <span class="math notranslate nohighlight">\(X_k\)</span>，它就变成了一个需要 <span class="math notranslate nohighlight">\(k+1\)</span> 维的 Boolean Hypercube 表示的 MLE 多项式。而这个新 Boolean Hypercube 可以分为两部分，一部分都是零（当 <span class="math notranslate nohighlight">\(X_k=0\)</span> 时），另一部分正是 <span class="math notranslate nohighlight">\(\tilde{q}_k(X_0, X_1, \ldots, X_{k-1})\)</span> （当 <span class="math notranslate nohighlight">\(X_k=1\)</span> 时）。所以我们先利用 <span class="math notranslate nohighlight">\(\Phi_n(X)\)</span> 函数，构造一个 Boolean Hypercube 的重复模式，其中间隔为 <span class="math notranslate nohighlight">\(2^{k+1}\)</span>，然后把 <span class="math notranslate nohighlight">\(k\)</span> 维 Boolean Hypercube 进行 <span class="math notranslate nohighlight">\(2^{n-k-1}\)</span> 次复制，于是我们得到了下面的多项式。</p>
<div class="math notranslate nohighlight">
\[
\Phi_{n-k-1}(X^{2^{k+1}})\cdot [[\tilde{q}_k(X_0, X_1, \ldots, X_{k-1})]]_{k}
\]</div>
<p>不过这只是第一步。上面这个 Univariate 多项式和 <span class="math notranslate nohighlight">\([[X_k\cdot \tilde{q}_k(X_0, X_1, \ldots, X_{k-1})]]_n\)</span> 还不相等，因为前者在每一个重复的 <span class="math notranslate nohighlight">\(k+1\)</span> 维 Boolean Hypercube 中，<span class="math notranslate nohighlight">\(X_k=1\)</span> 部分为零，而 <span class="math notranslate nohighlight">\(X_k=0\)</span> 部分放的则是 <span class="math notranslate nohighlight">\(k\)</span> 维 Boolean Hybercube <span class="math notranslate nohighlight">\(\tilde{q}_k(X_0, X_1, \ldots, X_{k-1})\)</span>，这与我们想要的 Boolean Hypercube 不同。我们需要再为它补上 <span class="math notranslate nohighlight">\(X^{2^k}\)</span> 这样的移位因子，这样就可以调换 <span class="math notranslate nohighlight">\(X_k\)</span> 所对应的 <span class="math notranslate nohighlight">\(k\)</span> 维的 Boolean Hypercube 的位置（从低位区域转移到高位区域）。映射后的结果为：</p>
<div class="math notranslate nohighlight">
\[
[[X_k\cdot \tilde{q}_k(X_0, X_1, \ldots, X_{k-1})]]_n = X^{2^k}\cdot \Phi_{n-k-1}(X^{2^{k+1}})\cdot [[\tilde{q}_k(X_0, X_1, \ldots, X_{k-1})]]_{k}
\]</div>
<p>下图用一个特定的例子演示，其中 <span class="math notranslate nohighlight">\(k=3, n=5\)</span>， 左边为移位前的 <span class="math notranslate nohighlight">\(5\)</span> 维 Boolean Hypercube，其中上下两半场表示第五个维度，每个半场有两个三维立方体，表示第四个维度。我们可以看到，仅当 <span class="math notranslate nohighlight">\(X_3=0\)</span> 的三维立方体恰好对应 <span class="math notranslate nohighlight">\(\tilde{f}(X_0, X_1, X_2)\)</span>，而当 <span class="math notranslate nohighlight">\(X_3=1\)</span> 时，三维立方体上全为零。而下图右边为移位后的 <span class="math notranslate nohighlight">\(5\)</span> 维 Boolean Hypercube，其中的 <span class="math notranslate nohighlight">\(\tilde{f}(X_0, X_1, X_2)\)</span> 立方体被移位到了右边，也就是 <span class="math notranslate nohighlight">\(X_3=1\)</span> 所对应的区域。</p>
<p><img alt="alt text" src="../_images/image-6.png" /></p>
<p>到此，我们可以得到 Zeromorph 协议的关键等式：</p>
<div class="math notranslate nohighlight">
\[
\begin{split}
[[\tilde{f}(X_0, X_1, \ldots, X_{n-1})]]_n - v\cdot\Phi_n(X) &amp;=\sum_{k=0}^{n-1}\Big(X^{2^k}\cdot \Phi_{n-k-1}(X^{2^{k+1}}) - u_k\cdot\Phi_{n-k}(X^{2^k})\Big)\cdot [[\tilde{q}_k(X_0, X_1, \ldots, X_{k-1})]]_k
\end{split}
\]</div>
</section>
<section id="kzg10-evaluation-argument">
<h2>基于 KZG10 的 Evaluation Argument<a class="headerlink" href="#kzg10-evaluation-argument" title="Link to this heading">#</a></h2>
<p>注意到上节我们推导出的 Zeromorph 等式是一个关于 Univariate 多项式的等式，我们简写为：</p>
<div class="math notranslate nohighlight">
\[
\hat{f}(X) - v\cdot\Phi_n(X) = \sum_k \Big(X^{2^k}\cdot \Phi_{n-k-1}(X^{2^{k+1}}) - u_k\cdot\Phi_{n-k}(X^{2^k})\Big)\cdot \hat{q}_k(X)
\]</div>
<p>这里 <span class="math notranslate nohighlight">\(\hat{f}(X)\)</span> 与 <span class="math notranslate nohighlight">\(\hat{q}_k(X)\)</span> 定义如下：</p>
<div class="math notranslate nohighlight">
\[\begin{split}
\begin{split}
\hat{f}(X) &amp;= [[\tilde{f}(X_0, X_1, \ldots, X_{n-1})]]_n \\
\hat{q}_k(X) &amp;= [[\tilde{q}_k(X_0, X_1, \ldots, X_{k-1})]]_k\\
\end{split}
\end{split}\]</div>
<p>我们要证明 <span class="math notranslate nohighlight">\(\tilde{f}(X_0, X_1, \ldots, X_{n-1})\)</span> 在点 <span class="math notranslate nohighlight">\((u_0, u_1, \ldots, u_{n-1})\)</span> 处的取值为 <span class="math notranslate nohighlight">\(v\)</span>，那么我们只需要检查上面的多项式是否相等即可。这里利用 Schwartz-Zippel 引理的思想，让 Verifier 随机挑选一个点 <span class="math notranslate nohighlight">\(X=\zeta\)</span> ，然后让 Prover 提供 <span class="math notranslate nohighlight">\(\hat{f}(\zeta)\)</span> 和 <span class="math notranslate nohighlight">\(\hat{q}_k(\zeta)\)</span> 的值，以便于 Verifier 验证下面的等式是否成立：</p>
<div class="math notranslate nohighlight">
\[
\hat{f}(\zeta) - v\cdot\Phi_n(\zeta) = \sum_k \Big(\zeta^{2^k}\cdot \Phi_{n-k-1}(\zeta^{2^{k+1}}) - u_k\cdot\Phi_{n-k}(\zeta^{2^k})\Big)\cdot \hat{q}_k(\zeta)
\]</div>
<p>不过这还不够，因为 Prover 实际上承诺的是 <span class="math notranslate nohighlight">\(\hat{q}_k(X)\)</span>，为了保证 MLE 余数多项式关系成立，我们要强制要求所有的商多项式 <span class="math notranslate nohighlight">\(\hat{q}_k(X)\)</span> 的次数都小于 <span class="math notranslate nohighlight">\(2^k\)</span>，即 <span class="math notranslate nohighlight">\(\deg(\hat{q}_k)&lt;2^k\)</span>，以确保 Prover 没有作弊的空间。</p>
<p>不管是 FRI 还是 KZG10，都提供了证明 <span class="math notranslate nohighlight">\(\deg(\hat{q}_k)&lt;2^k\)</span> 的方法。本文我们仅考虑基于 KZG10 的 Zeromorph 协议。一个简单的基于 KZG10 的 Degree Bound 证明协议如下：</p>
<ul class="simple">
<li><p>Prover 提供 <span class="math notranslate nohighlight">\(\mathsf{cm}(\hat{q}_k)\)</span> 并附加上 <span class="math notranslate nohighlight">\(\mathsf{cm}(X^{D-2^k+1}\cdot \hat{q}_k(X))\)</span> 发送给 Verifier，</p></li>
<li><p>Verifier 验证下面的等式：</p></li>
</ul>
<div class="math notranslate nohighlight">
\[
e\big(\mathsf{cm}(\hat{q}_k),\ [\tau^{D-2^k+1}]_2\big) = e\big(\mathsf{cm}(X^{D-2^k+1}\cdot \hat{q}_k(X)),\ [1]_2\big)
\]</div>
<p>这里  <span class="math notranslate nohighlight">\(X^{D-2^k+1}\cdot \hat{q}_k(X)\)</span> 的作用是把 <span class="math notranslate nohighlight">\(\hat{q}_k(X)\)</span> 的 Degree 对齐到 <span class="math notranslate nohighlight">\(D\)</span>。因为 KZG10 的 SRS 中，能承诺的多项式的 Degree 最多为 <span class="math notranslate nohighlight">\(D\)</span>，所以如果 <span class="math notranslate nohighlight">\(\hat{q}_k(X)\)</span> 的 Degree 超过了 <span class="math notranslate nohighlight">\(2^k\)</span>，那么 <span class="math notranslate nohighlight">\(\deg(X^{D-2^k+1}\cdot \hat{q}) &gt; D\)</span>，这样就无法用 KZG10 的 SRS 中进行承诺。反之如果 Prover 可以正确承诺 <span class="math notranslate nohighlight">\(X^{D-2^k+1}\cdot \hat{q}_k(X)\)</span> ，那就证明了 <span class="math notranslate nohighlight">\(\deg(\hat{q}_k)&lt;2^k\)</span> 。</p>
<section id="evaluation">
<h3>Evaluation 证明协议<a class="headerlink" href="#evaluation" title="Link to this heading">#</a></h3>
<p>下面我们先给出一个简单朴素的协议实现，方便理解。</p>
<section id="id5">
<h4>公共输入<a class="headerlink" href="#id5" title="Link to this heading">#</a></h4>
<ul class="simple">
<li><p>MLE 多项式 <span class="math notranslate nohighlight">\(\tilde{f}\)</span> 的承诺 <span class="math notranslate nohighlight">\(\mathsf{cm}([[\tilde{f}]]_n)\)</span></p></li>
<li><p>求值点 <span class="math notranslate nohighlight">\(\mathbf{u}=(u_0, u_1, \ldots, u_{n-1})\)</span></p></li>
<li><p>求值结果 <span class="math notranslate nohighlight">\(v = \tilde{f}(\mathbf{u})\)</span></p></li>
</ul>
</section>
<section id="witness">
<h4>Witness<a class="headerlink" href="#witness" title="Link to this heading">#</a></h4>
<ul class="simple">
<li><p>MLE 多项式  <span class="math notranslate nohighlight">\(\tilde{f}\)</span> 在 <span class="math notranslate nohighlight">\(n\)</span> 维 Hypercube 上的点值向量 <span class="math notranslate nohighlight">\(\mathbf{a} = (a_0, a_1, \ldots, a_{2^n-1})\)</span></p></li>
</ul>
</section>
<section id="round-1">
<h4>Round 1<a class="headerlink" href="#round-1" title="Link to this heading">#</a></h4>
<p>Prover 发送余数多项式的承诺</p>
<ul class="simple">
<li><p>计算 <span class="math notranslate nohighlight">\(n\)</span> 个余数 MLE 多项式， <span class="math notranslate nohighlight">\(\{\tilde{q}_k\}_{k=0}^{n-1}\)</span></p></li>
<li><p>构造余数 MLE 多项式所映射到的 Univariate 多项式 <span class="math notranslate nohighlight">\(\hat{q}_k=[[\tilde{q}_k]]_k, \quad 0 \leq k &lt; n\)</span></p></li>
<li><p>计算并发送它们的承诺：<span class="math notranslate nohighlight">\(\mathsf{cm}(\hat{q}_0), \mathsf{cm}(\hat{q}_1), \ldots, \mathsf{cm}(\hat{q}_{n-1})\)</span></p></li>
</ul>
<div class="math notranslate nohighlight">
\[
\tilde{f}(X_0,X_1,\ldots, X_{n-1}) - v = \sum_{k=0}^{n-1} (X_k-u_k) \cdot \tilde{q}_k(X_0,X_1,\ldots, X_{k-1})
\]</div>
<p>Prover 计算，<span class="math notranslate nohighlight">\(\pi_k=\mathsf{cm}(X^{D_{max}-2^k+1}\cdot \hat{q}_k), \quad 0\leq k&lt;n\)</span> ，作为 <span class="math notranslate nohighlight">\(\deg(\hat{q}_k)&lt;2^k\)</span> 的 Degree Bound 证明 ，一并发送给 Verifier</p>
</section>
<section id="round-2">
<h4>Round 2<a class="headerlink" href="#round-2" title="Link to this heading">#</a></h4>
<ol class="arabic simple">
<li><p>Verifier 发送随机数 <span class="math notranslate nohighlight">\(\zeta\in \mathbb{F}_p^*\)</span></p></li>
<li><p>Prover 计算辅助多项式 <span class="math notranslate nohighlight">\(r(X)\)</span> 与商多项式 <span class="math notranslate nohighlight">\(h(X)\)</span>，并发送 <span class="math notranslate nohighlight">\(\mathsf{cm}(h)\)</span></p></li>
</ol>
<ul class="simple">
<li><p>计算 <span class="math notranslate nohighlight">\(r(X)\)</span> ，</p></li>
</ul>
<div class="math notranslate nohighlight">
\[
r(X) = [[\tilde{f}]]_{n} - v\cdot \Phi_{n}(\zeta) - \sum_{k=0}^{n-1} \Big(\zeta^{2^k}\cdot \Phi_{n-k-1}(\zeta^{2^{k+1}}) - u_k\cdot \Phi_{n-k}(\zeta^{2^{k}})\Big)\cdot \hat{q}_k(X)
\]</div>
<ul class="simple">
<li><p>计算 <span class="math notranslate nohighlight">\(h(X)\)</span> 及其承诺 <span class="math notranslate nohighlight">\(\mathsf{cm}(h)\)</span>， 作为 <span class="math notranslate nohighlight">\(r(X)\)</span> 在 <span class="math notranslate nohighlight">\(X=\zeta\)</span> 点取值为零的证明</p></li>
</ul>
<div class="math notranslate nohighlight">
\[
h(X) = \frac{r(X)}{X-\zeta}
\]</div>
</section>
<section id="verification">
<h4>Verification<a class="headerlink" href="#verification" title="Link to this heading">#</a></h4>
<p>Verifier 验证下面的等式</p>
<ul class="simple">
<li><p>构造 <span class="math notranslate nohighlight">\(\mathsf{cm}(r)\)</span> 的承诺：</p></li>
</ul>
<div class="math notranslate nohighlight">
\[
\mathsf{cm}(r) = \mathsf{cm}([[\tilde{f}]]_{n}) - \mathsf{cm}(v\cdot \Phi_{n}(\zeta)) - \sum_{i=0}^{n-1} \Big(\zeta^{2^i}\cdot \Phi_{n-i-1}(\zeta^{2^{i+1}}) - u_i\cdot \Phi_{n-i}(\zeta^{2^{i}})\Big)\cdot \mathsf{cm}(\hat{q}_i)
\]</div>
<ul class="simple">
<li><p>验证 <span class="math notranslate nohighlight">\(r(\zeta) = 0\)</span></p></li>
</ul>
<div class="math notranslate nohighlight">
\[
e(\mathsf{cm}(r), \ [1]_2) = e(\mathsf{cm}(h), [\tau]_2 - \zeta\cdot [1]_2)
\]</div>
<ul class="simple">
<li><p>验证 <span class="math notranslate nohighlight">\((\pi_0, \pi_1, \ldots, \pi_{n-1})\)</span> 是否正确，即验证所有的余数多项式的 Degree Bound： <span class="math notranslate nohighlight">\(\deg(\hat{q}_i)&lt;2^i\)</span> ，对于 <span class="math notranslate nohighlight">\(0\leq i&lt;n\)</span></p></li>
</ul>
<div class="math notranslate nohighlight">
\[
e(\mathsf{cm}(\hat{q}_i), [\tau^{D_{max}-2^i+1}]_2) = e(\pi_i, [1]_2), \quad 0\leq i&lt;n
\]</div>
</section>
</section>
<section id="id6">
<h3>效率概述<a class="headerlink" href="#id6" title="Link to this heading">#</a></h3>
<ul class="simple">
<li><p>证明尺寸： <span class="math notranslate nohighlight">\((2n+1)\mathbb{G}_1\)</span></p></li>
<li><p>Verifier 计算量： <span class="math notranslate nohighlight">\((2n +2) P\)</span>，<span class="math notranslate nohighlight">\((n+2)\mathsf{EccMul}^{\mathbb{G}_1}\)</span></p></li>
</ul>
</section>
</section>
<section id="id7">
<h2>优化协议<a class="headerlink" href="#id7" title="Link to this heading">#</a></h2>
<p>朴素协议中有 <span class="math notranslate nohighlight">\(n\)</span> 个商多项式，它们的 Degree Bound 有 <span class="math notranslate nohighlight">\(2n\)</span> 个 <span class="math notranslate nohighlight">\(\mathbb{G}_1\)</span> ，这显然不够高效。不过，我们可以批量地证明这 <span class="math notranslate nohighlight">\(n\)</span> 个 degree bound。下面是传统的批量证明的思路：</p>
<ul class="simple">
<li><p>Verifer 先发送一个随机数 <span class="math notranslate nohighlight">\(\beta\)</span></p></li>
<li><p>Prover 把 <span class="math notranslate nohighlight">\(n\)</span> 个商多项式聚合在一起，得到 <span class="math notranslate nohighlight">\(\bar{q}(X)\)</span>，聚合的时候把这些商多项式的 Degree 补齐到同一个值，即  <span class="math notranslate nohighlight">\(2^n - 1\)</span> ：</p></li>
</ul>
<div class="math notranslate nohighlight">
\[
\bar{q}(X) = \sum_{k=0}^{n-1} \beta^k \cdot X^{2^n-2^k}\cdot \hat{q}_k(X)
\]</div>
<ul class="simple">
<li><p>Prover 发送 <span class="math notranslate nohighlight">\(\bar{q}(X)\)</span> 的承诺 <span class="math notranslate nohighlight">\(\mathsf{cm}(\bar{q})\)</span></p></li>
<li><p>Verifier 发送随机数 <span class="math notranslate nohighlight">\(\zeta\)</span></p></li>
<li><p>Prover 构造多项式 <span class="math notranslate nohighlight">\(s(X)\)</span>，它在 <span class="math notranslate nohighlight">\(X=\zeta\)</span> 处取值为零，即 <span class="math notranslate nohighlight">\(s(\zeta)=0\)</span></p></li>
</ul>
<div class="math notranslate nohighlight">
\[
s(X) = \bar{q}(X) - \sum_{k=0}^{n-1} \beta^k \cdot \zeta^{2^n-2^k}\cdot \hat{q}_k(X)
\]</div>
<ul class="simple">
<li><p>Prover 构造商多项式 <span class="math notranslate nohighlight">\(h_1(X)\)</span> 并将其 Degree 对齐到最大的 Degree Bound <span class="math notranslate nohighlight">\(D\)</span>，然后证明 <span class="math notranslate nohighlight">\(s(\zeta)=0\)</span> ，并发送承诺 <span class="math notranslate nohighlight">\(\mathsf{cm}(h_1)\)</span></p></li>
</ul>
<div class="math notranslate nohighlight">
\[
h_1(X) = \frac{s(X)}{X-\zeta}\cdot X^{D-2^n+2}
\]</div>
<ul class="simple">
<li><p>Verifier 手里有 <span class="math notranslate nohighlight">\(\mathsf{cm}(\bar{q})\)</span> 与 <span class="math notranslate nohighlight">\(\mathsf{cm}(\hat{q}_i)\)</span>，他可以根据下面的等式，还原出 <span class="math notranslate nohighlight">\(\mathsf{cm}(s)\)</span> 的承诺：</p></li>
</ul>
<div class="math notranslate nohighlight">
\[
\mathsf{cm}(s) = \mathsf{cm}(\bar{q}) - \sum_{i=0}^{n-1} \beta^i \cdot \zeta^{2^n-2^k}\cdot \mathsf{cm}(\hat{q}_i)
\]</div>
<ul class="simple">
<li><p>Verifier 只需要两个 Pairing 运算即可验证 <span class="math notranslate nohighlight">\(s(\zeta)=0\)</span>，从而得到 <span class="math notranslate nohighlight">\(n\)</span> 个 Degree Bound 证明成立</p></li>
</ul>
<div class="math notranslate nohighlight">
\[
e\big(\mathsf{cm}(s), \ [\tau^{D_{max}-2^n+2}]_2\big) = e\big(\mathsf{cm}(h_1), [\tau]_2 - \zeta\cdot [1]_2\big)
\]</div>
<p>此外，Verfier 还可以发一个随机数 <span class="math notranslate nohighlight">\(\alpha\)</span>，进一步聚合 <span class="math notranslate nohighlight">\(r(X)\)</span> 与 <span class="math notranslate nohighlight">\(s(X)\)</span> 的取值证明，因为它们两个在 <span class="math notranslate nohighlight">\(X=\zeta\)</span> 处的取值都为零。</p>
<p>下面是优化版本的 Zeromorph 协议，参见 Zeromorph 论文 [KT23] Section 6。优化的技术主要是将多个 Degree Bound 证明聚合在一起，同时将 <span class="math notranslate nohighlight">\(r(X)\)</span> 的求值证明也聚合在一起。这样可以仅使用两个 Pairing 运算来验证验证（这个版本暂时不考虑 Zero-knowledge 的性质）。</p>
<section id="id8">
<h3>Evaluation 证明协议<a class="headerlink" href="#id8" title="Link to this heading">#</a></h3>
<section id="id9">
<h4>公共输入<a class="headerlink" href="#id9" title="Link to this heading">#</a></h4>
<ul class="simple">
<li><p>MLE 多项式 <span class="math notranslate nohighlight">\(\tilde{f}\)</span> 映射到 Univariate 多项式 <span class="math notranslate nohighlight">\(f(X)=[[\tilde{f}]]_n\)</span> 的承诺 <span class="math notranslate nohighlight">\(\mathsf{cm}([[\tilde{f}]]_n)\)</span></p></li>
<li><p>求值点 <span class="math notranslate nohighlight">\(\mathbf{u}=(u_0, u_1, \ldots, u_{n-1})\)</span></p></li>
<li><p>求值结果 <span class="math notranslate nohighlight">\(v = \tilde{f}(\mathbf{u})\)</span></p></li>
</ul>
</section>
<section id="id10">
<h4>Witness<a class="headerlink" href="#id10" title="Link to this heading">#</a></h4>
<ul class="simple">
<li><p>MLE 多项式  <span class="math notranslate nohighlight">\(\tilde{f}\)</span> 的求值向量 <span class="math notranslate nohighlight">\(\mathbf{a} = (a_0, a_1, \ldots, a_{2^n-1})\)</span></p></li>
</ul>
</section>
<section id="id11">
<h4>Round 1<a class="headerlink" href="#id11" title="Link to this heading">#</a></h4>
<p>第一轮：Prover 发送余数多项式的承诺</p>
<ul class="simple">
<li><p>计算 <span class="math notranslate nohighlight">\(n\)</span> 个余数 MLE 多项式， <span class="math notranslate nohighlight">\(\{q_i\}_{i=0}^{n-1}\)</span></p></li>
<li><p>构造余数 MLE 多项式所映射到的 Univariate 多项式 <span class="math notranslate nohighlight">\(\hat{q}_i=[[q_i]]_i, \quad 0 \leq i &lt; n\)</span></p></li>
<li><p>计算并发送它们的承诺：<span class="math notranslate nohighlight">\(\mathsf{cm}(\hat{q}_0), \mathsf{cm}(\hat{q}_1), \ldots, \mathsf{cm}(\hat{q}_{n-1})\)</span></p></li>
</ul>
<div class="math notranslate nohighlight">
\[
\tilde{f}(X_0,X_1,\ldots, X_{n-1}) - v = \sum_{i=0}^{n-1} (X_k-u_k) \cdot q_i(X_0,X_1,\ldots, X_{k-1})
\]</div>
</section>
<section id="id12">
<h4>Round 2<a class="headerlink" href="#id12" title="Link to this heading">#</a></h4>
<ol class="arabic simple">
<li><p>Verifier 发送随机数 <span class="math notranslate nohighlight">\(\beta\in \mathbb{F}_p^*\)</span> 用来聚合多个 Degree Bound 证明</p></li>
<li><p>Prover 构造 <span class="math notranslate nohighlight">\(\bar{q}(X)\)</span> 作为聚合商多项式 <span class="math notranslate nohighlight">\(\{\hat{q}_i(X)\}\)</span> 的多项式，并发送其承诺 <span class="math notranslate nohighlight">\(\mathsf{cm}(\bar{q})\)</span></p></li>
</ol>
<div class="math notranslate nohighlight">
\[
\bar{q}(X) = \sum_{i=0}^{n-1} \beta^i \cdot X^{2^n-2^i}\hat{q}_i(X)
\]</div>
</section>
<section id="round-3">
<h4>Round 3<a class="headerlink" href="#round-3" title="Link to this heading">#</a></h4>
<ol class="arabic simple">
<li><p>Verifier 发送随机数 <span class="math notranslate nohighlight">\(\zeta\in \mathbb{F}_p^*\)</span> ，用来挑战多项式在 <span class="math notranslate nohighlight">\(X=\zeta\)</span> 处的取值</p></li>
<li><p>Prover 计算 <span class="math notranslate nohighlight">\(h_0(X)\)</span> 与 <span class="math notranslate nohighlight">\(h_1(X)\)</span></p></li>
</ol>
<ul class="simple">
<li><p>计算 <span class="math notranslate nohighlight">\(r(X)\)</span> ，</p></li>
</ul>
<div class="math notranslate nohighlight">
\[
r(X) = \hat{f}(X) - v\cdot \Phi_{n}(\zeta) - \sum_{i=0}^{n-1} \Big(\zeta^{2^i}\cdot \Phi_{n-i-1}(\zeta^{2^{i+1}}) - u_i\cdot \Phi_{n-i}(\zeta^{2^{i}})\Big)\cdot\hat{q}_i(X)
\]</div>
<ul class="simple">
<li><p>计算 <span class="math notranslate nohighlight">\(s(X)\)</span> ，</p></li>
</ul>
<div class="math notranslate nohighlight">
\[
s(X) = \bar{q}(X) - \sum_{k=0}^{n-1} \beta^k \cdot \zeta^{2^n-2^k}\cdot \hat{q}_k(X)
\]</div>
<ul class="simple">
<li><p>计算商多项式 <span class="math notranslate nohighlight">\(h_0(X)\)</span> 与 <span class="math notranslate nohighlight">\(h_1(X)\)</span></p></li>
</ul>
<div class="math notranslate nohighlight">
\[
h_0(X) = \frac{r(X)}{X-\zeta}, \qquad h_1(X) = \frac{s(X)}{X-\zeta}
\]</div>
</section>
<section id="round-4">
<h4>Round 4<a class="headerlink" href="#round-4" title="Link to this heading">#</a></h4>
<ol class="arabic simple">
<li><p>Verifier 发送随机数 <span class="math notranslate nohighlight">\(\alpha\in \mathbb{F}_p^*\)</span> ，用来聚合 <span class="math notranslate nohighlight">\(h_0(X)\)</span> 与 <span class="math notranslate nohighlight">\(h_1(X)\)</span></p></li>
<li><p>Prover 计算 <span class="math notranslate nohighlight">\(h(X)\)</span> 并发送其承诺 <span class="math notranslate nohighlight">\(\mathsf{cm}(h)\)</span></p></li>
</ol>
<div class="math notranslate nohighlight">
\[
h(X)=(h_0(X) + \alpha\cdot h_1(X))\cdot X^{D_{max}-2^n+2}
\]</div>
</section>
<section id="id13">
<h4>Verification<a class="headerlink" href="#id13" title="Link to this heading">#</a></h4>
<p>Verifier</p>
<ul class="simple">
<li><p>构造 <span class="math notranslate nohighlight">\(\mathsf{cm}(r)\)</span> 的承诺：</p></li>
</ul>
<div class="math notranslate nohighlight">
\[
\mathsf{cm}(r) = \mathsf{cm}(f) - \mathsf{cm}(v\cdot \Phi_{n}(\zeta)) - \sum_{i=0}^{n-1} \Big(\zeta^{2^i}\cdot \Phi_{n-i-1}(\zeta^{2^{i+1}}) - u_i\cdot \Phi_{n-i}(\zeta^{2^{i}})\Big)\cdot \mathsf{cm}(\hat{q}_i)
\]</div>
<ul class="simple">
<li><p>构造 <span class="math notranslate nohighlight">\(\mathsf{cm}(s)\)</span> 的承诺：</p></li>
</ul>
<div class="math notranslate nohighlight">
\[
\mathsf{cm}(s) = \mathsf{cm}(\bar{q}) - \sum_{i=0}^{n-1} \beta^i \cdot \zeta^{2^n-2^i}\cdot \mathsf{cm}(\hat{q}_i)
\]</div>
<ul class="simple">
<li><p>验证 <span class="math notranslate nohighlight">\(r(\zeta) = 0\)</span> 与 <span class="math notranslate nohighlight">\(s(\zeta) = 0\)</span></p></li>
</ul>
<div class="math notranslate nohighlight">
\[
e(\mathsf{cm}(r) + \alpha\cdot \mathsf{cm}(s), \ [\tau^{D-2^n+2}]_2) = e(\mathsf{cm}(h),\ [\tau]_2 - \zeta\cdot [1]_2)
\]</div>
</section>
</section>
</section>
<section id="id14">
<h2>总结<a class="headerlink" href="#id14" title="Link to this heading">#</a></h2>
<p>Zeromorph 总体上来说是一个简洁的协议，它将 MLE 的点值式直接映射到 Univariate 多项式的系数，然后利用 KZG10 协议来完成 Evaluation 的证明。后续文章将讨论如何将 Zeromorph 结合 FRI 协议来实现 MLE PCS。</p>
</section>
<section id="reference">
<h2>Reference:<a class="headerlink" href="#reference" title="Link to this heading">#</a></h2>
<ul class="simple">
<li><p>[KT23] Kohrita, Tohru, and Patrick Towa. “Zeromorph: Zero-knowledge multilinear-evaluation proofs from homomorphic univariate commitments.” Cryptology ePrint Archive (2023). <a class="reference external" href="https://eprint.iacr.org/2023/917">https://eprint.iacr.org/2023/917</a></p></li>
<li><p>[PST13] Papamanthou, Charalampos, Elaine Shi, and Roberto Tamassia. “Signatures of correct computation.” Theory of Cryptography Conference. Berlin, Heidelberg: Springer Berlin Heidelberg, 2013. <a class="reference external" href="https://eprint.iacr.org/2011/587">https://eprint.iacr.org/2011/587</a></p></li>
</ul>
</section>
</section>

    <script type="text/x-thebe-config">
    {
        requestKernel: true,
        binderOptions: {
            repo: "binder-examples/jupyter-stacks-datascience",
            ref: "master",
        },
        codeMirrorConfig: {
            theme: "abcdef",
            mode: "python"
        },
        kernelOptions: {
            name: "python3",
            path: "./zeromorph"
        },
        predefinedOutput: true
    }
    </script>
    <script>kernelName = 'python3'</script>

                </article>
              

              
              
              
              
                <footer class="prev-next-footer d-print-none">
                  
<div class="prev-next-area">
    <a class="left-prev"
       href="../fri-binius/binius-02.zh.html"
       title="previous page">
      <i class="fa-solid fa-angle-left"></i>
      <div class="prev-next-info">
        <p class="prev-next-subtitle">previous</p>
        <p class="prev-next-title">Notes on Binius (Part II): Subspace Polynomial</p>
      </div>
    </a>
    <a class="right-next"
       href="zeromorph-fri.zh.html"
       title="next page">
      <div class="prev-next-info">
        <p class="prev-next-subtitle">next</p>
        <p class="prev-next-title">Zeromorph-PCS : 对接 FRI</p>
      </div>
      <i class="fa-solid fa-angle-right"></i>
    </a>
</div>
                </footer>
              
            </div>
            
            
              
                <div class="bd-sidebar-secondary bd-toc"><div class="sidebar-secondary-items sidebar-secondary__inner">


  <div class="sidebar-secondary-item">
  <div class="page-toc tocsection onthispage">
    <i class="fa-solid fa-list"></i> Contents
  </div>
  <nav class="bd-toc-nav page-toc">
    <ul class="visible nav section-nav flex-column">
<li class="toc-h2 nav-item toc-entry"><a class="reference internal nav-link" href="#mle">MLE 多项式</a></li>
<li class="toc-h2 nav-item toc-entry"><a class="reference internal nav-link" href="#mle-univariate">MLE 多项式到 Univariate 多项式</a><ul class="nav section-nav flex-column">
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#id1">多项式映射</a></li>
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#id2">映射的加法同态</a></li>
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#id3">低维到高维的映射</a></li>
</ul>
</li>
<li class="toc-h2 nav-item toc-entry"><a class="reference internal nav-link" href="#id4">MLE 多项式的除法分解</a></li>
<li class="toc-h2 nav-item toc-entry"><a class="reference internal nav-link" href="#kzg10-evaluation-argument">基于 KZG10 的 Evaluation Argument</a><ul class="nav section-nav flex-column">
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#evaluation">Evaluation 证明协议</a><ul class="nav section-nav flex-column">
<li class="toc-h4 nav-item toc-entry"><a class="reference internal nav-link" href="#id5">公共输入</a></li>
<li class="toc-h4 nav-item toc-entry"><a class="reference internal nav-link" href="#witness">Witness</a></li>
<li class="toc-h4 nav-item toc-entry"><a class="reference internal nav-link" href="#round-1">Round 1</a></li>
<li class="toc-h4 nav-item toc-entry"><a class="reference internal nav-link" href="#round-2">Round 2</a></li>
<li class="toc-h4 nav-item toc-entry"><a class="reference internal nav-link" href="#verification">Verification</a></li>
</ul>
</li>
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#id6">效率概述</a></li>
</ul>
</li>
<li class="toc-h2 nav-item toc-entry"><a class="reference internal nav-link" href="#id7">优化协议</a><ul class="nav section-nav flex-column">
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#id8">Evaluation 证明协议</a><ul class="nav section-nav flex-column">
<li class="toc-h4 nav-item toc-entry"><a class="reference internal nav-link" href="#id9">公共输入</a></li>
<li class="toc-h4 nav-item toc-entry"><a class="reference internal nav-link" href="#id10">Witness</a></li>
<li class="toc-h4 nav-item toc-entry"><a class="reference internal nav-link" href="#id11">Round 1</a></li>
<li class="toc-h4 nav-item toc-entry"><a class="reference internal nav-link" href="#id12">Round 2</a></li>
<li class="toc-h4 nav-item toc-entry"><a class="reference internal nav-link" href="#round-3">Round 3</a></li>
<li class="toc-h4 nav-item toc-entry"><a class="reference internal nav-link" href="#round-4">Round 4</a></li>
<li class="toc-h4 nav-item toc-entry"><a class="reference internal nav-link" href="#id13">Verification</a></li>
</ul>
</li>
</ul>
</li>
<li class="toc-h2 nav-item toc-entry"><a class="reference internal nav-link" href="#id14">总结</a></li>
<li class="toc-h2 nav-item toc-entry"><a class="reference internal nav-link" href="#reference">Reference:</a></li>
</ul>
  </nav></div>

</div></div>
              
            
          </div>
          <footer class="bd-footer-content">
            
<div class="bd-footer-content__inner container">
  
  <div class="footer-item">
    
<p class="component-author">
By The Jupyter Book community
</p>

  </div>
  
  <div class="footer-item">
    

  <p class="copyright">
    
      © Copyright 2023.
      <br/>
    
  </p>

  </div>
  
  <div class="footer-item">
    
  </div>
  
  <div class="footer-item">
    
  </div>
  
</div>
          </footer>
        

      </main>
    </div>
  </div>
  
  <!-- Scripts loaded after <body> so the DOM is not blocked -->
  <script src="../_static/scripts/bootstrap.js?digest=dfe6caa3a7d634c4db9b"></script>
<script src="../_static/scripts/pydata-sphinx-theme.js?digest=dfe6caa3a7d634c4db9b"></script>

  <footer class="bd-footer">
  </footer>
  </body>
</html>