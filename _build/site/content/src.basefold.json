{"version":2,"kind":"Notebook","sha256":"0b02990d3775ba7f0aa2ecf570604e215432dadd8b4662a896be4acb43b92fe7","slug":"src.basefold","location":"/src/Basefold.ipynb","dependencies":[],"frontmatter":{"title":"Finite Field","content_includes_title":true,"kernelspec":{"name":"SageMath-9.8","display_name":"SageMath 9.8","language":"sage"},"github":"https://github.com/executablebooks/jupyter-book","numbering":{"title":{"offset":1}},"edit_url":"https://github.com/executablebooks/jupyter-book/blob/main/src/Basefold.ipynb","exports":[{"format":"ipynb","filename":"Basefold.ipynb","url":"/Basefold-0eb247d5af8efd542800005903265313.ipynb"}]},"widgets":{},"mdast":{"type":"root","children":[{"type":"block","kind":"notebook-content","children":[{"type":"heading","depth":1,"position":{"start":{"line":1,"column":1},"end":{"line":1,"column":1}},"children":[{"type":"text","value":"Finite Field","position":{"start":{"line":1,"column":1},"end":{"line":1,"column":1}},"key":"fqXtwHkppc"}],"identifier":"finite-field","label":"Finite Field","html_id":"finite-field","implicit":true,"key":"C1KOFDbOls"},{"type":"math","value":"p = 64 * 3 + 1","position":{"start":{"line":3,"column":1},"end":{"line":5,"column":1}},"html":"<span class=\"katex-display\"><span class=\"katex\"><span class=\"katex-mathml\"><math xmlns=\"http://www.w3.org/1998/Math/MathML\" display=\"block\"><semantics><mrow><mi>p</mi><mo>=</mo><mn>64</mn><mo>∗</mo><mn>3</mn><mo>+</mo><mn>1</mn></mrow><annotation encoding=\"application/x-tex\">p = 64 * 3 + 1</annotation></semantics></math></span><span class=\"katex-html\" aria-hidden=\"true\"><span class=\"base\"><span class=\"strut\" style=\"height:0.625em;vertical-align:-0.1944em;\"></span><span class=\"mord mathnormal\">p</span><span class=\"mspace\" style=\"margin-right:0.2778em;\"></span><span class=\"mrel\">=</span><span class=\"mspace\" style=\"margin-right:0.2778em;\"></span></span><span class=\"base\"><span class=\"strut\" style=\"height:0.6444em;\"></span><span class=\"mord\">64</span><span class=\"mspace\" style=\"margin-right:0.2222em;\"></span><span class=\"mbin\">∗</span><span class=\"mspace\" style=\"margin-right:0.2222em;\"></span></span><span class=\"base\"><span class=\"strut\" style=\"height:0.7278em;vertical-align:-0.0833em;\"></span><span class=\"mord\">3</span><span class=\"mspace\" style=\"margin-right:0.2222em;\"></span><span class=\"mbin\">+</span><span class=\"mspace\" style=\"margin-right:0.2222em;\"></span></span><span class=\"base\"><span class=\"strut\" style=\"height:0.6444em;\"></span><span class=\"mord\">1</span></span></span></span></span>","enumerator":"1","key":"vOFURmQuCJ"}],"key":"TnS5LXXB1A"},{"type":"block","kind":"notebook-code","children":[{"type":"code","lang":"sage","executable":true,"value":"F193.<a> = GF(193)\nR193.<X> = F193[]\nR193\nFp=F193\nFp","key":"KbzHdMzCTF"},{"type":"output","id":"FWP90HBim6dFW8uWWZlMw","data":[{"output_type":"execute_result","execution_count":91,"metadata":{},"data":{"text/plain":{"content":"Finite Field of size 193","content_type":"text/plain"}}}],"key":"vUkAfDlqdb"}],"key":"UHq0LmfZUM"},{"type":"block","kind":"notebook-code","children":[{"type":"code","lang":"sage","executable":true,"value":"R_2.<X0, X1, X2, X3, X4, X5, X6, X7, X8, X9, Y0, Y1, Y2, Y3, Y4, Y5, Y6, Y7, A0, A1, A2, B0, B1, B2> = Fp[]; R_2","key":"LB2T8wRIlo"},{"type":"output","id":"LHTr3Gc0bYI6PgnZZeasP","data":[{"output_type":"execute_result","execution_count":92,"metadata":{},"data":{"text/plain":{"content":"Multivariate Polynomial Ring in X0, X1, X2, X3, X4, X5, X6, X7, X8, X9, Y0, Y1, Y2, Y3, Y4, Y5, Y6, Y7, A0, A1, A2, B0, B1, B2 over Finite Field of size 193","content_type":"text/plain"}}}],"key":"QU3ve0JuZK"}],"key":"zyTXEajLwq"},{"type":"block","kind":"notebook-code","children":[{"type":"code","lang":"sage","executable":true,"value":"from field import magic\n\nFp = magic(Fp)","key":"V56uuGNC0T"},{"type":"output","id":"r36j5JKSv5zTcVRcE9wSP","data":[],"key":"Qs9HwZuYob"}],"key":"Dgp5x0oVYp"},{"type":"block","kind":"notebook-code","children":[{"type":"code","lang":"sage","executable":true,"value":"\ndef bits_le_with_width(i, width):\n    if i >= 2**width:\n        return \"Failed\"\n    bits = []\n    while width:\n        bits.append(i % 2)\n        i //= 2\n        width -= 1\n    return bits\n        \nbits_le_with_width(6, 5)","key":"F167279KhV"},{"type":"output","id":"5vCt2Xo99EH78bsn058YZ","data":[{"output_type":"execute_result","execution_count":94,"metadata":{},"data":{"text/plain":{"content":"[0, 1, 1, 0, 0]","content_type":"text/plain"}}}],"key":"b8Qua1UmKz"}],"key":"C52ZILdTRc"},{"type":"block","kind":"notebook-code","children":[{"type":"code","lang":"sage","executable":true,"value":"def is_power_of_two(n):\n    d = n\n    k = 0\n    while d > 0:\n        d >>= 1\n        k += 1\n    if n == 2**(k-1):\n        return True\n    else:\n        return False\n\ndef next_power_of_two(n):\n    assert n >= 0, \"No negative integer\"\n    if is_power_of_two(n):\n        return n\n    d = n\n    k = 0\n    while d > 0:\n        d >>= 1\n        k += 1\n    return k\n\nis_power_of_two(15), next_power_of_two(15)","key":"oVdPYDD836"},{"type":"output","id":"NNS8cYdZQbSTPGT1AeJ14","data":[{"output_type":"execute_result","execution_count":95,"metadata":{},"data":{"text/plain":{"content":"(False, 4)","content_type":"text/plain"}}}],"key":"VARpCpe3re"}],"key":"zyXp1z4Aca"},{"type":"block","kind":"notebook-code","children":[{"type":"code","lang":"sage","executable":true,"value":"(1 - X0) * (1 - X1)","key":"xG9smGuqBm"},{"type":"output","id":"zgITG4-jCFb-rqzFyYGLY","data":[{"output_type":"execute_result","execution_count":96,"metadata":{},"data":{"text/plain":{"content":"X0*X1 - X0 - X1 + 1","content_type":"text/plain"}}}],"key":"qk2CPmfNEp"}],"key":"biRkt8TEQb"},{"type":"block","kind":"notebook-code","children":[{"type":"code","lang":"sage","executable":true,"value":"Fp(((1 - X0) * (1 - X1))(X0=9, X1=19))","key":"QUKMUUXvQd"},{"type":"output","id":"LVuTS3m-Vgu27nGREsrZV","data":[{"output_type":"execute_result","execution_count":97,"metadata":{},"data":{"text/plain":{"content":"Field([144])","content_type":"text/plain"}}}],"key":"xtaLUvxCRS"}],"key":"e5BlGSAOLt"},{"type":"block","kind":"notebook-code","children":[{"type":"code","lang":"sage","executable":true,"value":"Fp((X0 * X1)(X0=9, X1=19))","key":"hKhgWWYp9a"},{"type":"output","id":"-_pEuxUSMuIslURQTrqWW","data":[{"output_type":"execute_result","execution_count":98,"metadata":{},"data":{"text/plain":{"content":"Field([171])","content_type":"text/plain"}}}],"key":"fFiN2tscw3"}],"key":"ethL2VKff5"},{"type":"block","kind":"notebook-content","children":[{"type":"heading","depth":1,"position":{"start":{"line":1,"column":1},"end":{"line":1,"column":1}},"children":[{"type":"text","value":"Foldable code","position":{"start":{"line":1,"column":1},"end":{"line":1,"column":1}},"key":"RRVUDgnNfz"}],"identifier":"foldable-code","label":"Foldable code","html_id":"foldable-code","implicit":true,"key":"IFKpn8YHn9"}],"key":"YqnF6qUza8"},{"type":"block","kind":"notebook-code","children":[{"type":"code","lang":"sage","executable":true,"value":"# m: message\n# k0: message length of base code\n# c: blowup factor\n\ndef rep_encode(m, k0, c):\n    assert len(m) % k0 == 0, \"len(m): %d is not a multiple of k0: %d\" % (len(m), k0)\n    code = []\n    for i in range(0, c*len(m), k0):\n        for j in range(0, c):\n            code += m[i:i+k0]\n    return code","key":"NXrtiXdAB9"},{"type":"output","id":"vcTr_PbS2UinDWEiG8R57","data":[],"key":"wod4cI5sot"}],"key":"Xkh4gxQtkX"},{"type":"block","kind":"notebook-code","children":[{"type":"code","lang":"sage","executable":true,"value":"rep_encode([1,2],1, 3), rep_encode([1,2,3,4], 2, 3), rep_encode([1,2,3,4], 4, 3)","key":"Bxt0KWvB7B"},{"type":"output","id":"0c-7gh6YA4x7Mw9d814Nk","data":[{"output_type":"execute_result","execution_count":100,"metadata":{},"data":{"text/plain":{"content":"([1, 1, 1, 2, 2, 2],\n [1, 2, 1, 2, 1, 2, 3, 4, 3, 4, 3, 4],\n [1, 2, 3, 4, 1, 2, 3, 4, 1, 2, 3, 4])","content_type":"text/plain"}}}],"key":"wlVpIQt8oD"}],"key":"ayqytwekhb"},{"type":"block","kind":"notebook-content","children":[{"type":"heading","depth":2,"position":{"start":{"line":1,"column":1},"end":{"line":1,"column":1}},"children":[{"type":"text","value":"Reed-Solomon Code","position":{"start":{"line":1,"column":1},"end":{"line":1,"column":1}},"key":"w7frtn5BoF"}],"identifier":"reed-solomon-code","label":"Reed-Solomon Code","html_id":"reed-solomon-code","implicit":true,"key":"uKQZEcBuAB"},{"type":"paragraph","position":{"start":{"line":3,"column":1},"end":{"line":3,"column":1}},"children":[{"type":"text","value":"Fix a sequence ","position":{"start":{"line":3,"column":1},"end":{"line":3,"column":1}},"key":"yfeHDJxfTw"},{"type":"inlineMath","value":"\\mathbf{\\alpha} = (\\alpha_1, \\alpha_2, \\ldots, \\alpha_n)","position":{"start":{"line":3,"column":1},"end":{"line":3,"column":1}},"html":"<span class=\"katex\"><span class=\"katex-mathml\"><math xmlns=\"http://www.w3.org/1998/Math/MathML\"><semantics><mrow><mi mathvariant=\"bold\">α</mi><mo>=</mo><mo stretchy=\"false\">(</mo><msub><mi>α</mi><mn>1</mn></msub><mo separator=\"true\">,</mo><msub><mi>α</mi><mn>2</mn></msub><mo separator=\"true\">,</mo><mo>…</mo><mo separator=\"true\">,</mo><msub><mi>α</mi><mi>n</mi></msub><mo stretchy=\"false\">)</mo></mrow><annotation encoding=\"application/x-tex\">\\mathbf{\\alpha} = (\\alpha_1, \\alpha_2, \\ldots, \\alpha_n)</annotation></semantics></math></span><span class=\"katex-html\" aria-hidden=\"true\"><span class=\"base\"><span class=\"strut\" style=\"height:0.4306em;\"></span><span class=\"mord mathnormal\" style=\"margin-right:0.0037em;\">α</span><span class=\"mspace\" style=\"margin-right:0.2778em;\"></span><span class=\"mrel\">=</span><span class=\"mspace\" style=\"margin-right:0.2778em;\"></span></span><span class=\"base\"><span class=\"strut\" style=\"height:1em;vertical-align:-0.25em;\"></span><span class=\"mopen\">(</span><span class=\"mord\"><span class=\"mord mathnormal\" style=\"margin-right:0.0037em;\">α</span><span class=\"msupsub\"><span class=\"vlist-t vlist-t2\"><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:0.3011em;\"><span style=\"top:-2.55em;margin-left:-0.0037em;margin-right:0.05em;\"><span class=\"pstrut\" style=\"height:2.7em;\"></span><span class=\"sizing reset-size6 size3 mtight\"><span class=\"mord mtight\">1</span></span></span></span><span class=\"vlist-s\">​</span></span><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:0.15em;\"><span></span></span></span></span></span></span><span class=\"mpunct\">,</span><span class=\"mspace\" style=\"margin-right:0.1667em;\"></span><span class=\"mord\"><span class=\"mord mathnormal\" style=\"margin-right:0.0037em;\">α</span><span class=\"msupsub\"><span class=\"vlist-t vlist-t2\"><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:0.3011em;\"><span style=\"top:-2.55em;margin-left:-0.0037em;margin-right:0.05em;\"><span class=\"pstrut\" style=\"height:2.7em;\"></span><span class=\"sizing reset-size6 size3 mtight\"><span class=\"mord mtight\">2</span></span></span></span><span class=\"vlist-s\">​</span></span><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:0.15em;\"><span></span></span></span></span></span></span><span class=\"mpunct\">,</span><span class=\"mspace\" style=\"margin-right:0.1667em;\"></span><span class=\"minner\">…</span><span class=\"mspace\" style=\"margin-right:0.1667em;\"></span><span class=\"mpunct\">,</span><span class=\"mspace\" style=\"margin-right:0.1667em;\"></span><span class=\"mord\"><span class=\"mord mathnormal\" style=\"margin-right:0.0037em;\">α</span><span class=\"msupsub\"><span class=\"vlist-t vlist-t2\"><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:0.1514em;\"><span style=\"top:-2.55em;margin-left:-0.0037em;margin-right:0.05em;\"><span class=\"pstrut\" style=\"height:2.7em;\"></span><span class=\"sizing reset-size6 size3 mtight\"><span class=\"mord mathnormal mtight\">n</span></span></span></span><span class=\"vlist-s\">​</span></span><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:0.15em;\"><span></span></span></span></span></span></span><span class=\"mclose\">)</span></span></span></span>","key":"qbRT22Wt5D"},{"type":"text","value":" of ","position":{"start":{"line":3,"column":1},"end":{"line":3,"column":1}},"key":"m1QPxzPVuN"},{"type":"inlineMath","value":"n","position":{"start":{"line":3,"column":1},"end":{"line":3,"column":1}},"html":"<span class=\"katex\"><span class=\"katex-mathml\"><math xmlns=\"http://www.w3.org/1998/Math/MathML\"><semantics><mrow><mi>n</mi></mrow><annotation encoding=\"application/x-tex\">n</annotation></semantics></math></span><span class=\"katex-html\" aria-hidden=\"true\"><span class=\"base\"><span class=\"strut\" style=\"height:0.4306em;\"></span><span class=\"mord mathnormal\">n</span></span></span></span>","key":"mQYNQY1i9b"},{"type":"text","value":" distict elements from ","position":{"start":{"line":3,"column":1},"end":{"line":3,"column":1}},"key":"mhXHIYn0M5"},{"type":"inlineMath","value":"\\mathbf{F}_q","position":{"start":{"line":3,"column":1},"end":{"line":3,"column":1}},"html":"<span class=\"katex\"><span class=\"katex-mathml\"><math xmlns=\"http://www.w3.org/1998/Math/MathML\"><semantics><mrow><msub><mi mathvariant=\"bold\">F</mi><mi>q</mi></msub></mrow><annotation encoding=\"application/x-tex\">\\mathbf{F}_q</annotation></semantics></math></span><span class=\"katex-html\" aria-hidden=\"true\"><span class=\"base\"><span class=\"strut\" style=\"height:0.9722em;vertical-align:-0.2861em;\"></span><span class=\"mord\"><span class=\"mord mathbf\">F</span><span class=\"msupsub\"><span class=\"vlist-t vlist-t2\"><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:0.1514em;\"><span style=\"top:-2.55em;margin-left:0em;margin-right:0.05em;\"><span class=\"pstrut\" style=\"height:2.7em;\"></span><span class=\"sizing reset-size6 size3 mtight\"><span class=\"mord mathnormal mtight\" style=\"margin-right:0.03588em;\">q</span></span></span></span><span class=\"vlist-s\">​</span></span><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:0.2861em;\"><span></span></span></span></span></span></span></span></span></span>","key":"z5COmk1e60"},{"type":"text","value":". Map a message ","position":{"start":{"line":3,"column":1},"end":{"line":3,"column":1}},"key":"fE1JMkrT1u"},{"type":"inlineMath","value":"\\mathbf{m} = (m_0, m_1, \\ldots, m_{k_0 - 1})","position":{"start":{"line":3,"column":1},"end":{"line":3,"column":1}},"html":"<span class=\"katex\"><span class=\"katex-mathml\"><math xmlns=\"http://www.w3.org/1998/Math/MathML\"><semantics><mrow><mi mathvariant=\"bold\">m</mi><mo>=</mo><mo stretchy=\"false\">(</mo><msub><mi>m</mi><mn>0</mn></msub><mo separator=\"true\">,</mo><msub><mi>m</mi><mn>1</mn></msub><mo separator=\"true\">,</mo><mo>…</mo><mo separator=\"true\">,</mo><msub><mi>m</mi><mrow><msub><mi>k</mi><mn>0</mn></msub><mo>−</mo><mn>1</mn></mrow></msub><mo stretchy=\"false\">)</mo></mrow><annotation encoding=\"application/x-tex\">\\mathbf{m} = (m_0, m_1, \\ldots, m_{k_0 - 1})</annotation></semantics></math></span><span class=\"katex-html\" aria-hidden=\"true\"><span class=\"base\"><span class=\"strut\" style=\"height:0.4444em;\"></span><span class=\"mord mathbf\">m</span><span class=\"mspace\" style=\"margin-right:0.2778em;\"></span><span class=\"mrel\">=</span><span class=\"mspace\" style=\"margin-right:0.2778em;\"></span></span><span class=\"base\"><span class=\"strut\" style=\"height:1.0001em;vertical-align:-0.2501em;\"></span><span class=\"mopen\">(</span><span class=\"mord\"><span class=\"mord mathnormal\">m</span><span class=\"msupsub\"><span class=\"vlist-t vlist-t2\"><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:0.3011em;\"><span style=\"top:-2.55em;margin-left:0em;margin-right:0.05em;\"><span class=\"pstrut\" style=\"height:2.7em;\"></span><span class=\"sizing reset-size6 size3 mtight\"><span class=\"mord mtight\">0</span></span></span></span><span class=\"vlist-s\">​</span></span><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:0.15em;\"><span></span></span></span></span></span></span><span class=\"mpunct\">,</span><span class=\"mspace\" style=\"margin-right:0.1667em;\"></span><span class=\"mord\"><span class=\"mord mathnormal\">m</span><span class=\"msupsub\"><span class=\"vlist-t vlist-t2\"><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:0.3011em;\"><span style=\"top:-2.55em;margin-left:0em;margin-right:0.05em;\"><span class=\"pstrut\" style=\"height:2.7em;\"></span><span class=\"sizing reset-size6 size3 mtight\"><span class=\"mord mtight\">1</span></span></span></span><span class=\"vlist-s\">​</span></span><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:0.15em;\"><span></span></span></span></span></span></span><span class=\"mpunct\">,</span><span class=\"mspace\" style=\"margin-right:0.1667em;\"></span><span class=\"minner\">…</span><span class=\"mspace\" style=\"margin-right:0.1667em;\"></span><span class=\"mpunct\">,</span><span class=\"mspace\" style=\"margin-right:0.1667em;\"></span><span class=\"mord\"><span class=\"mord mathnormal\">m</span><span class=\"msupsub\"><span class=\"vlist-t vlist-t2\"><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:0.3361em;\"><span style=\"top:-2.55em;margin-left:0em;margin-right:0.05em;\"><span class=\"pstrut\" style=\"height:2.7em;\"></span><span class=\"sizing reset-size6 size3 mtight\"><span class=\"mord mtight\"><span class=\"mord mtight\"><span class=\"mord mathnormal mtight\" style=\"margin-right:0.03148em;\">k</span><span class=\"msupsub\"><span class=\"vlist-t vlist-t2\"><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:0.3173em;\"><span style=\"top:-2.357em;margin-left:-0.0315em;margin-right:0.0714em;\"><span class=\"pstrut\" style=\"height:2.5em;\"></span><span class=\"sizing reset-size3 size1 mtight\"><span class=\"mord mtight\">0</span></span></span></span><span class=\"vlist-s\">​</span></span><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:0.143em;\"><span></span></span></span></span></span></span><span class=\"mbin mtight\">−</span><span class=\"mord mtight\">1</span></span></span></span></span><span class=\"vlist-s\">​</span></span><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:0.2501em;\"><span></span></span></span></span></span></span><span class=\"mclose\">)</span></span></span></span>","key":"t0Tdpy7YmJ"},{"type":"text","value":" with ","position":{"start":{"line":3,"column":1},"end":{"line":3,"column":1}},"key":"gil2Yt1K6d"},{"type":"inlineMath","value":"m_i \\in \\mathbf{F}_q","position":{"start":{"line":3,"column":1},"end":{"line":3,"column":1}},"html":"<span class=\"katex\"><span class=\"katex-mathml\"><math xmlns=\"http://www.w3.org/1998/Math/MathML\"><semantics><mrow><msub><mi>m</mi><mi>i</mi></msub><mo>∈</mo><msub><mi mathvariant=\"bold\">F</mi><mi>q</mi></msub></mrow><annotation encoding=\"application/x-tex\">m_i \\in \\mathbf{F}_q</annotation></semantics></math></span><span class=\"katex-html\" aria-hidden=\"true\"><span class=\"base\"><span class=\"strut\" style=\"height:0.6891em;vertical-align:-0.15em;\"></span><span class=\"mord\"><span class=\"mord mathnormal\">m</span><span class=\"msupsub\"><span class=\"vlist-t vlist-t2\"><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:0.3117em;\"><span style=\"top:-2.55em;margin-left:0em;margin-right:0.05em;\"><span class=\"pstrut\" style=\"height:2.7em;\"></span><span class=\"sizing reset-size6 size3 mtight\"><span class=\"mord mathnormal mtight\">i</span></span></span></span><span class=\"vlist-s\">​</span></span><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:0.15em;\"><span></span></span></span></span></span></span><span class=\"mspace\" style=\"margin-right:0.2778em;\"></span><span class=\"mrel\">∈</span><span class=\"mspace\" style=\"margin-right:0.2778em;\"></span></span><span class=\"base\"><span class=\"strut\" style=\"height:0.9722em;vertical-align:-0.2861em;\"></span><span class=\"mord\"><span class=\"mord mathbf\">F</span><span class=\"msupsub\"><span class=\"vlist-t vlist-t2\"><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:0.1514em;\"><span style=\"top:-2.55em;margin-left:0em;margin-right:0.05em;\"><span class=\"pstrut\" style=\"height:2.7em;\"></span><span class=\"sizing reset-size6 size3 mtight\"><span class=\"mord mathnormal mtight\" style=\"margin-right:0.03588em;\">q</span></span></span></span><span class=\"vlist-s\">​</span></span><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:0.2861em;\"><span></span></span></span></span></span></span></span></span></span>","key":"ByYZEXjPcu"},{"type":"text","value":" to the degree ","position":{"start":{"line":3,"column":1},"end":{"line":3,"column":1}},"key":"IDEcvLIz1R"},{"type":"inlineMath","value":"k_0 - 1","position":{"start":{"line":3,"column":1},"end":{"line":3,"column":1}},"html":"<span class=\"katex\"><span class=\"katex-mathml\"><math xmlns=\"http://www.w3.org/1998/Math/MathML\"><semantics><mrow><msub><mi>k</mi><mn>0</mn></msub><mo>−</mo><mn>1</mn></mrow><annotation encoding=\"application/x-tex\">k_0 - 1</annotation></semantics></math></span><span class=\"katex-html\" aria-hidden=\"true\"><span class=\"base\"><span class=\"strut\" style=\"height:0.8444em;vertical-align:-0.15em;\"></span><span class=\"mord\"><span class=\"mord mathnormal\" style=\"margin-right:0.03148em;\">k</span><span class=\"msupsub\"><span class=\"vlist-t vlist-t2\"><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:0.3011em;\"><span style=\"top:-2.55em;margin-left:-0.0315em;margin-right:0.05em;\"><span class=\"pstrut\" style=\"height:2.7em;\"></span><span class=\"sizing reset-size6 size3 mtight\"><span class=\"mord mtight\">0</span></span></span></span><span class=\"vlist-s\">​</span></span><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:0.15em;\"><span></span></span></span></span></span></span><span class=\"mspace\" style=\"margin-right:0.2222em;\"></span><span class=\"mbin\">−</span><span class=\"mspace\" style=\"margin-right:0.2222em;\"></span></span><span class=\"base\"><span class=\"strut\" style=\"height:0.6444em;\"></span><span class=\"mord\">1</span></span></span></span>","key":"OK73oaF7eg"},{"type":"text","value":" polynomial.","position":{"start":{"line":3,"column":1},"end":{"line":3,"column":1}},"key":"a0uYvijQ98"}],"key":"sR6d4DbwfJ"},{"type":"math","value":"\\mathbf{m} \\mapsto f_{\\mathbf{m}}(X)","position":{"start":{"line":5,"column":1},"end":{"line":7,"column":1}},"html":"<span class=\"katex-display\"><span class=\"katex\"><span class=\"katex-mathml\"><math xmlns=\"http://www.w3.org/1998/Math/MathML\" display=\"block\"><semantics><mrow><mi mathvariant=\"bold\">m</mi><mo>↦</mo><msub><mi>f</mi><mi mathvariant=\"bold\">m</mi></msub><mo stretchy=\"false\">(</mo><mi>X</mi><mo stretchy=\"false\">)</mo></mrow><annotation encoding=\"application/x-tex\">\\mathbf{m} \\mapsto f_{\\mathbf{m}}(X)</annotation></semantics></math></span><span class=\"katex-html\" aria-hidden=\"true\"><span class=\"base\"><span class=\"strut\" style=\"height:0.522em;vertical-align:-0.011em;\"></span><span class=\"mord mathbf\">m</span><span class=\"mspace\" style=\"margin-right:0.2778em;\"></span><span class=\"mrel\">↦</span><span class=\"mspace\" style=\"margin-right:0.2778em;\"></span></span><span class=\"base\"><span class=\"strut\" style=\"height:1em;vertical-align:-0.25em;\"></span><span class=\"mord\"><span class=\"mord mathnormal\" style=\"margin-right:0.10764em;\">f</span><span class=\"msupsub\"><span class=\"vlist-t vlist-t2\"><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:0.1611em;\"><span style=\"top:-2.55em;margin-left:-0.1076em;margin-right:0.05em;\"><span class=\"pstrut\" style=\"height:2.7em;\"></span><span class=\"sizing reset-size6 size3 mtight\"><span class=\"mord mtight\"><span class=\"mord mathbf mtight\">m</span></span></span></span></span><span class=\"vlist-s\">​</span></span><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:0.15em;\"><span></span></span></span></span></span></span><span class=\"mopen\">(</span><span class=\"mord mathnormal\" style=\"margin-right:0.07847em;\">X</span><span class=\"mclose\">)</span></span></span></span></span>","enumerator":"2","key":"LSmYR31tLs"},{"type":"paragraph","position":{"start":{"line":9,"column":1},"end":{"line":9,"column":1}},"children":[{"type":"text","value":"where","position":{"start":{"line":9,"column":1},"end":{"line":9,"column":1}},"key":"cpYcb2zL3v"}],"key":"EHBzXzfhfN"},{"type":"math","value":"f_{\\mathbf{m}}(X) = \\sum_{i = 0}^{k_0 - 1} m_i X^i","position":{"start":{"line":11,"column":1},"end":{"line":13,"column":1}},"html":"<span class=\"katex-display\"><span class=\"katex\"><span class=\"katex-mathml\"><math xmlns=\"http://www.w3.org/1998/Math/MathML\" display=\"block\"><semantics><mrow><msub><mi>f</mi><mi mathvariant=\"bold\">m</mi></msub><mo stretchy=\"false\">(</mo><mi>X</mi><mo stretchy=\"false\">)</mo><mo>=</mo><munderover><mo>∑</mo><mrow><mi>i</mi><mo>=</mo><mn>0</mn></mrow><mrow><msub><mi>k</mi><mn>0</mn></msub><mo>−</mo><mn>1</mn></mrow></munderover><msub><mi>m</mi><mi>i</mi></msub><msup><mi>X</mi><mi>i</mi></msup></mrow><annotation encoding=\"application/x-tex\">f_{\\mathbf{m}}(X) = \\sum_{i = 0}^{k_0 - 1} m_i X^i</annotation></semantics></math></span><span class=\"katex-html\" aria-hidden=\"true\"><span class=\"base\"><span class=\"strut\" style=\"height:1em;vertical-align:-0.25em;\"></span><span class=\"mord\"><span class=\"mord mathnormal\" style=\"margin-right:0.10764em;\">f</span><span class=\"msupsub\"><span class=\"vlist-t vlist-t2\"><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:0.1611em;\"><span style=\"top:-2.55em;margin-left:-0.1076em;margin-right:0.05em;\"><span class=\"pstrut\" style=\"height:2.7em;\"></span><span class=\"sizing reset-size6 size3 mtight\"><span class=\"mord mtight\"><span class=\"mord mathbf mtight\">m</span></span></span></span></span><span class=\"vlist-s\">​</span></span><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:0.15em;\"><span></span></span></span></span></span></span><span class=\"mopen\">(</span><span class=\"mord mathnormal\" style=\"margin-right:0.07847em;\">X</span><span class=\"mclose\">)</span><span class=\"mspace\" style=\"margin-right:0.2778em;\"></span><span class=\"mrel\">=</span><span class=\"mspace\" style=\"margin-right:0.2778em;\"></span></span><span class=\"base\"><span class=\"strut\" style=\"height:3.1249em;vertical-align:-1.2777em;\"></span><span class=\"mop op-limits\"><span class=\"vlist-t vlist-t2\"><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:1.8472em;\"><span style=\"top:-1.8723em;margin-left:0em;\"><span class=\"pstrut\" style=\"height:3.05em;\"></span><span class=\"sizing reset-size6 size3 mtight\"><span class=\"mord mtight\"><span class=\"mord mathnormal mtight\">i</span><span class=\"mrel mtight\">=</span><span class=\"mord mtight\">0</span></span></span></span><span style=\"top:-3.05em;\"><span class=\"pstrut\" style=\"height:3.05em;\"></span><span><span class=\"mop op-symbol large-op\">∑</span></span></span><span style=\"top:-4.3111em;margin-left:0em;\"><span class=\"pstrut\" style=\"height:3.05em;\"></span><span class=\"sizing reset-size6 size3 mtight\"><span class=\"mord mtight\"><span class=\"mord mtight\"><span class=\"mord mathnormal mtight\" style=\"margin-right:0.03148em;\">k</span><span class=\"msupsub\"><span class=\"vlist-t vlist-t2\"><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:0.3173em;\"><span style=\"top:-2.357em;margin-left:-0.0315em;margin-right:0.0714em;\"><span class=\"pstrut\" style=\"height:2.5em;\"></span><span class=\"sizing reset-size3 size1 mtight\"><span class=\"mord mtight\">0</span></span></span></span><span class=\"vlist-s\">​</span></span><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:0.143em;\"><span></span></span></span></span></span></span><span class=\"mbin mtight\">−</span><span class=\"mord mtight\">1</span></span></span></span></span><span class=\"vlist-s\">​</span></span><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:1.2777em;\"><span></span></span></span></span></span><span class=\"mspace\" style=\"margin-right:0.1667em;\"></span><span class=\"mord\"><span class=\"mord mathnormal\">m</span><span class=\"msupsub\"><span class=\"vlist-t vlist-t2\"><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:0.3117em;\"><span style=\"top:-2.55em;margin-left:0em;margin-right:0.05em;\"><span class=\"pstrut\" style=\"height:2.7em;\"></span><span class=\"sizing reset-size6 size3 mtight\"><span class=\"mord mathnormal mtight\">i</span></span></span></span><span class=\"vlist-s\">​</span></span><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:0.15em;\"><span></span></span></span></span></span></span><span class=\"mord\"><span class=\"mord mathnormal\" style=\"margin-right:0.07847em;\">X</span><span class=\"msupsub\"><span class=\"vlist-t\"><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:0.8747em;\"><span style=\"top:-3.113em;margin-right:0.05em;\"><span class=\"pstrut\" style=\"height:2.7em;\"></span><span class=\"sizing reset-size6 size3 mtight\"><span class=\"mord mathnormal mtight\">i</span></span></span></span></span></span></span></span></span></span></span></span>","enumerator":"3","key":"nR8PmQRPiz"},{"type":"paragraph","position":{"start":{"line":15,"column":1},"end":{"line":15,"column":1}},"children":[{"type":"text","value":"Then","position":{"start":{"line":15,"column":1},"end":{"line":15,"column":1}},"key":"SV4CfTv3mr"}],"key":"QRpXZVeUUW"},{"type":"math","value":"\\text{RS}_q[\\mathbf{\\alpha}, k_0](\\mathbf{m}) = (f_{\\mathbf{m}}(\\alpha_1), f_{\\mathbf{m}}(\\alpha_2), \\ldots, f_{\\mathbf{m}}(\\alpha_{n}))","position":{"start":{"line":17,"column":1},"end":{"line":19,"column":1}},"html":"<span class=\"katex-display\"><span class=\"katex\"><span class=\"katex-mathml\"><math xmlns=\"http://www.w3.org/1998/Math/MathML\" display=\"block\"><semantics><mrow><msub><mtext>RS</mtext><mi>q</mi></msub><mo stretchy=\"false\">[</mo><mi mathvariant=\"bold\">α</mi><mo separator=\"true\">,</mo><msub><mi>k</mi><mn>0</mn></msub><mo stretchy=\"false\">]</mo><mo stretchy=\"false\">(</mo><mi mathvariant=\"bold\">m</mi><mo stretchy=\"false\">)</mo><mo>=</mo><mo stretchy=\"false\">(</mo><msub><mi>f</mi><mi mathvariant=\"bold\">m</mi></msub><mo stretchy=\"false\">(</mo><msub><mi>α</mi><mn>1</mn></msub><mo stretchy=\"false\">)</mo><mo separator=\"true\">,</mo><msub><mi>f</mi><mi mathvariant=\"bold\">m</mi></msub><mo stretchy=\"false\">(</mo><msub><mi>α</mi><mn>2</mn></msub><mo stretchy=\"false\">)</mo><mo separator=\"true\">,</mo><mo>…</mo><mo separator=\"true\">,</mo><msub><mi>f</mi><mi mathvariant=\"bold\">m</mi></msub><mo stretchy=\"false\">(</mo><msub><mi>α</mi><mi>n</mi></msub><mo stretchy=\"false\">)</mo><mo stretchy=\"false\">)</mo></mrow><annotation encoding=\"application/x-tex\">\\text{RS}_q[\\mathbf{\\alpha}, k_0](\\mathbf{m}) = (f_{\\mathbf{m}}(\\alpha_1), f_{\\mathbf{m}}(\\alpha_2), \\ldots, f_{\\mathbf{m}}(\\alpha_{n}))</annotation></semantics></math></span><span class=\"katex-html\" aria-hidden=\"true\"><span class=\"base\"><span class=\"strut\" style=\"height:1.0361em;vertical-align:-0.2861em;\"></span><span class=\"mord\"><span class=\"mord text\"><span class=\"mord\">RS</span></span><span class=\"msupsub\"><span class=\"vlist-t vlist-t2\"><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:0.1514em;\"><span style=\"top:-2.55em;margin-right:0.05em;\"><span class=\"pstrut\" style=\"height:2.7em;\"></span><span class=\"sizing reset-size6 size3 mtight\"><span class=\"mord mathnormal mtight\" style=\"margin-right:0.03588em;\">q</span></span></span></span><span class=\"vlist-s\">​</span></span><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:0.2861em;\"><span></span></span></span></span></span></span><span class=\"mopen\">[</span><span class=\"mord mathnormal\" style=\"margin-right:0.0037em;\">α</span><span class=\"mpunct\">,</span><span class=\"mspace\" style=\"margin-right:0.1667em;\"></span><span class=\"mord\"><span class=\"mord mathnormal\" style=\"margin-right:0.03148em;\">k</span><span class=\"msupsub\"><span class=\"vlist-t vlist-t2\"><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:0.3011em;\"><span style=\"top:-2.55em;margin-left:-0.0315em;margin-right:0.05em;\"><span class=\"pstrut\" style=\"height:2.7em;\"></span><span class=\"sizing reset-size6 size3 mtight\"><span class=\"mord mtight\">0</span></span></span></span><span class=\"vlist-s\">​</span></span><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:0.15em;\"><span></span></span></span></span></span></span><span class=\"mclose\">]</span><span class=\"mopen\">(</span><span class=\"mord mathbf\">m</span><span class=\"mclose\">)</span><span class=\"mspace\" style=\"margin-right:0.2778em;\"></span><span class=\"mrel\">=</span><span class=\"mspace\" style=\"margin-right:0.2778em;\"></span></span><span class=\"base\"><span class=\"strut\" style=\"height:1em;vertical-align:-0.25em;\"></span><span class=\"mopen\">(</span><span class=\"mord\"><span class=\"mord mathnormal\" style=\"margin-right:0.10764em;\">f</span><span class=\"msupsub\"><span class=\"vlist-t vlist-t2\"><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:0.1611em;\"><span style=\"top:-2.55em;margin-left:-0.1076em;margin-right:0.05em;\"><span class=\"pstrut\" style=\"height:2.7em;\"></span><span class=\"sizing reset-size6 size3 mtight\"><span class=\"mord mtight\"><span class=\"mord mathbf mtight\">m</span></span></span></span></span><span class=\"vlist-s\">​</span></span><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:0.15em;\"><span></span></span></span></span></span></span><span class=\"mopen\">(</span><span class=\"mord\"><span class=\"mord mathnormal\" style=\"margin-right:0.0037em;\">α</span><span class=\"msupsub\"><span class=\"vlist-t vlist-t2\"><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:0.3011em;\"><span style=\"top:-2.55em;margin-left:-0.0037em;margin-right:0.05em;\"><span class=\"pstrut\" style=\"height:2.7em;\"></span><span class=\"sizing reset-size6 size3 mtight\"><span class=\"mord mtight\">1</span></span></span></span><span class=\"vlist-s\">​</span></span><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:0.15em;\"><span></span></span></span></span></span></span><span class=\"mclose\">)</span><span class=\"mpunct\">,</span><span class=\"mspace\" style=\"margin-right:0.1667em;\"></span><span class=\"mord\"><span class=\"mord mathnormal\" style=\"margin-right:0.10764em;\">f</span><span class=\"msupsub\"><span class=\"vlist-t vlist-t2\"><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:0.1611em;\"><span style=\"top:-2.55em;margin-left:-0.1076em;margin-right:0.05em;\"><span class=\"pstrut\" style=\"height:2.7em;\"></span><span class=\"sizing reset-size6 size3 mtight\"><span class=\"mord mtight\"><span class=\"mord mathbf mtight\">m</span></span></span></span></span><span class=\"vlist-s\">​</span></span><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:0.15em;\"><span></span></span></span></span></span></span><span class=\"mopen\">(</span><span class=\"mord\"><span class=\"mord mathnormal\" style=\"margin-right:0.0037em;\">α</span><span class=\"msupsub\"><span class=\"vlist-t vlist-t2\"><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:0.3011em;\"><span style=\"top:-2.55em;margin-left:-0.0037em;margin-right:0.05em;\"><span class=\"pstrut\" style=\"height:2.7em;\"></span><span class=\"sizing reset-size6 size3 mtight\"><span class=\"mord mtight\">2</span></span></span></span><span class=\"vlist-s\">​</span></span><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:0.15em;\"><span></span></span></span></span></span></span><span class=\"mclose\">)</span><span class=\"mpunct\">,</span><span class=\"mspace\" style=\"margin-right:0.1667em;\"></span><span class=\"minner\">…</span><span class=\"mspace\" style=\"margin-right:0.1667em;\"></span><span class=\"mpunct\">,</span><span class=\"mspace\" style=\"margin-right:0.1667em;\"></span><span class=\"mord\"><span class=\"mord mathnormal\" style=\"margin-right:0.10764em;\">f</span><span class=\"msupsub\"><span class=\"vlist-t vlist-t2\"><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:0.1611em;\"><span style=\"top:-2.55em;margin-left:-0.1076em;margin-right:0.05em;\"><span class=\"pstrut\" style=\"height:2.7em;\"></span><span class=\"sizing reset-size6 size3 mtight\"><span class=\"mord mtight\"><span class=\"mord mathbf mtight\">m</span></span></span></span></span><span class=\"vlist-s\">​</span></span><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:0.15em;\"><span></span></span></span></span></span></span><span class=\"mopen\">(</span><span class=\"mord\"><span class=\"mord mathnormal\" style=\"margin-right:0.0037em;\">α</span><span class=\"msupsub\"><span class=\"vlist-t vlist-t2\"><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:0.1514em;\"><span style=\"top:-2.55em;margin-left:-0.0037em;margin-right:0.05em;\"><span class=\"pstrut\" style=\"height:2.7em;\"></span><span class=\"sizing reset-size6 size3 mtight\"><span class=\"mord mtight\"><span class=\"mord mathnormal mtight\">n</span></span></span></span></span><span class=\"vlist-s\">​</span></span><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:0.15em;\"><span></span></span></span></span></span></span><span class=\"mclose\">))</span></span></span></span></span>","enumerator":"4","key":"bZAZR07yEO"},{"type":"paragraph","position":{"start":{"line":21,"column":1},"end":{"line":21,"column":1}},"children":[{"type":"text","value":"For simplicity, we can choose ","position":{"start":{"line":21,"column":1},"end":{"line":21,"column":1}},"key":"BFlfBlGXVh"},{"type":"inlineMath","value":"\\alpha_1 = 0, \\alpha_2 = 1, \\ldots, \\alpha_{n} = n - 1","position":{"start":{"line":21,"column":1},"end":{"line":21,"column":1}},"html":"<span class=\"katex\"><span class=\"katex-mathml\"><math xmlns=\"http://www.w3.org/1998/Math/MathML\"><semantics><mrow><msub><mi>α</mi><mn>1</mn></msub><mo>=</mo><mn>0</mn><mo separator=\"true\">,</mo><msub><mi>α</mi><mn>2</mn></msub><mo>=</mo><mn>1</mn><mo separator=\"true\">,</mo><mo>…</mo><mo separator=\"true\">,</mo><msub><mi>α</mi><mi>n</mi></msub><mo>=</mo><mi>n</mi><mo>−</mo><mn>1</mn></mrow><annotation encoding=\"application/x-tex\">\\alpha_1 = 0, \\alpha_2 = 1, \\ldots, \\alpha_{n} = n - 1</annotation></semantics></math></span><span class=\"katex-html\" aria-hidden=\"true\"><span class=\"base\"><span class=\"strut\" style=\"height:0.5806em;vertical-align:-0.15em;\"></span><span class=\"mord\"><span class=\"mord mathnormal\" style=\"margin-right:0.0037em;\">α</span><span class=\"msupsub\"><span class=\"vlist-t vlist-t2\"><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:0.3011em;\"><span style=\"top:-2.55em;margin-left:-0.0037em;margin-right:0.05em;\"><span class=\"pstrut\" style=\"height:2.7em;\"></span><span class=\"sizing reset-size6 size3 mtight\"><span class=\"mord mtight\">1</span></span></span></span><span class=\"vlist-s\">​</span></span><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:0.15em;\"><span></span></span></span></span></span></span><span class=\"mspace\" style=\"margin-right:0.2778em;\"></span><span class=\"mrel\">=</span><span class=\"mspace\" style=\"margin-right:0.2778em;\"></span></span><span class=\"base\"><span class=\"strut\" style=\"height:0.8389em;vertical-align:-0.1944em;\"></span><span class=\"mord\">0</span><span class=\"mpunct\">,</span><span class=\"mspace\" style=\"margin-right:0.1667em;\"></span><span class=\"mord\"><span class=\"mord mathnormal\" style=\"margin-right:0.0037em;\">α</span><span class=\"msupsub\"><span class=\"vlist-t vlist-t2\"><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:0.3011em;\"><span style=\"top:-2.55em;margin-left:-0.0037em;margin-right:0.05em;\"><span class=\"pstrut\" style=\"height:2.7em;\"></span><span class=\"sizing reset-size6 size3 mtight\"><span class=\"mord mtight\">2</span></span></span></span><span class=\"vlist-s\">​</span></span><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:0.15em;\"><span></span></span></span></span></span></span><span class=\"mspace\" style=\"margin-right:0.2778em;\"></span><span class=\"mrel\">=</span><span class=\"mspace\" style=\"margin-right:0.2778em;\"></span></span><span class=\"base\"><span class=\"strut\" style=\"height:0.8389em;vertical-align:-0.1944em;\"></span><span class=\"mord\">1</span><span class=\"mpunct\">,</span><span class=\"mspace\" style=\"margin-right:0.1667em;\"></span><span class=\"minner\">…</span><span class=\"mspace\" style=\"margin-right:0.1667em;\"></span><span class=\"mpunct\">,</span><span class=\"mspace\" style=\"margin-right:0.1667em;\"></span><span class=\"mord\"><span class=\"mord mathnormal\" style=\"margin-right:0.0037em;\">α</span><span class=\"msupsub\"><span class=\"vlist-t vlist-t2\"><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:0.1514em;\"><span style=\"top:-2.55em;margin-left:-0.0037em;margin-right:0.05em;\"><span class=\"pstrut\" style=\"height:2.7em;\"></span><span class=\"sizing reset-size6 size3 mtight\"><span class=\"mord mtight\"><span class=\"mord mathnormal mtight\">n</span></span></span></span></span><span class=\"vlist-s\">​</span></span><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:0.15em;\"><span></span></span></span></span></span></span><span class=\"mspace\" style=\"margin-right:0.2778em;\"></span><span class=\"mrel\">=</span><span class=\"mspace\" style=\"margin-right:0.2778em;\"></span></span><span class=\"base\"><span class=\"strut\" style=\"height:0.6667em;vertical-align:-0.0833em;\"></span><span class=\"mord mathnormal\">n</span><span class=\"mspace\" style=\"margin-right:0.2222em;\"></span><span class=\"mbin\">−</span><span class=\"mspace\" style=\"margin-right:0.2222em;\"></span></span><span class=\"base\"><span class=\"strut\" style=\"height:0.6444em;\"></span><span class=\"mord\">1</span></span></span></span>","key":"vNaE0jfC8c"},{"type":"text","value":".","position":{"start":{"line":21,"column":1},"end":{"line":21,"column":1}},"key":"V1K0p2cqDy"}],"key":"ssIywqfPuz"}],"key":"yR7GkKOGf4"},{"type":"block","kind":"notebook-code","children":[{"type":"code","lang":"sage","executable":true,"value":"# Reed-Solomon code for m = (m_0, ..., m_{k_0 - 1})\n# alpha: evaluation points\n# c: blowup factor\ndef rs_encode_single(m, alpha, c):\n    k0 = len(m)\n    code = [None] * (k0 * c)\n    for i in range(k0 * c): \n        # comput f_m(alpha[i])\n        code[i] = sum(m[j] * (alpha[i] ** j) for j in range(k0))\n    return code\n\n# Reed-Solomon code for m\n# m: message\n# k0: message length of base code\n# c: blowup factor\n# default alpha: [0, 1, 2, ... , k0*c - 1]\ndef rs_encode(m, k0, c):\n    assert len(m) % k0 == 0, \"len(m): %d is not a multiple of k0: %d\" % (len(m), k0)\n    code = []\n    alpha = list(range(k0 * c)) # 这里默认 alpha = [0, 1, 2, ... , k0*c - 1]\n    for i in range(0, c*len(m), k0):\n        code += rs_encode_single(m[i:i+k0], alpha, c)\n    return code","key":"r3wdNP4H8O"},{"type":"output","id":"Ve7jvB253SEgp5zmXR975","data":[],"key":"A4B2Aw9XgG"}],"key":"TsSHsaeHB2"},{"type":"block","kind":"notebook-code","children":[{"type":"code","lang":"sage","executable":true,"value":"rs_encode([1,2],1,3), rs_encode([1,2,3,4], 2, 3), rs_encode([1,2,3,4], 4, 3)","key":"mKPh1Z1hy1"},{"type":"output","id":"S0MQ_573Stl8j_q_m7msR","data":[{"output_type":"execute_result","execution_count":102,"metadata":{},"data":{"text/plain":{"content":"([1, 1, 1, 2, 2, 2],\n [1, 3, 5, 7, 9, 11, 3, 7, 11, 15, 19, 23],\n [1, 10, 49, 142, 313, 586, 985, 1534, 2257, 3178, 4321, 5710])","content_type":"text/plain"}}}],"key":"ISDG2rxAXk"}],"key":"f4AdOb91N6"},{"type":"block","kind":"notebook-code","children":[{"type":"code","lang":"sage","executable":true,"value":"# m: message with length `n`\n# k0: message length of code `G_0`,  G_0: k0 \\otimes ck0\n# depth: \n# c: blowup factor\n# G_0: an encoding function\n#      G_0(m, k0, c)\n# T: RM code table\n\ndef basefold_encode(m, k0, depth, c, T, G0=rep_encode, debug=False):\n    if debug: print(\">>> basefold_encode: m={}, k0={}, d={}, blowup_factor={}, T={}\".format(m, k0, depth, c, T))\n    kd = k0 * 2^depth\n    blowup_factor = c\n    assert len(m) == kd, \"len(m): %d != kd: %d\" % (len(m), kd)\n    assert len(T) == depth, \"len(T): %d != depth: %d\" % (len(T), depth)\n     \n    chunk_size = k0\n    chunk_num = 2^depth\n    \n    code = []\n    for i in range(chunk_num):\n        chunk = m[i*chunk_size: (i+1)*chunk_size]\n        chunk_code = G0(chunk, chunk_size, blowup_factor)\n        code += chunk_code\n    if debug: print(\">>> basefold_encode: code=\", code)\n\n    if depth == 0:\n        return code\n\n    chunk_size = k0 * blowup_factor\n    if debug: print(\">>> basefold_encode: chunk_size=\", chunk_size)\n    if debug: print(\">>> basefold_encode: chunk_num=\", chunk_num)\n\n\n    for i in range(0, depth):\n        table = T[i]\n        assert len(table) == chunk_size, \"table[{}] != chunk_size, len(table)={}, chunk_size={})\".format(i, len(table), chunk_size)\n        if debug: print(\">>> basefold_encode: table=\", table)\n        for c in range(0, chunk_num, 2):\n            left  = code[    c*chunk_size : (c+1)*chunk_size]\n            right = code[(c+1)*chunk_size : (c+2)*chunk_size]\n            if debug: print(\">>> basefold_encode: left={}, right={}\".format(left, right))\n\n            for j in range(0, chunk_size):\n                if debug: print(\">>> basefold_encode: i={}, c={}, j={}\".format(i, c, j))\n                rhs = right[j] * table[j]\n                lhs = left[j]\n                code[(c)*chunk_size + j] = lhs + rhs\n                code[(c+1)*chunk_size + j] = lhs - rhs\n        chunk_size = chunk_size * 2\n        chunk_num = chunk_num // 2\n    return code","key":"JtLioZVUvA"},{"type":"output","id":"BzKbrmUwMzypcVe00jSfh","data":[],"key":"DXNA4n0Ut3"}],"key":"UuaBHaTr0t"},{"type":"block","kind":"notebook-code","children":[{"type":"code","lang":"sage","executable":true,"value":"# basefold_encode(m, k0, depth, c, G0, T, debug=False):\n\ndef basefold_encode_rec(m, k0, depth, c, T, G0=rep_encode, debug=False):\n    if depth == 0:\n        assert len(m) == k0, \"len(m): %d != k0: %d\" % (len(m), k0)\n        return G0(m, k0, c)\n    \n    kd = len(m)\n    half = kd / 2\n    code_size = c * kd\n\n    m_left = m[:half]\n    m_right = m[half:]\n    \n    code_left = basefold_encode_rec(m_left, k0, depth-1, c, T, G0=G0, debug=debug)\n    print(\"code_left=\", code_left)\n    code_right = basefold_encode_rec(m_right, k0, depth-1, c, T, G0=G0, debug=debug)\n    print(\"code_right=\", code_right)\n\n    t = T[depth-1]\n    assert len(t) == code_size/2, \"wrong table size, len(table)={}, code_size={})\".format(len(t), code_size/2)\n    if debug: print(\"t=\", t)\n    code_half = kd * c // 2\n    code = [0 for _ in range(code_half * 2)]\n    for j in range(code_half):\n        code[j] = code_left[j] + t[j] * code_right[j]\n        code[j+code_half] = code_left[j] - t[j] * code_right[j]\n    return code","key":"NJi0NwbTGp"},{"type":"output","id":"iPCEy0I4Fz3tBxPTlYJI7","data":[],"key":"voNqHlmHtI"}],"key":"mtvVPr3pZn"},{"type":"block","kind":"notebook-code","children":[{"type":"code","lang":"sage","executable":true,"value":"basefold_encode([1, 2], k0=1, depth=1, c=2, T=[[X0, X1]], debug=True)","key":"m1hOHWzvyY"},{"type":"output","id":"NN5os_UwP5zwPe8-MUA-U","data":[{"name":"stdout","output_type":"stream","text":">>> basefold_encode: m=[1, 2], k0=1, d=1, blowup_factor=2, T=[[X0, X1]]\n>>> basefold_encode: code= [1, 1, 2, 2]\n>>> basefold_encode: chunk_size= 2\n>>> basefold_encode: chunk_num= 2\n>>> basefold_encode: table= [X0, X1]\n>>> basefold_encode: left=[1, 1], right=[2, 2]\n>>> basefold_encode: i=0, c=0, j=0\n>>> basefold_encode: i=0, c=0, j=1\n"},{"output_type":"execute_result","execution_count":105,"metadata":{},"data":{"text/plain":{"content":"[2*X0 + 1, 2*X1 + 1, -2*X0 + 1, -2*X1 + 1]","content_type":"text/plain"}}}],"key":"h6w2ujgOKc"}],"key":"B5Uy6fN9Zk"},{"type":"block","kind":"notebook-code","children":[{"type":"code","lang":"sage","executable":true,"value":"basefold_encode_rec([1, 2], k0=1, depth=1, c=2, T=[[X0, X1]])","key":"qdPgbXKVzo"},{"type":"output","id":"_Pz3tXHGd1RxL_mRdbGlz","data":[{"name":"stdout","output_type":"stream","text":"code_left= [1, 1]\ncode_right= [2, 2]\n"},{"output_type":"execute_result","execution_count":106,"metadata":{},"data":{"text/plain":{"content":"[2*X0 + 1, 2*X1 + 1, -2*X0 + 1, -2*X1 + 1]","content_type":"text/plain"}}}],"key":"HqIVbU83xU"}],"key":"q0ibNoIg16"},{"type":"block","kind":"notebook-code","children":[{"type":"code","lang":"sage","executable":true,"value":"basefold_encode([1, 2], k0=1, depth=1, c=3, T=[[X0, X1, X2]], debug=True)","key":"UXrIZEg8Kr"},{"type":"output","id":"-7NZhpeS7uwm_vaKdFSSF","data":[{"name":"stdout","output_type":"stream","text":">>> basefold_encode: m=[1, 2], k0=1, d=1, blowup_factor=3, T=[[X0, X1, X2]]\n>>> basefold_encode: code= [1, 1, 1, 2, 2, 2]\n>>> basefold_encode: chunk_size= 3\n>>> basefold_encode: chunk_num= 2\n>>> basefold_encode: table= [X0, X1, X2]\n>>> basefold_encode: left=[1, 1, 1], right=[2, 2, 2]\n>>> basefold_encode: i=0, c=0, j=0\n>>> basefold_encode: i=0, c=0, j=1\n>>> basefold_encode: i=0, c=0, j=2\n"},{"output_type":"execute_result","execution_count":107,"metadata":{},"data":{"text/plain":{"content":"[2*X0 + 1, 2*X1 + 1, 2*X2 + 1, -2*X0 + 1, -2*X1 + 1, -2*X2 + 1]","content_type":"text/plain"}}}],"key":"fzaBJVA56s"}],"key":"TRDgn6j66b"},{"type":"block","kind":"notebook-code","children":[{"type":"code","lang":"sage","executable":true,"value":"basefold_encode([1,2,3,4], k0=1, depth=2, c=3, T=[[X0, X1, X2], [Y0, Y1, Y2, Y3, Y4, Y5]])","key":"wECvEwTg6I"},{"type":"output","id":"g00aGzZRBv0pxcQKE4Edm","data":[{"output_type":"execute_result","execution_count":108,"metadata":{},"data":{"text/plain":{"content":"[4*X0*Y0 + 2*X0 + 3*Y0 + 1,\n 4*X1*Y1 + 2*X1 + 3*Y1 + 1,\n 4*X2*Y2 + 2*X2 + 3*Y2 + 1,\n -4*X0*Y3 - 2*X0 + 3*Y3 + 1,\n -4*X1*Y4 - 2*X1 + 3*Y4 + 1,\n -4*X2*Y5 - 2*X2 + 3*Y5 + 1,\n -4*X0*Y0 + 2*X0 - 3*Y0 + 1,\n -4*X1*Y1 + 2*X1 - 3*Y1 + 1,\n -4*X2*Y2 + 2*X2 - 3*Y2 + 1,\n 4*X0*Y3 - 2*X0 - 3*Y3 + 1,\n 4*X1*Y4 - 2*X1 - 3*Y4 + 1,\n 4*X2*Y5 - 2*X2 - 3*Y5 + 1]","content_type":"text/plain"}}}],"key":"reOW4qlnWG"}],"key":"fwWlZ6wnQj"},{"type":"block","kind":"notebook-content","children":[{"type":"heading","depth":1,"position":{"start":{"line":1,"column":1},"end":{"line":1,"column":1}},"children":[{"type":"text","value":"Basefold IOPP","position":{"start":{"line":1,"column":1},"end":{"line":1,"column":1}},"key":"aS7RAH6QMd"}],"identifier":"basefold-iopp","label":"Basefold IOPP","html_id":"basefold-iopp","implicit":true,"key":"GUp66PAeTE"},{"type":"math","value":"B^{(monomial)} = (1, \\alpha_0)\\otimes (1, \\alpha_1) \\otimes \\cdots \\otimes (1, \\alpha_{k-1})","position":{"start":{"line":3,"column":1},"end":{"line":5,"column":1}},"html":"<span class=\"katex-display\"><span class=\"katex\"><span class=\"katex-mathml\"><math xmlns=\"http://www.w3.org/1998/Math/MathML\" display=\"block\"><semantics><mrow><msup><mi>B</mi><mrow><mo stretchy=\"false\">(</mo><mi>m</mi><mi>o</mi><mi>n</mi><mi>o</mi><mi>m</mi><mi>i</mi><mi>a</mi><mi>l</mi><mo stretchy=\"false\">)</mo></mrow></msup><mo>=</mo><mo stretchy=\"false\">(</mo><mn>1</mn><mo separator=\"true\">,</mo><msub><mi>α</mi><mn>0</mn></msub><mo stretchy=\"false\">)</mo><mo>⊗</mo><mo stretchy=\"false\">(</mo><mn>1</mn><mo separator=\"true\">,</mo><msub><mi>α</mi><mn>1</mn></msub><mo stretchy=\"false\">)</mo><mo>⊗</mo><mo>⋯</mo><mo>⊗</mo><mo stretchy=\"false\">(</mo><mn>1</mn><mo separator=\"true\">,</mo><msub><mi>α</mi><mrow><mi>k</mi><mo>−</mo><mn>1</mn></mrow></msub><mo stretchy=\"false\">)</mo></mrow><annotation encoding=\"application/x-tex\">B^{(monomial)} = (1, \\alpha_0)\\otimes (1, \\alpha_1) \\otimes \\cdots \\otimes (1, \\alpha_{k-1})</annotation></semantics></math></span><span class=\"katex-html\" aria-hidden=\"true\"><span class=\"base\"><span class=\"strut\" style=\"height:0.938em;\"></span><span class=\"mord\"><span class=\"mord mathnormal\" style=\"margin-right:0.05017em;\">B</span><span class=\"msupsub\"><span class=\"vlist-t\"><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:0.938em;\"><span style=\"top:-3.113em;margin-right:0.05em;\"><span class=\"pstrut\" style=\"height:2.7em;\"></span><span class=\"sizing reset-size6 size3 mtight\"><span class=\"mord mtight\"><span class=\"mopen mtight\">(</span><span class=\"mord mathnormal mtight\">m</span><span class=\"mord mathnormal mtight\">o</span><span class=\"mord mathnormal mtight\">n</span><span class=\"mord mathnormal mtight\">o</span><span class=\"mord mathnormal mtight\">mia</span><span class=\"mord mathnormal mtight\" style=\"margin-right:0.01968em;\">l</span><span class=\"mclose mtight\">)</span></span></span></span></span></span></span></span></span><span class=\"mspace\" style=\"margin-right:0.2778em;\"></span><span class=\"mrel\">=</span><span class=\"mspace\" style=\"margin-right:0.2778em;\"></span></span><span class=\"base\"><span class=\"strut\" style=\"height:1em;vertical-align:-0.25em;\"></span><span class=\"mopen\">(</span><span class=\"mord\">1</span><span class=\"mpunct\">,</span><span class=\"mspace\" style=\"margin-right:0.1667em;\"></span><span class=\"mord\"><span class=\"mord mathnormal\" style=\"margin-right:0.0037em;\">α</span><span class=\"msupsub\"><span class=\"vlist-t vlist-t2\"><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:0.3011em;\"><span style=\"top:-2.55em;margin-left:-0.0037em;margin-right:0.05em;\"><span class=\"pstrut\" style=\"height:2.7em;\"></span><span class=\"sizing reset-size6 size3 mtight\"><span class=\"mord mtight\">0</span></span></span></span><span class=\"vlist-s\">​</span></span><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:0.15em;\"><span></span></span></span></span></span></span><span class=\"mclose\">)</span><span class=\"mspace\" style=\"margin-right:0.2222em;\"></span><span class=\"mbin\">⊗</span><span class=\"mspace\" style=\"margin-right:0.2222em;\"></span></span><span class=\"base\"><span class=\"strut\" style=\"height:1em;vertical-align:-0.25em;\"></span><span class=\"mopen\">(</span><span class=\"mord\">1</span><span class=\"mpunct\">,</span><span class=\"mspace\" style=\"margin-right:0.1667em;\"></span><span class=\"mord\"><span class=\"mord mathnormal\" style=\"margin-right:0.0037em;\">α</span><span class=\"msupsub\"><span class=\"vlist-t vlist-t2\"><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:0.3011em;\"><span style=\"top:-2.55em;margin-left:-0.0037em;margin-right:0.05em;\"><span class=\"pstrut\" style=\"height:2.7em;\"></span><span class=\"sizing reset-size6 size3 mtight\"><span class=\"mord mtight\">1</span></span></span></span><span class=\"vlist-s\">​</span></span><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:0.15em;\"><span></span></span></span></span></span></span><span class=\"mclose\">)</span><span class=\"mspace\" style=\"margin-right:0.2222em;\"></span><span class=\"mbin\">⊗</span><span class=\"mspace\" style=\"margin-right:0.2222em;\"></span></span><span class=\"base\"><span class=\"strut\" style=\"height:0.6667em;vertical-align:-0.0833em;\"></span><span class=\"minner\">⋯</span><span class=\"mspace\" style=\"margin-right:0.2222em;\"></span><span class=\"mbin\">⊗</span><span class=\"mspace\" style=\"margin-right:0.2222em;\"></span></span><span class=\"base\"><span class=\"strut\" style=\"height:1em;vertical-align:-0.25em;\"></span><span class=\"mopen\">(</span><span class=\"mord\">1</span><span class=\"mpunct\">,</span><span class=\"mspace\" style=\"margin-right:0.1667em;\"></span><span class=\"mord\"><span class=\"mord mathnormal\" style=\"margin-right:0.0037em;\">α</span><span class=\"msupsub\"><span class=\"vlist-t vlist-t2\"><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:0.3361em;\"><span style=\"top:-2.55em;margin-left:-0.0037em;margin-right:0.05em;\"><span class=\"pstrut\" style=\"height:2.7em;\"></span><span class=\"sizing reset-size6 size3 mtight\"><span class=\"mord mtight\"><span class=\"mord mathnormal mtight\" style=\"margin-right:0.03148em;\">k</span><span class=\"mbin mtight\">−</span><span class=\"mord mtight\">1</span></span></span></span></span><span class=\"vlist-s\">​</span></span><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:0.2083em;\"><span></span></span></span></span></span></span><span class=\"mclose\">)</span></span></span></span></span>","enumerator":"5","key":"rdoqDYU4yx"},{"type":"math","value":"B^{(multilinear)} = ((1-\\alpha_0), \\alpha_0)\\otimes ((1-\\alpha_1), \\alpha_1) \\otimes \\cdots \\otimes ((1-\\alpha_{k-1}), \\alpha_{k-1})","position":{"start":{"line":7,"column":1},"end":{"line":9,"column":1}},"html":"<span class=\"katex-display\"><span class=\"katex\"><span class=\"katex-mathml\"><math xmlns=\"http://www.w3.org/1998/Math/MathML\" display=\"block\"><semantics><mrow><msup><mi>B</mi><mrow><mo stretchy=\"false\">(</mo><mi>m</mi><mi>u</mi><mi>l</mi><mi>t</mi><mi>i</mi><mi>l</mi><mi>i</mi><mi>n</mi><mi>e</mi><mi>a</mi><mi>r</mi><mo stretchy=\"false\">)</mo></mrow></msup><mo>=</mo><mo stretchy=\"false\">(</mo><mo stretchy=\"false\">(</mo><mn>1</mn><mo>−</mo><msub><mi>α</mi><mn>0</mn></msub><mo stretchy=\"false\">)</mo><mo separator=\"true\">,</mo><msub><mi>α</mi><mn>0</mn></msub><mo stretchy=\"false\">)</mo><mo>⊗</mo><mo stretchy=\"false\">(</mo><mo stretchy=\"false\">(</mo><mn>1</mn><mo>−</mo><msub><mi>α</mi><mn>1</mn></msub><mo stretchy=\"false\">)</mo><mo separator=\"true\">,</mo><msub><mi>α</mi><mn>1</mn></msub><mo stretchy=\"false\">)</mo><mo>⊗</mo><mo>⋯</mo><mo>⊗</mo><mo stretchy=\"false\">(</mo><mo stretchy=\"false\">(</mo><mn>1</mn><mo>−</mo><msub><mi>α</mi><mrow><mi>k</mi><mo>−</mo><mn>1</mn></mrow></msub><mo stretchy=\"false\">)</mo><mo separator=\"true\">,</mo><msub><mi>α</mi><mrow><mi>k</mi><mo>−</mo><mn>1</mn></mrow></msub><mo stretchy=\"false\">)</mo></mrow><annotation encoding=\"application/x-tex\">B^{(multilinear)} = ((1-\\alpha_0), \\alpha_0)\\otimes ((1-\\alpha_1), \\alpha_1) \\otimes \\cdots \\otimes ((1-\\alpha_{k-1}), \\alpha_{k-1})</annotation></semantics></math></span><span class=\"katex-html\" aria-hidden=\"true\"><span class=\"base\"><span class=\"strut\" style=\"height:0.938em;\"></span><span class=\"mord\"><span class=\"mord mathnormal\" style=\"margin-right:0.05017em;\">B</span><span class=\"msupsub\"><span class=\"vlist-t\"><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:0.938em;\"><span style=\"top:-3.113em;margin-right:0.05em;\"><span class=\"pstrut\" style=\"height:2.7em;\"></span><span class=\"sizing reset-size6 size3 mtight\"><span class=\"mord mtight\"><span class=\"mopen mtight\">(</span><span class=\"mord mathnormal mtight\">m</span><span class=\"mord mathnormal mtight\">u</span><span class=\"mord mathnormal mtight\">lt</span><span class=\"mord mathnormal mtight\">i</span><span class=\"mord mathnormal mtight\" style=\"margin-right:0.01968em;\">l</span><span class=\"mord mathnormal mtight\">in</span><span class=\"mord mathnormal mtight\">e</span><span class=\"mord mathnormal mtight\">a</span><span class=\"mord mathnormal mtight\" style=\"margin-right:0.02778em;\">r</span><span class=\"mclose mtight\">)</span></span></span></span></span></span></span></span></span><span class=\"mspace\" style=\"margin-right:0.2778em;\"></span><span class=\"mrel\">=</span><span class=\"mspace\" style=\"margin-right:0.2778em;\"></span></span><span class=\"base\"><span class=\"strut\" style=\"height:1em;vertical-align:-0.25em;\"></span><span class=\"mopen\">((</span><span class=\"mord\">1</span><span class=\"mspace\" style=\"margin-right:0.2222em;\"></span><span class=\"mbin\">−</span><span class=\"mspace\" style=\"margin-right:0.2222em;\"></span></span><span class=\"base\"><span class=\"strut\" style=\"height:1em;vertical-align:-0.25em;\"></span><span class=\"mord\"><span class=\"mord mathnormal\" style=\"margin-right:0.0037em;\">α</span><span class=\"msupsub\"><span class=\"vlist-t vlist-t2\"><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:0.3011em;\"><span style=\"top:-2.55em;margin-left:-0.0037em;margin-right:0.05em;\"><span class=\"pstrut\" style=\"height:2.7em;\"></span><span class=\"sizing reset-size6 size3 mtight\"><span class=\"mord mtight\">0</span></span></span></span><span class=\"vlist-s\">​</span></span><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:0.15em;\"><span></span></span></span></span></span></span><span class=\"mclose\">)</span><span class=\"mpunct\">,</span><span class=\"mspace\" style=\"margin-right:0.1667em;\"></span><span class=\"mord\"><span class=\"mord mathnormal\" style=\"margin-right:0.0037em;\">α</span><span class=\"msupsub\"><span class=\"vlist-t vlist-t2\"><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:0.3011em;\"><span style=\"top:-2.55em;margin-left:-0.0037em;margin-right:0.05em;\"><span class=\"pstrut\" style=\"height:2.7em;\"></span><span class=\"sizing reset-size6 size3 mtight\"><span class=\"mord mtight\">0</span></span></span></span><span class=\"vlist-s\">​</span></span><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:0.15em;\"><span></span></span></span></span></span></span><span class=\"mclose\">)</span><span class=\"mspace\" style=\"margin-right:0.2222em;\"></span><span class=\"mbin\">⊗</span><span class=\"mspace\" style=\"margin-right:0.2222em;\"></span></span><span class=\"base\"><span class=\"strut\" style=\"height:1em;vertical-align:-0.25em;\"></span><span class=\"mopen\">((</span><span class=\"mord\">1</span><span class=\"mspace\" style=\"margin-right:0.2222em;\"></span><span class=\"mbin\">−</span><span class=\"mspace\" style=\"margin-right:0.2222em;\"></span></span><span class=\"base\"><span class=\"strut\" style=\"height:1em;vertical-align:-0.25em;\"></span><span class=\"mord\"><span class=\"mord mathnormal\" style=\"margin-right:0.0037em;\">α</span><span class=\"msupsub\"><span class=\"vlist-t vlist-t2\"><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:0.3011em;\"><span style=\"top:-2.55em;margin-left:-0.0037em;margin-right:0.05em;\"><span class=\"pstrut\" style=\"height:2.7em;\"></span><span class=\"sizing reset-size6 size3 mtight\"><span class=\"mord mtight\">1</span></span></span></span><span class=\"vlist-s\">​</span></span><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:0.15em;\"><span></span></span></span></span></span></span><span class=\"mclose\">)</span><span class=\"mpunct\">,</span><span class=\"mspace\" style=\"margin-right:0.1667em;\"></span><span class=\"mord\"><span class=\"mord mathnormal\" style=\"margin-right:0.0037em;\">α</span><span class=\"msupsub\"><span class=\"vlist-t vlist-t2\"><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:0.3011em;\"><span style=\"top:-2.55em;margin-left:-0.0037em;margin-right:0.05em;\"><span class=\"pstrut\" style=\"height:2.7em;\"></span><span class=\"sizing reset-size6 size3 mtight\"><span class=\"mord mtight\">1</span></span></span></span><span class=\"vlist-s\">​</span></span><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:0.15em;\"><span></span></span></span></span></span></span><span class=\"mclose\">)</span><span class=\"mspace\" style=\"margin-right:0.2222em;\"></span><span class=\"mbin\">⊗</span><span class=\"mspace\" style=\"margin-right:0.2222em;\"></span></span><span class=\"base\"><span class=\"strut\" style=\"height:0.6667em;vertical-align:-0.0833em;\"></span><span class=\"minner\">⋯</span><span class=\"mspace\" style=\"margin-right:0.2222em;\"></span><span class=\"mbin\">⊗</span><span class=\"mspace\" style=\"margin-right:0.2222em;\"></span></span><span class=\"base\"><span class=\"strut\" style=\"height:1em;vertical-align:-0.25em;\"></span><span class=\"mopen\">((</span><span class=\"mord\">1</span><span class=\"mspace\" style=\"margin-right:0.2222em;\"></span><span class=\"mbin\">−</span><span class=\"mspace\" style=\"margin-right:0.2222em;\"></span></span><span class=\"base\"><span class=\"strut\" style=\"height:1em;vertical-align:-0.25em;\"></span><span class=\"mord\"><span class=\"mord mathnormal\" style=\"margin-right:0.0037em;\">α</span><span class=\"msupsub\"><span class=\"vlist-t vlist-t2\"><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:0.3361em;\"><span style=\"top:-2.55em;margin-left:-0.0037em;margin-right:0.05em;\"><span class=\"pstrut\" style=\"height:2.7em;\"></span><span class=\"sizing reset-size6 size3 mtight\"><span class=\"mord mtight\"><span class=\"mord mathnormal mtight\" style=\"margin-right:0.03148em;\">k</span><span class=\"mbin mtight\">−</span><span class=\"mord mtight\">1</span></span></span></span></span><span class=\"vlist-s\">​</span></span><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:0.2083em;\"><span></span></span></span></span></span></span><span class=\"mclose\">)</span><span class=\"mpunct\">,</span><span class=\"mspace\" style=\"margin-right:0.1667em;\"></span><span class=\"mord\"><span class=\"mord mathnormal\" style=\"margin-right:0.0037em;\">α</span><span class=\"msupsub\"><span class=\"vlist-t vlist-t2\"><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:0.3361em;\"><span style=\"top:-2.55em;margin-left:-0.0037em;margin-right:0.05em;\"><span class=\"pstrut\" style=\"height:2.7em;\"></span><span class=\"sizing reset-size6 size3 mtight\"><span class=\"mord mtight\"><span class=\"mord mathnormal mtight\" style=\"margin-right:0.03148em;\">k</span><span class=\"mbin mtight\">−</span><span class=\"mord mtight\">1</span></span></span></span></span><span class=\"vlist-s\">​</span></span><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:0.2083em;\"><span></span></span></span></span></span></span><span class=\"mclose\">)</span></span></span></span></span>","enumerator":"6","key":"auJHbAlElx"}],"key":"RoWwWp5GAx"},{"type":"block","kind":"notebook-code","children":[{"type":"code","lang":"sage","executable":true,"value":"def basefold_fri_monomial_basis(vs, table, alpha, debug=False):\n    assert len(table) == len(vs)/2, \"len(table) is not double len(vs), len(table) = %d, len(vs) = %d\" % (len(table), len(vs))\n    n = len(vs)\n    half = n / 2\n    new_vs = []\n    left = vs[:half]\n    right = vs[half:]\n\n    for i in range(0, half):\n        if debug: print(\"(left[i] + right[i])/2=\", (left[i] + right[i])/2)\n        if debug: print(\"(left[i] + right[i])/2=\", (left[i] + right[i])/2)\n        new_vs.append((left[i] + right[i])/2 + (alpha) * (left[i] - right[i])/(2*table[i]))\n    return new_vs","key":"RGSHQFRm4p"},{"type":"output","id":"cSrz0wPW-P_DLJ7WqkUCE","data":[],"key":"VWYcIAVnzE"}],"key":"yrPPk7jHK5"},{"type":"block","kind":"notebook-code","children":[{"type":"code","lang":"sage","executable":true,"value":"def basefold_fri_multilinear_basis(vs, table, c, debug=False):\n    assert len(table) == len(vs)/2, \"len(table) is not double len(vs), len(table) = %d, len(vs) = %d\" % (len(table), len(vs))\n    n = len(vs)\n    half = n / 2\n    new_vs = []\n    left = vs[:half]\n    right = vs[half:]\n\n    for i in range(0, half):\n        if debug: print(\"(left[i] + right[i])/2=\", (left[i] + right[i])/2)\n        if debug: print(\"(left[i] + right[i])/2=\", (left[i] + right[i])/2)\n        new_vs.append((1 - c) * (left[i] + right[i])/2 + (c) * (left[i] - right[i])/(2*table[i]))\n    return new_vs","key":"Pp2KoHztOe"},{"type":"output","id":"UTL-Q_-znHkrC2VzdFDz1","data":[],"key":"i2Mhg83sU4"}],"key":"WZF4R4G5Xu"},{"type":"block","kind":"notebook-code","children":[{"type":"code","lang":"sage","executable":true,"value":"pi_0 = basefold_encode([1, 2, 3, 4], k0=1, depth=2, c=2, T=[[X4, X5], [X0, X1, X2, X3]]); pi_0","key":"SojOYhI6gi"},{"type":"output","id":"y4J8GxMNtxyIkJ8BOkB0O","data":[{"output_type":"execute_result","execution_count":111,"metadata":{},"data":{"text/plain":{"content":"[4*X0*X4 + 3*X0 + 2*X4 + 1,\n 4*X1*X5 + 3*X1 + 2*X5 + 1,\n -4*X2*X4 + 3*X2 - 2*X4 + 1,\n -4*X3*X5 + 3*X3 - 2*X5 + 1,\n -4*X0*X4 - 3*X0 + 2*X4 + 1,\n -4*X1*X5 - 3*X1 + 2*X5 + 1,\n 4*X2*X4 - 3*X2 - 2*X4 + 1,\n 4*X3*X5 - 3*X3 - 2*X5 + 1]","content_type":"text/plain"}}}],"key":"o9VzsGDwFr"}],"key":"LUHq6Zc5xO"},{"type":"block","kind":"notebook-code","children":[{"type":"code","lang":"sage","executable":true,"value":"pi_1 = basefold_fri_multilinear_basis(pi_0, [X0, X1, X2, X3], A0); pi_1","key":"FN9sz5aFqp"},{"type":"output","id":"bx6Ar6rEKDpVQdRqUNgCa","data":[{"output_type":"execute_result","execution_count":112,"metadata":{},"data":{"text/plain":{"content":"[2*X4*A0 + 2*X4 + 2*A0 + 1,\n 2*X5*A0 + 2*X5 + 2*A0 + 1,\n -2*X4*A0 - 2*X4 + 2*A0 + 1,\n -2*X5*A0 - 2*X5 + 2*A0 + 1]","content_type":"text/plain"}}}],"key":"eoanHYpUHB"}],"key":"H1N4PIa0LM"},{"type":"block","kind":"notebook-code","children":[{"type":"code","lang":"sage","executable":true,"value":"pi_2 = basefold_fri_multilinear_basis(pi_1, [X4, X5], A1); pi_2","key":"fdGfgEwnuq"},{"type":"output","id":"Jt4za4LTM3i-H_i59B2pc","data":[{"output_type":"execute_result","execution_count":113,"metadata":{},"data":{"text/plain":{"content":"[2*A0 + A1 + 1, 2*A0 + A1 + 1]","content_type":"text/plain"}}}],"key":"msNxdq306X"}],"key":"le4aBZtS5o"},{"type":"block","kind":"notebook-content","children":[{"type":"heading","depth":1,"position":{"start":{"line":1,"column":1},"end":{"line":1,"column":1}},"children":[{"type":"text","value":"Basefold Evaluation Argument","position":{"start":{"line":1,"column":1},"end":{"line":1,"column":1}},"key":"TUX4iKeSLH"}],"identifier":"basefold-evaluation-argument","label":"Basefold Evaluation Argument","html_id":"basefold-evaluation-argument","implicit":true,"key":"WGITZT3gCf"},{"type":"math","value":"v = f(\\mathbf{z}) = \\sum_{\\mathbf{b}}f(\\mathbf{b})\\cdot \\tilde{eq}_{\\mathbf{z}}(\\mathbf{b})","position":{"start":{"line":3,"column":1},"end":{"line":5,"column":1}},"html":"<span class=\"katex-display\"><span class=\"katex\"><span class=\"katex-mathml\"><math xmlns=\"http://www.w3.org/1998/Math/MathML\" display=\"block\"><semantics><mrow><mi>v</mi><mo>=</mo><mi>f</mi><mo stretchy=\"false\">(</mo><mi mathvariant=\"bold\">z</mi><mo stretchy=\"false\">)</mo><mo>=</mo><munder><mo>∑</mo><mi mathvariant=\"bold\">b</mi></munder><mi>f</mi><mo stretchy=\"false\">(</mo><mi mathvariant=\"bold\">b</mi><mo stretchy=\"false\">)</mo><mo>⋅</mo><msub><mover accent=\"true\"><mrow><mi>e</mi><mi>q</mi></mrow><mo>~</mo></mover><mi mathvariant=\"bold\">z</mi></msub><mo stretchy=\"false\">(</mo><mi mathvariant=\"bold\">b</mi><mo stretchy=\"false\">)</mo></mrow><annotation encoding=\"application/x-tex\">v = f(\\mathbf{z}) = \\sum_{\\mathbf{b}}f(\\mathbf{b})\\cdot \\tilde{eq}_{\\mathbf{z}}(\\mathbf{b})</annotation></semantics></math></span><span class=\"katex-html\" aria-hidden=\"true\"><span class=\"base\"><span class=\"strut\" style=\"height:0.4306em;\"></span><span class=\"mord mathnormal\" style=\"margin-right:0.03588em;\">v</span><span class=\"mspace\" style=\"margin-right:0.2778em;\"></span><span class=\"mrel\">=</span><span class=\"mspace\" style=\"margin-right:0.2778em;\"></span></span><span class=\"base\"><span class=\"strut\" style=\"height:1em;vertical-align:-0.25em;\"></span><span class=\"mord mathnormal\" style=\"margin-right:0.10764em;\">f</span><span class=\"mopen\">(</span><span class=\"mord mathbf\">z</span><span class=\"mclose\">)</span><span class=\"mspace\" style=\"margin-right:0.2778em;\"></span><span class=\"mrel\">=</span><span class=\"mspace\" style=\"margin-right:0.2778em;\"></span></span><span class=\"base\"><span class=\"strut\" style=\"height:2.3521em;vertical-align:-1.3021em;\"></span><span class=\"mop op-limits\"><span class=\"vlist-t vlist-t2\"><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:1.05em;\"><span style=\"top:-1.8479em;margin-left:0em;\"><span class=\"pstrut\" style=\"height:3.05em;\"></span><span class=\"sizing reset-size6 size3 mtight\"><span class=\"mord mtight\"><span class=\"mord mathbf mtight\">b</span></span></span></span><span style=\"top:-3.05em;\"><span class=\"pstrut\" style=\"height:3.05em;\"></span><span><span class=\"mop op-symbol large-op\">∑</span></span></span></span><span class=\"vlist-s\">​</span></span><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:1.3021em;\"><span></span></span></span></span></span><span class=\"mspace\" style=\"margin-right:0.1667em;\"></span><span class=\"mord mathnormal\" style=\"margin-right:0.10764em;\">f</span><span class=\"mopen\">(</span><span class=\"mord mathbf\">b</span><span class=\"mclose\">)</span><span class=\"mspace\" style=\"margin-right:0.2222em;\"></span><span class=\"mbin\">⋅</span><span class=\"mspace\" style=\"margin-right:0.2222em;\"></span></span><span class=\"base\"><span class=\"strut\" style=\"height:1em;vertical-align:-0.25em;\"></span><span class=\"mord\"><span class=\"mord accent\"><span class=\"vlist-t vlist-t2\"><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:0.6679em;\"><span style=\"top:-3em;\"><span class=\"pstrut\" style=\"height:3em;\"></span><span class=\"mord\"><span class=\"mord mathnormal\">e</span><span class=\"mord mathnormal\" style=\"margin-right:0.03588em;\">q</span></span></span><span style=\"top:-3.35em;\"><span class=\"pstrut\" style=\"height:3em;\"></span><span class=\"accent-body\" style=\"left:-0.25em;\"><span class=\"mord\">~</span></span></span></span><span class=\"vlist-s\">​</span></span><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:0.1944em;\"><span></span></span></span></span></span><span class=\"msupsub\"><span class=\"vlist-t vlist-t2\"><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:0.067em;\"><span style=\"top:-2.4559em;margin-right:0.05em;\"><span class=\"pstrut\" style=\"height:2.7em;\"></span><span class=\"sizing reset-size6 size3 mtight\"><span class=\"mord mtight\"><span class=\"mord mathbf mtight\">z</span></span></span></span></span><span class=\"vlist-s\">​</span></span><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:0.2441em;\"><span></span></span></span></span></span></span><span class=\"mopen\">(</span><span class=\"mord mathbf\">b</span><span class=\"mclose\">)</span></span></span></span></span>","enumerator":"7","key":"xEbTWoQAmT"},{"type":"paragraph","position":{"start":{"line":7,"column":1},"end":{"line":7,"column":1}},"children":[{"type":"text","value":"by sumcheck, the statement can be reduced to","position":{"start":{"line":7,"column":1},"end":{"line":7,"column":1}},"key":"RrAprkIOGA"}],"key":"fKxzDpi9hd"},{"type":"math","value":"v' \\overset{?}{=} f(\\mathbf{r})\\cdot \\tilde{eq}_{\\mathbf{z}}(\\mathbf{r})","position":{"start":{"line":9,"column":1},"end":{"line":11,"column":1}},"html":"<span class=\"katex-display\"><span class=\"katex\"><span class=\"katex-mathml\"><math xmlns=\"http://www.w3.org/1998/Math/MathML\" display=\"block\"><semantics><mrow><msup><mi>v</mi><mo mathvariant=\"normal\" lspace=\"0em\" rspace=\"0em\">′</mo></msup><mo><mover><mo><mo>=</mo></mo><mo stretchy=\"false\" lspace=\"0em\" rspace=\"0em\">?</mo></mover></mo><mi>f</mi><mo stretchy=\"false\">(</mo><mi mathvariant=\"bold\">r</mi><mo stretchy=\"false\">)</mo><mo>⋅</mo><msub><mover accent=\"true\"><mrow><mi>e</mi><mi>q</mi></mrow><mo>~</mo></mover><mi mathvariant=\"bold\">z</mi></msub><mo stretchy=\"false\">(</mo><mi mathvariant=\"bold\">r</mi><mo stretchy=\"false\">)</mo></mrow><annotation encoding=\"application/x-tex\">v&#x27; \\overset{?}{=} f(\\mathbf{r})\\cdot \\tilde{eq}_{\\mathbf{z}}(\\mathbf{r})</annotation></semantics></math></span><span class=\"katex-html\" aria-hidden=\"true\"><span class=\"base\"><span class=\"strut\" style=\"height:1.153em;\"></span><span class=\"mord\"><span class=\"mord mathnormal\" style=\"margin-right:0.03588em;\">v</span><span class=\"msupsub\"><span class=\"vlist-t\"><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:0.8019em;\"><span style=\"top:-3.113em;margin-right:0.05em;\"><span class=\"pstrut\" style=\"height:2.7em;\"></span><span class=\"sizing reset-size6 size3 mtight\"><span class=\"mord mtight\"><span class=\"mord mtight\">′</span></span></span></span></span></span></span></span></span><span class=\"mspace\" style=\"margin-right:0.2778em;\"></span><span class=\"mrel\"><span class=\"mop op-limits\"><span class=\"vlist-t\"><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:1.153em;\"><span style=\"top:-3em;\"><span class=\"pstrut\" style=\"height:3em;\"></span><span><span class=\"mop\">=</span></span></span><span style=\"top:-3.5669em;margin-left:0em;\"><span class=\"pstrut\" style=\"height:3em;\"></span><span class=\"sizing reset-size6 size3 mtight\"><span class=\"mord mtight\"><span class=\"mclose mtight\">?</span></span></span></span></span></span></span></span></span><span class=\"mspace\" style=\"margin-right:0.2778em;\"></span></span><span class=\"base\"><span class=\"strut\" style=\"height:1em;vertical-align:-0.25em;\"></span><span class=\"mord mathnormal\" style=\"margin-right:0.10764em;\">f</span><span class=\"mopen\">(</span><span class=\"mord mathbf\">r</span><span class=\"mclose\">)</span><span class=\"mspace\" style=\"margin-right:0.2222em;\"></span><span class=\"mbin\">⋅</span><span class=\"mspace\" style=\"margin-right:0.2222em;\"></span></span><span class=\"base\"><span class=\"strut\" style=\"height:1em;vertical-align:-0.25em;\"></span><span class=\"mord\"><span class=\"mord accent\"><span class=\"vlist-t vlist-t2\"><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:0.6679em;\"><span style=\"top:-3em;\"><span class=\"pstrut\" style=\"height:3em;\"></span><span class=\"mord\"><span class=\"mord mathnormal\">e</span><span class=\"mord mathnormal\" style=\"margin-right:0.03588em;\">q</span></span></span><span style=\"top:-3.35em;\"><span class=\"pstrut\" style=\"height:3em;\"></span><span class=\"accent-body\" style=\"left:-0.25em;\"><span class=\"mord\">~</span></span></span></span><span class=\"vlist-s\">​</span></span><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:0.1944em;\"><span></span></span></span></span></span><span class=\"msupsub\"><span class=\"vlist-t vlist-t2\"><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:0.067em;\"><span style=\"top:-2.4559em;margin-right:0.05em;\"><span class=\"pstrut\" style=\"height:2.7em;\"></span><span class=\"sizing reset-size6 size3 mtight\"><span class=\"mord mtight\"><span class=\"mord mathbf mtight\">z</span></span></span></span></span><span class=\"vlist-s\">​</span></span><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:0.2441em;\"><span></span></span></span></span></span></span><span class=\"mopen\">(</span><span class=\"mord mathbf\">r</span><span class=\"mclose\">)</span></span></span></span></span>","enumerator":"8","key":"SKUySOXEUw"},{"type":"paragraph","position":{"start":{"line":13,"column":1},"end":{"line":16,"column":1}},"children":[{"type":"text","value":"and we can have the following statement, since the code is linear","position":{"start":{"line":13,"column":1},"end":{"line":13,"column":1}},"key":"s62a6rOxrt"}],"key":"yycP02plJR"},{"type":"math","value":"\\mathsf{encode}(v'/\\tilde{eq}_{\\mathbf{z}}(\\mathbf{r})) \\overset{?}{=} \\mathsf{encode}\\big(f(\\mathbf{r})\\big)","position":{"start":{"line":13,"column":1},"end":{"line":13,"column":1}},"tight":"before","html":"<span class=\"katex-display\"><span class=\"katex\"><span class=\"katex-mathml\"><math xmlns=\"http://www.w3.org/1998/Math/MathML\" display=\"block\"><semantics><mrow><mrow><mi mathvariant=\"sans-serif\">e</mi><mi mathvariant=\"sans-serif\">n</mi><mi mathvariant=\"sans-serif\">c</mi><mi mathvariant=\"sans-serif\">o</mi><mi mathvariant=\"sans-serif\">d</mi><mi mathvariant=\"sans-serif\">e</mi></mrow><mo stretchy=\"false\">(</mo><msup><mi>v</mi><mo mathvariant=\"normal\" lspace=\"0em\" rspace=\"0em\">′</mo></msup><mi mathvariant=\"normal\">/</mi><msub><mover accent=\"true\"><mrow><mi>e</mi><mi>q</mi></mrow><mo>~</mo></mover><mi mathvariant=\"bold\">z</mi></msub><mo stretchy=\"false\">(</mo><mi mathvariant=\"bold\">r</mi><mo stretchy=\"false\">)</mo><mo stretchy=\"false\">)</mo><mo><mover><mo><mo>=</mo></mo><mo stretchy=\"false\" lspace=\"0em\" rspace=\"0em\">?</mo></mover></mo><mrow><mi mathvariant=\"sans-serif\">e</mi><mi mathvariant=\"sans-serif\">n</mi><mi mathvariant=\"sans-serif\">c</mi><mi mathvariant=\"sans-serif\">o</mi><mi mathvariant=\"sans-serif\">d</mi><mi mathvariant=\"sans-serif\">e</mi></mrow><mo fence=\"false\" stretchy=\"true\" minsize=\"1.2em\" maxsize=\"1.2em\">(</mo><mi>f</mi><mo stretchy=\"false\">(</mo><mi mathvariant=\"bold\">r</mi><mo stretchy=\"false\">)</mo><mo fence=\"false\" stretchy=\"true\" minsize=\"1.2em\" maxsize=\"1.2em\">)</mo></mrow><annotation encoding=\"application/x-tex\">\\mathsf{encode}(v&#x27;/\\tilde{eq}_{\\mathbf{z}}(\\mathbf{r})) \\overset{?}{=} \\mathsf{encode}\\big(f(\\mathbf{r})\\big)</annotation></semantics></math></span><span class=\"katex-html\" aria-hidden=\"true\"><span class=\"base\"><span class=\"strut\" style=\"height:1.403em;vertical-align:-0.25em;\"></span><span class=\"mord\"><span class=\"mord mathsf\">encode</span></span><span class=\"mopen\">(</span><span class=\"mord\"><span class=\"mord mathnormal\" style=\"margin-right:0.03588em;\">v</span><span class=\"msupsub\"><span class=\"vlist-t\"><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:0.8019em;\"><span style=\"top:-3.113em;margin-right:0.05em;\"><span class=\"pstrut\" style=\"height:2.7em;\"></span><span class=\"sizing reset-size6 size3 mtight\"><span class=\"mord mtight\"><span class=\"mord mtight\">′</span></span></span></span></span></span></span></span></span><span class=\"mord\">/</span><span class=\"mord\"><span class=\"mord accent\"><span class=\"vlist-t vlist-t2\"><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:0.6679em;\"><span style=\"top:-3em;\"><span class=\"pstrut\" style=\"height:3em;\"></span><span class=\"mord\"><span class=\"mord mathnormal\">e</span><span class=\"mord mathnormal\" style=\"margin-right:0.03588em;\">q</span></span></span><span style=\"top:-3.35em;\"><span class=\"pstrut\" style=\"height:3em;\"></span><span class=\"accent-body\" style=\"left:-0.25em;\"><span class=\"mord\">~</span></span></span></span><span class=\"vlist-s\">​</span></span><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:0.1944em;\"><span></span></span></span></span></span><span class=\"msupsub\"><span class=\"vlist-t vlist-t2\"><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:0.067em;\"><span style=\"top:-2.4559em;margin-right:0.05em;\"><span class=\"pstrut\" style=\"height:2.7em;\"></span><span class=\"sizing reset-size6 size3 mtight\"><span class=\"mord mtight\"><span class=\"mord mathbf mtight\">z</span></span></span></span></span><span class=\"vlist-s\">​</span></span><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:0.2441em;\"><span></span></span></span></span></span></span><span class=\"mopen\">(</span><span class=\"mord mathbf\">r</span><span class=\"mclose\">))</span><span class=\"mspace\" style=\"margin-right:0.2778em;\"></span><span class=\"mrel\"><span class=\"mop op-limits\"><span class=\"vlist-t\"><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:1.153em;\"><span style=\"top:-3em;\"><span class=\"pstrut\" style=\"height:3em;\"></span><span><span class=\"mop\">=</span></span></span><span style=\"top:-3.5669em;margin-left:0em;\"><span class=\"pstrut\" style=\"height:3em;\"></span><span class=\"sizing reset-size6 size3 mtight\"><span class=\"mord mtight\"><span class=\"mclose mtight\">?</span></span></span></span></span></span></span></span></span><span class=\"mspace\" style=\"margin-right:0.2778em;\"></span></span><span class=\"base\"><span class=\"strut\" style=\"height:1.2em;vertical-align:-0.35em;\"></span><span class=\"mord\"><span class=\"mord mathsf\">encode</span></span><span class=\"mord\"><span class=\"delimsizing size1\">(</span></span><span class=\"mord mathnormal\" style=\"margin-right:0.10764em;\">f</span><span class=\"mopen\">(</span><span class=\"mord mathbf\">r</span><span class=\"mclose\">)</span><span class=\"mord\"><span class=\"delimsizing size1\">)</span></span></span></span></span></span>","enumerator":"9","key":"RtU8FBUTzj"},{"type":"paragraph","position":{"start":{"line":18,"column":1},"end":{"line":18,"column":1}},"children":[{"type":"text","value":"Fortunately, the right hand side is exactly the result of FRI-folding, and the left hand side can be computed by verifier himself.","position":{"start":{"line":18,"column":1},"end":{"line":18,"column":1}},"key":"bOoCEVfhe8"}],"key":"ccYJyPBAik"}],"key":"bsZuG82bka"},{"type":"block","kind":"notebook-content","children":[{"type":"heading","depth":2,"position":{"start":{"line":1,"column":1},"end":{"line":1,"column":1}},"children":[{"type":"text","value":"More features","position":{"start":{"line":1,"column":1},"end":{"line":1,"column":1}},"key":"kTl9bGxWKM"}],"identifier":"more-features","label":"More features","html_id":"more-features","implicit":true,"key":"DpWGapRlIR"},{"type":"list","ordered":false,"spread":false,"position":{"start":{"line":3,"column":1},"end":{"line":4,"column":1}},"children":[{"type":"listItem","spread":true,"position":{"start":{"line":3,"column":1},"end":{"line":4,"column":1}},"children":[{"type":"text","value":"Add RS code support for ","position":{"start":{"line":3,"column":1},"end":{"line":3,"column":1}},"key":"poXOOmmD51"},{"type":"inlineCode","value":"G0","position":{"start":{"line":3,"column":1},"end":{"line":3,"column":1}},"key":"cO3DmCqMHG"}],"key":"gzqlvN57vK"}],"key":"PqBVKlH6gV"},{"type":"heading","depth":2,"position":{"start":{"line":5,"column":1},"end":{"line":5,"column":1}},"children":[{"type":"text","value":"TODO","position":{"start":{"line":5,"column":1},"end":{"line":5,"column":1}},"key":"x4oqugMMzO"}],"identifier":"todo","label":"TODO","html_id":"todo","implicit":true,"key":"jRIuGQsqbX"},{"type":"list","ordered":false,"spread":false,"position":{"start":{"line":7,"column":1},"end":{"line":10,"column":1}},"children":[{"type":"listItem","spread":true,"position":{"start":{"line":7,"column":1},"end":{"line":7,"column":1}},"children":[{"type":"text","value":"Change Rnd into a transcript that absorbs messages and squeezes challenges.","position":{"start":{"line":7,"column":1},"end":{"line":7,"column":1}},"key":"Ioph6FIoMK"}],"key":"zWDhPSblEL"},{"type":"listItem","spread":true,"position":{"start":{"line":8,"column":1},"end":{"line":8,"column":1}},"children":[{"type":"text","value":"Change ","position":{"start":{"line":8,"column":1},"end":{"line":8,"column":1}},"key":"YcuN7kjQcF"},{"type":"inlineCode","value":"Proof","position":{"start":{"line":8,"column":1},"end":{"line":8,"column":1}},"key":"fKTri9gEDp"},{"type":"text","value":" into a struct, dict or class","position":{"start":{"line":8,"column":1},"end":{"line":8,"column":1}},"key":"eGR84crF6I"}],"key":"n3itJNsUkm"},{"type":"listItem","spread":true,"position":{"start":{"line":9,"column":1},"end":{"line":9,"column":1}},"children":[{"type":"text","value":"Add inputs validation","position":{"start":{"line":9,"column":1},"end":{"line":9,"column":1}},"key":"qDCwtLRNVW"}],"key":"twMFzctxLx"},{"type":"listItem","spread":true,"position":{"start":{"line":10,"column":1},"end":{"line":10,"column":1}},"children":[{"type":"text","value":"Add error messages for ","position":{"start":{"line":10,"column":1},"end":{"line":10,"column":1}},"key":"ApPurRyZrH"},{"type":"inlineCode","value":"assert","position":{"start":{"line":10,"column":1},"end":{"line":10,"column":1}},"key":"sBo1pfDReQ"}],"key":"GGyQLFfEA8"}],"key":"q8p4hapnNM"}],"key":"VQsNOMRceV"},{"type":"block","kind":"notebook-code","children":[{"type":"code","lang":"sage","executable":true,"value":"from mle2 import MLEPolynomial\nfrom merkle import MerkleTree\n\ndef query_phase(transcript, first_tree: MerkleTree, first_oracle, trees: list, oracles: list, num_vars, num_verifier_queries, debug=False):\n    queries = [transcript.squeeze_byte_challenge() % num_vars for _ in range(num_verifier_queries)]\n\n    query_paths = []\n    # query paths\n    for q in queries:\n        num_vars_copy = num_vars\n        cur_path = []\n        indices = []\n        x0 = q\n        x1 = q - num_vars_copy / 2 if q >= num_vars_copy / 2 else q + num_vars_copy / 2\n        if x1 < x0:\n            x0, x1 = x1, x0\n        \n        cur_path.append((first_oracle[x0], first_oracle[x1]))\n        indices.append(x0)\n        q = x0\n        num_vars_copy >>= 1\n\n        for oracle in oracles:\n            x0 = q\n            x1 = q - num_vars_copy / 2 if q >= num_vars_copy / 2 else q + num_vars_copy / 2\n            if x1 < x0:\n                x0, x1 = x1, x0\n            \n            cur_path.append((oracle[x0], oracle[x1]))\n            if debug: print(\"x0:\", x0, \"x1:\", x1, \"num_vars:\", num_vars_copy)\n            if debug: print(\"oracle:\", oracle)\n            indices.append(x0)\n            q = x0\n            num_vars_copy >>= 1\n        \n        query_paths.append((cur_path, indices))\n\n    # merkle paths\n    merkle_paths = []\n    for _, indices in query_paths:\n        cur_query_paths = []\n        for i, idx in enumerate(indices):\n            if i == 0:\n                cur_query_paths.append(first_tree.get_authentication_path(idx))\n                if debug: print(\"mp:\", cur_query_paths[-1])\n                if debug: print(\"commit:\", first_tree.root)\n                if debug: print(\"idx:\", idx)\n            else:\n                cur_tree = trees[i - 1]\n                assert isinstance(cur_tree, MerkleTree)\n                cur_query_paths.append(cur_tree.get_authentication_path(idx))\n                if debug: print(\"mp:\", cur_query_paths[-1])\n                if debug: print(\"commit:\", first_tree.root)\n                if debug: print(\"idx:\", idx)\n        merkle_paths.append(cur_query_paths)\n\n    return query_paths, merkle_paths","key":"JwqssRKf75"},{"type":"output","id":"RV9pQLCej4tQkb031r8gN","data":[],"key":"a4PXRqGodA"}],"key":"eAeBZmJYO5"},{"type":"block","kind":"notebook-code","children":[{"type":"code","lang":"sage","executable":true,"value":"from unipolynomial import UniPolynomial\n\n# Define prove\n# f_code: Encode(f)\n# f_evals: evaluations of f\n# us: point\n# v: f(point) = v\n# k: number of variables, k = len(u)\n# T: random code table\n# blowup_factor: as named\n# transcript: as named\n\ndef prove_basefold_evaluation_arg_multilinear_basis(f_code, f_evals, us, v, k, T, blowup_factor, commit, num_verifier_queries, transcript, debug=False):\n    # TODO: check if the length of f is a power of 2\n    \n    n = len(f_evals)\n    half = n >> 1\n    assert len(T) == k, \"wrong table size, k={}, len(T)={}\".format(k, len(T))\n    f_code_copy = f_code[:]\n    f = f_evals[:]\n    eq = MLEPolynomial.eqs_over_hypercube(us)\n    \n    challenge_vec = []\n    sumcheck_sum = v\n    h_poly_vec = []\n    f_code_vec = []\n    f_code_trees = []\n    for i in range(k):\n        if debug: print(\"sumcheck round {}\".format(i))\n        f_low = f[:half]\n        f_high = f[half:]\n        eq_low = eq[:half]\n        eq_high = eq[half:]\n        \n        # print(\"low={}, high={}\".format(low, high))\n\n        h_eval_at_0 = sum([f_low[j] * eq_low[j] for j in range(half)])\n        h_eval_at_1 = sum([f_high[j] * eq_high[j] for j in range(half)])\n        h_eval_at_2 = sum([ (2 * f_high[j] - f_low[j]) * (2 * eq_high[j] - eq_low[j]) for j in range(half)])\n        h_poly_vec.append([h_eval_at_0, h_eval_at_1, h_eval_at_2])\n        \n        if debug: print(\"> sumcheck: h=[{},{},{}]\".format(h_eval_at_0, h_eval_at_1, h_eval_at_2))\n        if debug: print(\"> sumcheck: {} ?= {}\".format(h_eval_at_0 + h_eval_at_1, sumcheck_sum))\n        \n        assert h_eval_at_0 + h_eval_at_1 == sumcheck_sum, \"{} + {} != {}\" % (h_eval_at_0, h_eval_at_1, sumcheck_sum)\n\n        # Receive a random number from the verifier\n        alpha = A0 * transcript.squeeze_byte_challenge()\n        \n        challenge_vec.append(alpha)\n\n        # fold(low, high, alpha)\n        f = [(1 - alpha) * f_low[i] + alpha * f_high[i] for i in range(half)]\n        eq = [(1 - alpha) * eq_low[i] + alpha * eq_high[i] for i in range(half)]\n        if debug: print(\"> sumcheck: f_folded = {}\".format(f))\n        if debug: print(\"> sumcheck: eq_folded = {}\".format(eq))\n\n        # compute the new sum = h(alpha)\n        sumcheck_sum = UniPolynomial.uni_eval_from_evals([h_eval_at_0, h_eval_at_1, h_eval_at_2], alpha, [Fp(0),Fp(1),Fp(2)])\n        if debug: print(\"> sumcheck: sumcheck_sum = {}\".format(sumcheck_sum))\n\n        if debug: print(\"fri round {}\".format(i))\n\n        # # Basefold fri\n        f_code = basefold_fri_multilinear_basis(f_code, T[k-i-1], alpha, debug=debug)\n        if debug: print(\"> fri: f_code_folded=\", f_code)\n        f_code_vec.append(f_code)\n        f_code_trees.append(MerkleTree(f_code))\n\n        # DEBUG: consistency check (invariant)\n        # Enc(fold(message)) = fold(Enc(message)) \n        debug_f_folded_code = basefold_encode(m=f, k0=1, depth=k-i-1, c=blowup_factor, G0=rs_encode, T=T[:k-i-1], debug=debug)\n        if debug: print(\"> fri: enc({})={}\".format(f, debug_f_folded_code))\n        assert f_code == debug_f_folded_code, \"Enc(fold(message)) != fold(Enc(message))\"\n\n        transcript.write_field_elements([h_eval_at_0, h_eval_at_1, h_eval_at_2])\n        transcript.write_field_elements(f_code)\n        \n        half = half >> 1\n\n    # DEBUG:\n    f_eval_at_random = sumcheck_sum/eq[0]\n    assert rs_encode([f_eval_at_random], k0=1, c=blowup_factor) == f_code, \"❌: Encode(f(rs)) != f_code_0\"\n    if debug: print(\"end: f_code={}, sum={}, sum/eq={}\".format(f_code, sumcheck_sum, sumcheck_sum/eq[0]))\n    if debug: print(\"🙈: fold(f_code) == encode(fold(f_eq)/fold(eq(us)))\")\n\n    query_paths, merkle_paths = query_phase(transcript, commit, f_code_copy, f_code_trees, f_code_vec, len(f_code_copy), num_verifier_queries, debug)\n\n    # return (h_poly_vec, challenge_vec, f_code_vec)\n    return {\n        'h_poly_vec': h_poly_vec,\n        'f_code_vec': f_code_vec,\n        'challenge_vec': challenge_vec,\n        'f_code_trees': f_code_trees,\n        'query_paths': query_paths,\n        'merkle_paths': merkle_paths\n    }","key":"LnkjVZfvBK"},{"type":"output","id":"YwIfPANGlqizHgelVURpR","data":[],"key":"Kx01jWBoGK"}],"key":"kNXpvM7bnm"},{"type":"block","kind":"notebook-code","children":[{"type":"code","lang":"sage","executable":true,"value":"from merkle import verify_decommitment\nfrom transcript import Transcript\n\ndef verify_queries(commit, proof, k, num_vars, num_verifier_queries, T, debug=False):\n    transcript = Transcript()\n    transcript.write_field_elements(commit.root)\n\n    fold_challenges = []\n    for i in range(k):\n        fold_challenges.append(A0 * transcript.squeeze_byte_challenge())\n        transcript.write_field_elements(proof['h_poly_vec'][i])\n        transcript.write_field_elements(proof['f_code_vec'][i])\n\n    queries = [transcript.squeeze_byte_challenge() % num_vars for _ in range(num_verifier_queries)]\n    # query loop\n    for q, (cur_path, _), mps in zip(queries, proof['query_paths'], proof['merkle_paths']):\n        if debug: print(\"cur_path:\", cur_path)\n        num_vars_copy = num_vars\n        # fold loop\n        for i, mp in enumerate(mps):\n            x0 = q\n            x1 = q - num_vars_copy / 2 if q >= num_vars_copy / 2 else q + num_vars_copy / 2\n            if x1 < x0:\n                x0, x1 = x1, x0\n                \n            code_left, code_right = cur_path[i][0], cur_path[i][1]\n\n            if i != len(mps) - 1:\n                table = T[k-i-1]\n                if debug: print(\"table:\", table)\n                if debug: print(\"x0:\", x0)\n                if debug: print(\"x1:\", x1)\n                f_code_folded = cur_path[i + 1][0 if x0 < num_vars_copy / 4 else 1]\n                alpha = fold_challenges[i]\n                if debug: print(\"f_code_folded:\", f_code_folded)\n                if debug: print(\"expected:\", ((1 - alpha) * (code_left + code_right)/2 + (alpha) * (code_left - code_right)/(2*table[x0])))\n                if debug: print(\"code_left:\", code_left)\n                if debug: print(\"code_right:\", code_right)\n                if debug: print(\"alpha:\", alpha)\n                assert f_code_folded == ((1 - alpha) * (code_left + code_right)/2 + (alpha) * (code_left - code_right)/(2*table[x0])), \"failed to check multilinear base fri\"\n\n            if i == 0:\n                if debug: print(\"mp:\", mp)\n                if debug: print(\"commit:\", commit.root)\n                if debug: print(\"idx:\", x0)\n                assert verify_decommitment(x0, code_left, mp, commit.root)\n            else:\n                if debug: print(\"mp:\", mp)\n                if debug: print(\"commit:\", proof['f_code_trees'][i - 1].root)\n                if debug: print(\"idx:\", x0)\n                assert verify_decommitment(x0, code_left, mp, proof['f_code_trees'][i - 1].root)\n\n            num_vars_copy >>= 1\n            q = x0","key":"WJpgizgPgV"},{"type":"output","id":"Tj1UB6dXR4GoC7NV6XIb9","data":[],"key":"RGdduYUCwY"}],"key":"Qkw9smJEa3"},{"type":"block","kind":"notebook-code","children":[{"type":"code","lang":"sage","executable":true,"value":"def verify_basefold_evaluation_arg_multilinear_basis(f_code, commit, proof, us, v, d, k, T, blowup_factor, num_verifier_queries, Rng, debug=False):\n    # TODO: check if the length of f is a power of 2\n    \n    N = len(f_code)\n    assert k == len(us), \"k != len(us), k = %d, len(us) = %d\" % (k, len(us))\n    n = 1 << k\n    assert N == n * blowup_factor, \"N != n * blowup_factor, N = %d, n = %d, blowup_factor = %d\" % (N, n, blowup_factor)\n    \n    h_poly_vec = proof['h_poly_vec']\n    challenge_vec = proof['challenge_vec']\n    f_code_vec = proof['f_code_vec']\n    sumcheck_sum = v\n    half = n >> 1\n    f_last_code = f_code\n    eq_evals = MLEPolynomial.eqs_over_hypercube(us)\n    \n    for i in range(k):\n        if debug: print(\"sumcheck round {}\".format(i))\n        h_evals = h_poly_vec[i]\n        assert d+1 == len(h_evals), \"d+1 != len(h_evals), d+1 = %d, len(h_evals) = %d\" % (d+1, len(h_evals))\n\n        assert sumcheck_sum == h_evals[0] + h_evals[1], \"sumcheck_sum != h_evals[0] + h_evals[1], sumcheck_sum = %d, h_evals[0] = %d, h_evals[1] = %d\" % (sumcheck_sum, h_evals[0], h_evals[1])\n        # print(\"low={}, high={}\".format(low, high))\n\n        alpha = challenge_vec[i]\n\n        sumcheck_sum = UniPolynomial.uni_eval_from_evals(h_evals, alpha, [Fp(0),Fp(1),Fp(2)])\n\n        eq_low = eq_evals[:half]\n        eq_high = eq_evals[half:]\n        if debug: print(\"eq_low={}, eq_high={}\".format(eq_low, eq_high))\n        eq_evals = [(1-alpha) * eq_low[i] + alpha * eq_high[i] for i in range(half)]\n\n        if debug: print(\"fri round {}\".format(i))\n\n        table = T[k-i-1]\n        f_code_folded = f_code_vec[i]\n        assert len(f_code_folded) == half * blowup_factor, \"len(f_code_folded) != half * blowup_factor, len(f_code_folded) = %d, half = %d, blowup_factor = %d\" % (len(f_code_folded), half, blowup_factor)\n        code_left = f_last_code[:half*blowup_factor]\n        code_right = f_last_code[half*blowup_factor:]\n        if debug: print(\"code_left={}\".format(code_left))\n        if debug: print(\"code_right={}\".format(code_right))\n        if debug: print(\"f_code_folded={}\".format(f_code_folded))\n        if debug: print(\"alpha={}\".format(alpha))\n        if debug: print(\"table={}\".format(table))\n        for j in range(half*blowup_factor):\n            assert f_code_folded[j] == ((1 - alpha) * (code_left[j] + code_right[j])/2 + (alpha) * (code_left[j] - code_right[j])/(2*table[j])), \"failed to check multilinear base fri\"\n        f_last_code = f_code_folded\n        half = half >> 1\n\n    verify_queries(commit, proof, k, N, num_verifier_queries, T, debug)\n        \n    # check the final code\n    final_code = f_code_vec[i]\n    assert len(final_code) == blowup_factor, \"len(final_code) != blowup_factor, len(final_code) = %d, blowup_factor = %d\" % (len(final_code), blowup_factor)\n    for i in range(len(final_code)):\n        assert final_code[0] == final_code[i], \"final_code is not a repetition code\"\n    # check f(alpha_vec)\n    f_eval_at_random = sumcheck_sum/eq_evals[0]\n    if debug: print(\"f_eval_at_random={}\".format(f_eval_at_random))\n    if debug: print(\"rs_encode([f_eval_at_random], k0=1, c=blowup_factor)=\", rs_encode([f_eval_at_random], k0=1, c=blowup_factor))\n    assert rs_encode([f_eval_at_random], k0=1, c=blowup_factor) == f_code_folded, \"❌: Encode(f(rs)) != f_code_0\"\n    print(\"✅: Verified! fold({}) == encode(fold(f_eq)/fold(eq(us)))\".format(f_code))\n\n    return True","key":"TbEDhrbwec"},{"type":"output","id":"8uBT-u9eboQaxqkYYBoQP","data":[],"key":"nkdMP13KTg"}],"key":"werciTMN9E"},{"type":"block","kind":"notebook-code","children":[{"type":"code","lang":"sage","executable":true,"value":"ff = [Fp(1),Fp(2),Fp(3),Fp(4)]\nff_code = basefold_encode(m=ff, k0=1, depth=2, c=2, G0=rs_encode, T=[[X4, X5], [X0, X1, X2, X3]]); ff_code","key":"tGJ7YHdMQy"},{"type":"output","id":"ZjiDerJsGM_Awir48g6R9","data":[{"output_type":"execute_result","execution_count":118,"metadata":{},"data":{"text/plain":{"content":"[Field([4*X0*X4 + 3*X0 + 2*X4 + 1]),\n Field([4*X1*X5 + 3*X1 + 2*X5 + 1]),\n Field([-4*X2*X4 + 3*X2 - 2*X4 + 1]),\n Field([-4*X3*X5 + 3*X3 - 2*X5 + 1]),\n Field([-4*X0*X4 - 3*X0 + 2*X4 + 1]),\n Field([-4*X1*X5 - 3*X1 + 2*X5 + 1]),\n Field([4*X2*X4 - 3*X2 - 2*X4 + 1]),\n Field([4*X3*X5 - 3*X3 - 2*X5 + 1])]","content_type":"text/plain"}}}],"key":"x2lJRjwsqS"}],"key":"hCkFQIdwlH"},{"type":"block","kind":"notebook-code","children":[{"type":"code","lang":"sage","executable":true,"value":"commit = MerkleTree(ff_code)\ncommit.root","key":"nstk6MJYhb"},{"type":"output","id":"gNZML7xI_-gT9djtMBlYg","data":[{"output_type":"execute_result","execution_count":119,"metadata":{},"data":{"text/plain":{"content":"'d7732ef5605e991b2909cb0219410cb35b49f23df6d5c909ecfe2ebacf64ce6d'","content_type":"text/plain"}}}],"key":"D6E8SxEy7D"}],"key":"Z6AMTRgqMo"},{"type":"block","kind":"notebook-code","children":[{"type":"code","lang":"sage","executable":true,"value":"from transcript import Transcript\n\ntranscript = Transcript()\ntranscript.write_field_elements(commit.root)\nproof = prove_basefold_evaluation_arg_multilinear_basis(ff_code, ff, [3,4], 12, 2, [[X4, X5], [X0, X1, X2, X3]], 2, commit, 4, transcript); proof","key":"QGboaLsbPq"},{"type":"output","id":"Qa1qQDB3TC18H4l54DyzI","data":[{"output_type":"execute_result","execution_count":120,"metadata":{},"data":{"text/plain":{"content":"{'h_poly_vec': [[Field([181]), Field([24]), Field([88])],\n  [Field([72*A0^2 + 10*A0 + 6]),\n   Field([85*A0^2 + 73*A0 - 18]),\n   Field([-95*A0^2 - 21*A0 - 72])]],\n 'f_code_vec': [[Field([-10*X4*A0 + 2*X4 - 10*A0 + 1]),\n   Field([-10*X5*A0 + 2*X5 - 10*A0 + 1]),\n   Field([10*X4*A0 - 2*X4 - 10*A0 + 1]),\n   Field([10*X5*A0 - 2*X5 - 10*A0 + 1])],\n  [Field([89*A0 + 1]), Field([89*A0 + 1])]],\n 'challenge_vec': [-5*A0, -94*A0],\n 'f_code_trees': [<merkle.MerkleTree object at 0x12cf61410>,\n  <merkle.MerkleTree object at 0x12cf6a890>],\n 'query_paths': [([(Field([4*X1*X5 + 3*X1 + 2*X5 + 1]),\n     Field([-4*X1*X5 - 3*X1 + 2*X5 + 1])),\n    (Field([-10*X5*A0 + 2*X5 - 10*A0 + 1]),\n     Field([10*X5*A0 - 2*X5 - 10*A0 + 1])),\n    (Field([89*A0 + 1]), Field([89*A0 + 1]))],\n   [1, 1, 0]),\n  ([(Field([-4*X3*X5 + 3*X3 - 2*X5 + 1]), Field([4*X3*X5 - 3*X3 - 2*X5 + 1])),\n    (Field([-10*X5*A0 + 2*X5 - 10*A0 + 1]),\n     Field([10*X5*A0 - 2*X5 - 10*A0 + 1])),\n    (Field([89*A0 + 1]), Field([89*A0 + 1]))],\n   [3, 1, 0]),\n  ([(Field([4*X0*X4 + 3*X0 + 2*X4 + 1]), Field([-4*X0*X4 - 3*X0 + 2*X4 + 1])),\n    (Field([-10*X4*A0 + 2*X4 - 10*A0 + 1]),\n     Field([10*X4*A0 - 2*X4 - 10*A0 + 1])),\n    (Field([89*A0 + 1]), Field([89*A0 + 1]))],\n   [0, 0, 0]),\n  ([(Field([4*X1*X5 + 3*X1 + 2*X5 + 1]), Field([-4*X1*X5 - 3*X1 + 2*X5 + 1])),\n    (Field([-10*X5*A0 + 2*X5 - 10*A0 + 1]),\n     Field([10*X5*A0 - 2*X5 - 10*A0 + 1])),\n    (Field([89*A0 + 1]), Field([89*A0 + 1]))],\n   [1, 1, 0])],\n 'merkle_paths': [[['1f2132771bb6da50636e47e8a6008fc2ecca5b006b83f6b0b2f22faa35601254',\n    'ed60f9862d1b626084c46913fe5068a5ed159fca9c6f4169e5857fb16d1ef86a',\n    '8113ad78ca72393d3f9f7f40d3a9cd60d98a1c21d0ecef4986ce6cd3b676dfe1'],\n   ['605df0f4ee68f5753a015f057133f1a4bbe84b0e5b72b866f51bcded9e707d5e',\n    'f9e67d2a71295f49db627833b5c83e8a20b0b162f002f3529be018da2282a675'],\n   ['238b8b8cd29a360bfa2bbb1efc136051583ba54573f3211604b8ae084bdaf881']],\n  [['1f2132771bb6da50636e47e8a6008fc2ecca5b006b83f6b0b2f22faa35601254',\n    'a3908fce4dba2b186c03c9ae0eab74461227e58dde51b8d1260334f857a0fb69',\n    'fcdfea9754326f6c9612fc56cfd28f5857d77a9d8449d728fa4f88d901ff1d6c'],\n   ['605df0f4ee68f5753a015f057133f1a4bbe84b0e5b72b866f51bcded9e707d5e',\n    'f9e67d2a71295f49db627833b5c83e8a20b0b162f002f3529be018da2282a675'],\n   ['238b8b8cd29a360bfa2bbb1efc136051583ba54573f3211604b8ae084bdaf881']],\n  [['1f2132771bb6da50636e47e8a6008fc2ecca5b006b83f6b0b2f22faa35601254',\n    'ed60f9862d1b626084c46913fe5068a5ed159fca9c6f4169e5857fb16d1ef86a',\n    'c59d46ec6760e72acf97cfd72202736a9b427ff36a166623842396796992a2f8'],\n   ['605df0f4ee68f5753a015f057133f1a4bbe84b0e5b72b866f51bcded9e707d5e',\n    'cb8d4563d9bdb45da5800eb1d3a8b62e1711c0811b5e74714534fe4bccdee12b'],\n   ['238b8b8cd29a360bfa2bbb1efc136051583ba54573f3211604b8ae084bdaf881']],\n  [['1f2132771bb6da50636e47e8a6008fc2ecca5b006b83f6b0b2f22faa35601254',\n    'ed60f9862d1b626084c46913fe5068a5ed159fca9c6f4169e5857fb16d1ef86a',\n    '8113ad78ca72393d3f9f7f40d3a9cd60d98a1c21d0ecef4986ce6cd3b676dfe1'],\n   ['605df0f4ee68f5753a015f057133f1a4bbe84b0e5b72b866f51bcded9e707d5e',\n    'f9e67d2a71295f49db627833b5c83e8a20b0b162f002f3529be018da2282a675'],\n   ['238b8b8cd29a360bfa2bbb1efc136051583ba54573f3211604b8ae084bdaf881']]]}","content_type":"text/plain"}}}],"key":"BgEAoZ7Esj"}],"key":"XpbzgHv3gv"},{"type":"block","kind":"notebook-code","children":[{"type":"code","lang":"sage","executable":true,"value":"# verify_basefold_evaluation_arg_multilinear_basis(f_code, arg, us, v, d, k, T, blowup_factor, Rng):\n\nverify_basefold_evaluation_arg_multilinear_basis(ff_code, commit, proof, us=[3,4], v=12, d=2, k=2, T=[[X4, X5], [X0, X1, X2, X3]], blowup_factor=2, num_verifier_queries=4, Rng=[A1, A0])","key":"zNyC8imXuJ"},{"type":"output","id":"2a4x9efAQ1El-ta4dVGlu","data":[{"name":"stdout","output_type":"stream","text":"✅: Verified! fold([Field([4*X0*X4 + 3*X0 + 2*X4 + 1]), Field([4*X1*X5 + 3*X1 + 2*X5 + 1]), Field([-4*X2*X4 + 3*X2 - 2*X4 + 1]), Field([-4*X3*X5 + 3*X3 - 2*X5 + 1]), Field([-4*X0*X4 - 3*X0 + 2*X4 + 1]), Field([-4*X1*X5 - 3*X1 + 2*X5 + 1]), Field([4*X2*X4 - 3*X2 - 2*X4 + 1]), Field([4*X3*X5 - 3*X3 - 2*X5 + 1])]) == encode(fold(f_eq)/fold(eq(us)))\n"},{"output_type":"execute_result","execution_count":121,"metadata":{},"data":{"text/plain":{"content":"True","content_type":"text/plain"}}}],"key":"r1iJWT0p0C"}],"key":"cN2D4gYan5"},{"type":"block","kind":"notebook-code","children":[{"type":"code","lang":"sage","executable":true,"value":"from field import Field\n\nprint(Field.get_operation_count())\nField.reset_operation_count()\nprint(Field.get_operation_count())","key":"LmUHN6Scje"},{"type":"output","id":"FUuqnEtYdFtw3HuuQhgFi","data":[{"name":"stdout","output_type":"stream","text":"{'add': 174, 'sub': 97, 'mul': 202, 'div': 70}\n{'add': 0, 'sub': 0, 'mul': 0, 'div': 0}\n"}],"key":"WFol4pJyvp"}],"key":"lNc6zhmNdY"},{"type":"block","kind":"notebook-code","children":[{"type":"code","lang":"sage","executable":true,"value":"print(Fp.Fp)\nprint(Fp.zero())\nprint(Fp.one())\nprint(Fp.primitive_element())","key":"mminowQxLS"},{"type":"output","id":"cyRJt7zOewPtAJLorn63L","data":[{"name":"stdout","output_type":"stream","text":"Finite Field of size 193\n0\n1\n5\n"}],"key":"bMeVtZzjHk"}],"key":"NOK6To2QBe"}],"key":"SSgyJ1HR10"},"references":{"cite":{"order":[],"data":{}}}}